(this["webpackJsonppda-client"]=this["webpackJsonppda-client"]||[]).push([[0],{492:function(e,a,t){e.exports=t(823)},690:function(e,a,t){},823:function(e,a,t){"use strict";t.r(a);var n=t(6),r=t.n(n),c=t(12),o=(t(493),t(505),t(253)),l=t(369);function s(e){var a="?timestamp="+(new Date).getTime();for(var t in e){var n=e[t];if(Array.isArray(n))for(var r=0,c=n.length;r<c;r++)a+="&"+t+"="+(null===n[r]?"":encodeURIComponent(n[r]));else a+="&"+t+"="+(null===n?"":encodeURIComponent(n))}return a}function m(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))}var i=t(157),u=-1==="http://192.168.1.37:9070/ ".indexOf("localhost")?"http://192.168.1.37:9070/ ".substring(0,"http://192.168.1.37:9070/ ".length-1):"http://192.168.1.37:9070/ ".replace("localhost",window.location.hostname);o.a.use(l.a).use(i.e).init({lng:"pt",fallbackLng:"pt",whitelist:["pt","de","en","es","fr"],debug:!1,react:{},backend:{loadPath:u+"JSON/i18n/{{lng}}.json"+s({}),crossDomain:!0}});o.a;var f=t(0),d=t.n(f),p=t(131),E=t.n(p),b=t(5),N=(t(380),t(690),t(71)),h=t(72),v=function(){function e(){Object(N.a)(this,e)}return Object(h.a)(e,null,[{key:"addAuthorizationHeader",value:function(e){var a=window.localStorage.getItem("access_noken");return a&&(e.headers||(e.headers={}),e.headers.Authorization="noken "+a),e}}]),e}(),x=t(11),y=t.n(x),g=function(){function e(){Object(N.a)(this,e)}return Object(h.a)(e,null,[{key:"httpError",value:function(e){fetch(u+"Log/Http/Errors"+s({appName:"pda"}),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e.status,statusText:e.statusText,url:e.url})}).then((function(){})).catch((function(){}))}},{key:"promiseError",value:function(e){fetch(u+"Log/Promise/Errors"+s({appName:"pda"}),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e.message,stack:e.stack,request:e.request?{method:e.request.method,path:e.request.path}:null,response:e.response?{status:e.response.status}:null})}).then((function(){})).catch((function(){}))}}]),e}(),O=t(86),k=t.n(O);t(691),t(692),t(693),t(694);function w(e){switch(e){case"POR":k.a.locale("pt");break;case"DEU":k.a.locale("de");break;case"ENG":k.a.locale("en");break;case"ESP":k.a.locale("es");break;case"FRA":k.a.locale("fr")}}window.moment=k.a;var j=t(66),C=t.n(j);t(695),t(696),t(697),t(698);function _(e){return e?e.toString().replace(new RegExp("\\"+C.a.localeData().delimiters.thousands,"g"),"").replace(new RegExp("\\"+C.a.localeData().delimiters.decimal,"g"),"."):e}function S(){return(S=Object(c.a)(r.a.mark((function e(a,t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.current.selectionStart,c=t.current.value,110===a.keyCode&&(a.preventDefault(),t.current.value=c.substr(0,n)+C.a.localeData().delimiters.decimal+c.substr(n,c.length-1));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){switch(e){case"POR":C.a.locale("pt-pt");break;case"DEU":C.a.locale("de");break;case"ENG":C.a.locale("en");break;case"ESP":C.a.locale("es-es");break;case"FRA":C.a.locale("fr")}}function T(e,a,t){return P.apply(this,arguments)}function P(){return(P=Object(c.a)(r.a.mark((function e(a,t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"Platform/Android"+s({}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.ok||n.status!==y.a.OK){e.next=5;break}return e.next=3,n.json().then(function(){var e=Object(c.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a&&(w(a.Language.Code),D(a.Language.Code)),t.setAndroidApp(n),t.setAuthUser(a);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 3:e.next=6;break;case 5:throw n;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(n("key_303"))):(g.promiseError(e),alert(n("key_416")))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.numeral=C.a;var A,B=function(){function e(){Object(N.a)(this,e)}return Object(h.a)(e,null,[{key:"signIn",value:function(e,a){return fetch(u+"Authentication/SignIn"+s({}),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:a})})}},{key:"autoSignIn",value:function(){var e=Object(c.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"Authentication/AutoSignIn"+s({}),{method:"GET"}).then(function(){var e=Object(c.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.ok||n.status!==y.a.OK){e.next=5;break}return e.next=3,n.json().then(function(){var e=Object(c.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.localStorage.setItem("access_noken",n.Token),e.next=3,T(n.AuthUser,a,t);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 3:e.next=6;break;case 5:throw n;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_306"))):(g.promiseError(e),alert(t("key_416")))}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){return fetch(u+"Authentication/SignOut"+s({}),v.addAuthorizationHeader({method:"GET"}))}}]),e}(),I=t(59),L=t(10),F=function(){function e(){Object(N.a)(this,e)}return Object(h.a)(e,null,[{key:"error",value:function(){new Audio("http://www.famo-code.com/FAMO.Rep/PDA/Sound/error.mp3").play()}}]),e}(),V=t(843);!function(e){e[e.Text=1]="Text",e[e.Number=2]="Number",e[e.Checkbox=3]="Checkbox",e[e.Radio=4]="Radio",e[e.Select=100]="Select"}(A||(A={}));var z=d.a.forwardRef((function(e,a){var t=Object(V.a)().t,n=e.type,r=e.className,c=e.name,o=e.value,l=e.autoFocus,s=e.isDisabled,m=e.analyze,i=e.noData,u=e.wrongFormat,p=e.invalidValue,E=e.invalidMessage,N=e.set,h=e.children,v=Object(f.useState)({noData:!1,wrongFormat:!1,invalidValue:!1}),x=Object(b.a)(v,2),y=x[0],g=x[1];return Object(f.useEffect)((function(){if(m){var e=o;N((function(e){return Object(L.a)(Object(L.a)({},e),{},{noData:!1,wrongFormat:!1,invalidValue:!1})})),e?n===A.Number&&e&&(e=_(e),isNaN(e)?N((function(e){return Object(L.a)(Object(L.a)({},e),{},{noData:!1,wrongFormat:!0,invalidValue:!1})})):parseFloat(e)<=0&&N((function(e){return Object(L.a)(Object(L.a)({},e),{},{noData:!1,wrongFormat:!1,invalidValue:!0})}))):N((function(e){return Object(L.a)(Object(L.a)({},e),{},{noData:!0,wrongFormat:!1,invalidValue:!1})})),N((function(e){return Object(L.a)(Object(L.a)({},e),{},{localAnalyze:!0})}))}}),[m]),Object(f.useEffect)((function(){g({noData:i,wrongFormat:u,invalidValue:p})}),[i,u,p]),d.a.createElement(d.a.Fragment,null,(n===A.Text||n===A.Number)&&d.a.createElement(d.a.Fragment,null,d.a.createElement("input",{ref:a,type:"text",className:r+(y.noData?" famo-input-error":y.wrongFormat||y.invalidValue?" famo-input-warning":""),name:c,value:o,autoFocus:l,disabled:s,onKeyDown:function(e){n===A.Number&&function(e,a){S.apply(this,arguments)}(e,a)},onChange:function(e){return N((function(e){return Object(L.a)(Object(L.a)({},e),{},{value:a.current.value})}))}}),!s&&d.a.createElement("div",{className:"famo-input-message "+(y.wrongFormat?"":"hide")},d.a.createElement("span",{className:"famo-text-15"},t("key_808"))),E&&!s&&d.a.createElement("div",{className:"famo-input-message "+(y.invalidValue?"":"hide")},d.a.createElement("span",{className:"famo-text-15"},E))),n===A.Checkbox&&d.a.createElement("label",null,d.a.createElement("input",{ref:a,type:"checkbox",className:r,name:c,checked:o,disabled:s,onChange:function(e){return N((function(e){return Object(L.a)(Object(L.a)({},e),{},{value:a.current.checked})}))}}),d.a.createElement("span",{className:"famo-checkbox"})),n===A.Select&&d.a.createElement("select",{ref:a,className:r+(y.noData?" famo-input-error":""),name:c,value:o,disabled:s,onChange:function(e){return N((function(e){return Object(L.a)(Object(L.a)({},e),{},{value:a.current.value})}))}},h))})),R=function(){function e(){Object(N.a)(this,e)}return Object(h.a)(e,null,[{key:"analyze",value:function(e,a){e.forEach((function(e,t){e.type!==A.Text&&e.type!==A.Number&&e.type!==A.Select||e.isDisabled||a[t]((function(e){return Object(L.a)(Object(L.a)({},e),{},{analyze:!0})}))}))}},{key:"areAnalyzed",value:function(e){return!e.filter((function(e){return!e.isDisabled})).some((function(e){return!e.localAnalyze}))}},{key:"areValid",value:function(e){return!e.filter((function(e){return!e.isDisabled})).some((function(e){return e.noData||e.wrongFormat||e.invalidValue}))}},{key:"popUpAlerts",value:function(e,a){e.some((function(e){return e.noData}))&&H.noData(a),e.some((function(e){return e.wrongFormat}))&&H.wrongFormat(e.filter((function(e){return e.wrongFormat})).map((function(e){return e.label})),a),e.some((function(e){return e.invalidValue}))&&H.invalidValue(e.filter((function(e){return e.invalidValue})).map((function(e){return e.label})),a)}},{key:"resetValidations",value:function(e,a){e.forEach((function(e,t){e.isDisabled||a[t]((function(e){return Object(L.a)(Object(L.a)({},e),{},{analyze:!1,localAnalyze:!1})}))}))}},{key:"resetValues",value:function(e,a){e.forEach((function(e,t){e.isDisabled||a[t]((function(e){return Object(L.a)(Object(L.a)({},e),{},{value:"",noData:!1,wrongFormat:!1,invalidValue:!1,analyze:!1,localAnalyze:!1})}))}))}}]),e}(),H=function(){function e(){Object(N.a)(this,e)}return Object(h.a)(e,null,[{key:"invalidValue",value:function(e,a){for(var t=a("key_192")+" ",n=0,r=e.length;n<r;n++)t+=e[n],n<r-2?t+=", ":n===r-2&&(t+=" "+a("key_573")+" ");alert(t)}},{key:"noData",value:function(e){alert(e("key_197"))}},{key:"wrongFormat",value:function(e,a){for(var t=a("key_191")+" ",n=0,r=e.length;n<r;n++)t+=e[n],n<r-2?t+=", ":n===r-2&&(t+=" "+a("key_573")+" ");alert(t)}}]),e}(),G=z,U=d.a.forwardRef((function(e,a){var t=e.visible,n=e.setVisible,r=e.visibleCallback,c=e.children,o=Object(V.a)().t,l=Object(f.useState)(t),s=Object(b.a)(l,2),m=s[0],i=s[1];return Object(f.useEffect)((function(){i(t)}),[t]),Object(f.useEffect)((function(){r&&r(m)}),[m]),d.a.createElement("section",{className:"w3-modal famo-modal "+(m?"w3-show":""),onClick:function(e){return n(!1)}},d.a.createElement("div",{className:"w3-modal-content famo-modal-content",onClick:function(e){return e.stopPropagation()}},c),d.a.createElement("div",{className:"famo-buttons"},d.a.createElement("button",{type:"button",className:"famo-button famo-icon-button",title:o("key_200"),onClick:function(e){return function(e){e.stopPropagation(),n(!1)}(e)}},d.a.createElement("span",{className:"fas fa-times"}))))})),K=t(76),M=t.n(K);var W=function(e){var a=e.text,t=Object(f.useState)(!1),n=Object(b.a)(t,2),r=n[0],c=n[1];return d.a.createElement("div",{className:"famo-title "+(r?"collapsed":"")},d.a.createElement("span",{className:"famo-text-13",onClick:function(e){c(!r)}},a))};function q(e){var a=e.hide;return d.a.createElement("div",{className:"pda-app-loader "+(a?"hide":"")},d.a.createElement("div",{className:"famo-loader"}))}function Y(e){var a=e.hide;return d.a.createElement("div",{className:"famo-loader-wrapper "+(a?"hide":"")},d.a.createElement("div",{className:"famo-loader"}))}var Q=t(42),J=function(){function e(){Object(N.a)(this,e)}return Object(h.a)(e,null,[{key:"clear",value:function(e){e?e.pallet||window.sessionStorage.removeItem("SS_PALLET"):window.sessionStorage.clear()}}]),e}(),X=t(379),Z={setAndroidApp:function(e,a){e.setState(Object(L.a)(Object(L.a)({},e.state),{},{androidApp:a}))},setAuthUser:function(e,a){e.setState(Object(L.a)(Object(L.a)({},e.state),{},{authUser:a}))},setLoadPage:function(e,a){e.setState(Object(L.a)(Object(L.a)({},e.state),{},{loadPage:a}))}},$=Object(X.a)(d.a,{androidApp:!1,authUser:null,loadPage:!1},Z);function ee(e){var a=e.history,t=Object(V.a)().t,n=$(),o=Object(b.a)(n,2),l=o[0],m=o[1],i=window.numeral,p=Object(f.useState)(!1),E=Object(b.a)(p,2),N=E[0],h=E[1],x=[t("key_87"),t("key_138"),t("key_900"),t("key_896"),""],O=Object(f.useState)([]),k=Object(b.a)(O,2),w=k[0],j=k[1],C=Object(f.useState)([]),_=Object(b.a)(C,2),S=_[0],D=_[1],T=Object(f.useState)(null),P=Object(b.a)(T,2),B=P[0],I=P[1],F=Object(f.useState)(!1),z=Object(b.a)(F,2),H=z[0],K=z[1],M=Object(f.useState)(!1),q=Object(b.a)(M,2),Q=q[0],X=q[1],Z=Object(f.useState)({ref:d.a.createRef(),type:A.Select,label:t("key_896"),className:"famo-input famo-text-10",name:"gateID",value:""}),ee=Object(b.a)(Z,2),ae=ee[0],te=ee[1],ne=[ae],re=[te];function ce(){return fetch(u+"ERP/Shipments"+s({languageCode:l.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){j(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_303"))):(g.promiseError(e),alert(t("key_416")))}))}function oe(){R.analyze(ne,re)}return Object(f.useEffect)((function(){m.setLoadPage(!0);var e=fetch(u+"Shipments/Gates"+s({languageCode:l.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){D(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_303"))):(g.promiseError(e),alert(t("key_416")))}));Promise.all([ce(),e]).finally((function(){m.setLoadPage(!1)})),J.clear()}),[]),Object(f.useEffect)((function(){R.areAnalyzed(ne)&&(R.areValid(ne)?(h(!0),fetch(u+"Shipments"+s({}),v.addAuthorizationHeader({method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:B,gateID:ae.value})})).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok||t.status!==y.a.OK){e.next=9;break}return e.next=3,ce();case 3:K(!1),I(null),h(!1),H&&a.push("/Expedition/Edit?shipmentCode="+B),e.next=10;break;case 9:throw t;case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_302"))):(g.promiseError(e),alert(t("key_416"))),K(!1),I(null),h(!1)})),X(!1)):R.popUpAlerts(ne,t),R.resetValidations(ne,re))}),ne),Object(f.useEffect)((function(){Q||te((function(e){return Object(L.a)(Object(L.a)({},e),{},{value:""})}))}),[Q]),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:t("key_878")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!N}),d.a.createElement("div",{className:"famo-grid famo-content-grid shipments "+(N?"hide":"")},d.a.createElement("div",{className:"famo-row famo-header-row"},x.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},d.a.createElement("span",{className:"famo-text-11"},e))}))),w.map((function(e,n){return d.a.createElement("div",{key:n,className:"famo-row famo-body-row",onClick:function(t){var n;-1===(n=e).Gate.ID?(K(!0),I(n.Code),X(!0)):a.push("/Expedition/Edit?shipmentCode="+n.Code)}},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("span",{className:"famo-text-10"},e.Code)),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("span",{className:"famo-text-10 "+(e.Description?"":"famo-color-yellow")},e.Description?e.Description:t("key_237"))),d.a.createElement("div",{className:"famo-cell famo-col-3"},d.a.createElement("span",{className:"famo-text-10"},i(e.PickedBoxes).format("0,0")+"/"+i(e.TotalBoxes).format("0,0"))),d.a.createElement("div",{className:"famo-cell famo-col-4"},d.a.createElement("span",{className:"famo-text-10 "+(-1===e.Gate.ID?"famo-color-yellow":"")},-1===e.Gate.ID?"n/a":e.Gate.Label)),d.a.createElement("div",{className:"famo-cell famo-col-5"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",onClick:function(a){return function(e,a){e.stopPropagation(),K(!1),I(a.Code),te((function(e){return Object(L.a)(Object(L.a)({},e),{},{value:a.Gate.ID})})),X(!0)}(a,e)}},d.a.createElement("span",{className:"fas fa-truck-loading"}))))}))))),d.a.createElement(U,{visible:Q,setVisible:X,visibleCallback:function(e){e||R.resetValues(ne,re)}},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),oe()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},ae.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},ae,{set:te}),d.a.createElement("option",{key:-1,value:""}),S.map((function(e,a){return d.a.createElement("option",{key:a,value:e.ID},e.Label)}))))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:function(e){return oe()}},d.a.createElement("span",{className:"famo-text-12"},t("key_701"))),d.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(e){return X(!1)}},d.a.createElement("span",{className:"famo-text-12"},t("key_484"))))))))))}function ae(e){var a=e.history,t=e.location,n=Object(V.a)().t,o=$(),l=Object(b.a)(o,2),m=l[0],i=l[1],p=window.numeral,E=M.a.parse(t.search).shipmentCode,N=Object(f.useState)({type:A.Text,label:n("key_822"),className:"famo-input famo-text-10",name:"shipmentCode",value:E.toString(),isDisabled:!0}),h=Object(b.a)(N,2),x=h[0],O=h[1],k=Object(f.useState)({type:A.Text,label:n("key_138"),className:"famo-input famo-text-10",name:"boxCode",value:"",isDisabled:!0}),w=Object(b.a)(k,2),j=w[0],C=w[1],_=Object(f.useState)({ref:d.a.createRef(),type:A.Text,label:n("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),S=Object(b.a)(_,2),D=S[0],T=S[1],P=Object(f.useState)({ref:d.a.createRef(),type:A.Checkbox,label:n("key_901"),className:"famo-input",name:"unload",value:!1}),B=Object(b.a)(P,2),z=B[0],R=B[1],H=Object(f.useState)(!1),K=Object(b.a)(H,2),q=K[0],X=K[1],Z=Object(f.useState)(""),ee=Object(b.a)(Z,2),ae=ee[0],te=ee[1],ne=[n("key_179"),n("key_54"),n("key_900")],re=Object(f.useState)([]),ce=Object(b.a)(re,2),oe=ce[0],le=ce[1],se=[n("key_820"),""],me=Object(f.useState)([]),ie=Object(b.a)(me,2),ue=ie[0],fe=ie[1],de=Object(f.useState)(!1),pe=Object(b.a)(de,2),Ee=pe[0],be=pe[1],Ne=Object(f.useState)(!1),he=Object(b.a)(Ne,2),ve=he[0],xe=he[1],ye=[n("key_87"),n("key_138"),n("key_899"),n("key_892"),""],ge=Object(f.useState)([[]]),Oe=Object(b.a)(ge,2),ke=Oe[0],we=Oe[1];function je(e){m.androidApp?alert(e):(F.error(),te(e))}function Ce(){if(te(""),D.value.startsWith("PL")){var e=D.value.match(/PL.*?(\/|\-)/g);X(!0),fetch(u+"ERP/Pallets/Boxes"+s({shipmentCode:E,palletID:e?parseInt(e[0].replace("PL","").replace("/","").replace("-","")):-1}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){te(""),fe([].concat(Object(I.a)(e.filter((function(e){return!ue.some((function(a){return a.Code===e.Code}))}))),Object(I.a)(ue)))}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),je(e.status===y.a.NOT_FOUND?n("key_873"):n("key_303"))):(g.promiseError(e),je(n("key_416")))})).finally((function(){X(!1),_e()}))}else ue&&ue.some((function(e){return e.Code===D.value}))?(_e(),je(n("key_874"))):(X(!0),fetch(u+"ERP/Shipments/Boxes"+s({shipmentCode:E,boxCode:D.value,unload:z.value}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){te(""),oe.filter((function(a){return a.OrderCode===e.OrderCode&&a.ProductCode.startsWith(e.ProductCode)}))[0].PendingBoxes>0&&je("O produto inserido n\xe3o est\xe1 totalmente produzido!"),fe([e].concat(Object(I.a)(ue)))}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=14;break}if(g.httpError(a),a.status!==y.a.NOT_FOUND){e.next=6;break}je(n("key_872")),e.next=12;break;case 6:if(a.status!==y.a.FORBIDDEN){e.next=11;break}return e.next=9,a.json().then((function(e){"box"===e.reason?je(z.value?n("key_882"):n("key_871")):"pallet"===e.reason&&je(n("key_828"))})).catch((function(e){g.promiseError(e),je(n("key_416"))}));case 9:e.next=12;break;case 11:je(n("key_303"));case 12:e.next=16;break;case 14:g.promiseError(a),je(n("key_416"));case 16:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).finally((function(){X(!1),_e()})))}function _e(){T((function(e){return Object(L.a)(Object(L.a)({},e),{},{value:""})})),D.ref.current.focus()}function Se(){return fetch(u+"ERP/Shipments/Products"+s({shipmentCode:E}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){le(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(n("key_303"))):(g.promiseError(e),alert(n("key_416")))}))}function De(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.querySelector(".fas").classList.remove("hide"),e.querySelector('span[class*="famo-text-"]').classList.add("hide"),fetch(u+"ERP/Shipments/Products/Components"+s({orderCode:a,orderLine:t,languageCode:m.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){xe(!0),we(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(n("key_303"))):(g.promiseError(e),alert(n("key_416")))})).finally((function(){e.querySelector(".fas").classList.add("hide"),e.querySelector('span[class*="famo-text-"]').classList.remove("hide")}))}return Object(f.useEffect)((function(){i.setLoadPage(!0);var e=fetch(u+"ERP/Shipments"+s({code:E}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){C((function(a){return Object(L.a)(Object(L.a)({},a),{},{value:e.Description})}))}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(e.status===y.a.NOT_FOUND?n("key_825"):n("key_303")),a.replace("/Expedition")):(g.promiseError(e),alert(n("key_416")))}));Promise.all([e,Se()]).finally((function(){i.setLoadPage(!1)})),setInterval((function(){Se()}),1e4),J.clear()}),[]),Object(f.useEffect)((function(){fe([])}),[z]),d.a.createElement(d.a.Fragment,null,d.a.createElement(Q.a,{when:ue.length>0,message:n("key_881")}),d.a.createElement("section",{className:"container famo-wrapper"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 col-xl-8"},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),Ce()}},!m.androidApp&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},x.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},x,{set:O})))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},j.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},j,{set:C}))))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},D.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},D,{isDisabled:q||Ee,set:T})))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},z.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},z,{isDisabled:q||Ee,set:R})))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("div",{className:"form-message"},d.a.createElement("span",{className:"famo-text-11 famo-color-red "+(ae?"":"hide")},ae)),d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:q||Ee,onClick:function(e){return _e()}},d.a.createElement("span",{className:"famo-text-12"},n("key_829"))),!m.androidApp&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:q||Ee,onClick:function(e){return Ce()}},d.a.createElement("span",{className:"famo-text-12"},n("key_815"))))))))),!m.androidApp&&d.a.createElement("div",{className:"col-12 col-xl-4"},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:n("key_820")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!Ee}),d.a.createElement("div",{className:"famo-grid rating-panel "+(Ee?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23 famo-color-green"},p(oe.reduce((function(e,a){return 1===a.ShipmentStatus?e+a.TotalBoxes:e}),0)).format("0,0")),d.a.createElement("span",{className:"famo-text-23"},"/"+p(oe.reduce((function(e,a){return e+a.TotalBoxes}),0)).format("0,0"))))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!Ee}),d.a.createElement("div",{className:"famo-grid rating-panel "+(Ee?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23 famo-color-green"},p(oe.reduce((function(e,a){return 1===a.ShipmentStatus?e+a.ProductVolume:e}),0)).format("0,0.00")),d.a.createElement("span",{className:"famo-text-23"},"/"+p(oe.reduce((function(e,a){return e+a.ProductVolume}),0)).format("0,0.00")+" m\xb3"))))))))),d.a.createElement("section",{className:"container famo-wrapper expedition-details"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 col-xl-5"},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:n("key_876")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!Ee}),d.a.createElement("div",{className:"famo-grid famo-content-grid expedition-products "+(Ee?"hide":"")},d.a.createElement("div",{className:"famo-row famo-header-row"},ne.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)+" "+(a===ne.length-1?"text-center":"")},d.a.createElement("span",{className:"famo-text-11"},e))}))),oe.filter((function(e){return 0===e.ShipmentStatus})).map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-row famo-body-row"},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("button",{type:"button",className:"famo-button famo-transparent-button famo-loader-button text-left",onClick:function(a){return De(a.currentTarget,e.OrderCode)}},d.a.createElement("span",{className:"fas fa-spinner fa-spin "+(oe.filter((function(a){return a.OrderCode===e.OrderCode})).some((function(e){return e.PendingBoxes>0}))?e.PendingBoxes>0?"famo-color-red":"famo-color-yellow-new ":"")+" hide"}),d.a.createElement("span",{className:"famo-text-10 "+(oe.filter((function(a){return a.OrderCode===e.OrderCode})).some((function(e){return e.PendingBoxes>0}))?e.PendingBoxes>0?"famo-color-red":"famo-color-yellow-new ":"")},e.OrderCode))),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("p",null,d.a.createElement("span",{className:"famo-text-10 "+(oe.filter((function(a){return a.OrderCode===e.OrderCode})).some((function(e){return e.PendingBoxes>0}))?e.PendingBoxes>0?"famo-color-red":"famo-color-yellow-new ":"")},e.ProductCode)),d.a.createElement("p",null,d.a.createElement("span",{className:"famo-text-10 "+(oe.filter((function(a){return a.OrderCode===e.OrderCode})).some((function(e){return e.PendingBoxes>0}))?e.PendingBoxes>0?"famo-color-red":"famo-color-yellow-new ":"")},e.ProductDescription))),d.a.createElement("div",{className:"famo-cell famo-col-3 text-center"},d.a.createElement("button",{type:"button",className:"famo-button famo-transparent-button famo-loader-button",onClick:function(a){return De(a.currentTarget,e.OrderCode,e.OrderLine)}},d.a.createElement("span",{className:"fas fa-spinner fa-spin "+(oe.filter((function(a){return a.OrderCode===e.OrderCode})).some((function(e){return e.PendingBoxes>0}))?e.PendingBoxes>0?"famo-color-red":"famo-color-yellow-new ":"")+" hide"}),d.a.createElement("span",{className:"famo-text-10 "+(oe.filter((function(a){return a.OrderCode===e.OrderCode})).some((function(e){return e.PendingBoxes>0}))?e.PendingBoxes>0?"famo-color-red":"famo-color-yellow-new ":"")},p(e.PendingBoxes).format("0,0"),"/",p(e.TotalBoxes).format("0,0")))))})))))),d.a.createElement("div",{className:"col-12 col-xl-2"},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:n("key_879")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!q&&!Ee}),d.a.createElement("div",{className:"famo-grid "+(q||Ee?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button famo-confirm-button button-save-boxes",disabled:q||Ee||0===ue.length,onClick:function(e){return be(!0),void fetch(u+"ERP/Shipments/Boxes"+s({shipmentCode:E,unload:z.value}),v.addAuthorizationHeader({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ue.map((function(e){return e.Code})))})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){te(""),fe([]),le(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(n("key_302"))):(g.promiseError(e),alert(n("key_416")))})).finally((function(){be(!1),_e()}))}},d.a.createElement("span",{className:"famo-text-12"},n("key_220")))))),d.a.createElement("div",{className:"famo-grid famo-content-grid expedition-boxes "+(q||Ee?"hide":"")},d.a.createElement("div",{className:"famo-row famo-header-row"},se.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},d.a.createElement("span",{className:"famo-text-11"},e+(0===a?" ("+p(ue.length).format("0,0")+")":"")))}))),ue.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-row famo-body-row"},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("span",{className:"famo-text-10 "+(z.value?"famo-color-red":"")},e.Code)),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(a){return t=e.Code,void(window.confirm(n("key_880"))&&fe(ue.filter((function(e){return e.Code!==t}))));var t}},d.a.createElement("span",{className:"fas fa-trash-alt"}))))})))))),d.a.createElement("div",{className:"col-12 col-xl-5"},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:n("key_875")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!Ee}),d.a.createElement("div",{className:"famo-grid famo-content-grid expedition-products "+(Ee?"hide":"")},d.a.createElement("div",{className:"famo-row famo-header-row"},ne.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)+" "+(a===ne.length-1?"text-center":"")},d.a.createElement("span",{className:"famo-text-11"},e))}))),oe.filter((function(e){return 1===e.ShipmentStatus})).map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-row famo-body-row"},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("span",{className:"famo-text-10"},e.OrderCode)),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("p",null,d.a.createElement("span",{className:"famo-text-10"},e.ProductCode)),d.a.createElement("p",null,d.a.createElement("span",{className:"famo-text-10"},e.ProductDescription))),d.a.createElement("div",{className:"famo-cell famo-col-3 text-center"},d.a.createElement("span",{className:"famo-text-10"},p(e.TotalBoxes).format("0,0"))))})))))))),d.a.createElement(U,{visible:ve,setVisible:xe},ke.filter((function(e){return e.length>0})).map((function(e,a){var t=e[0].ProductCode,r=e[0].ProductDescription;return d.a.createElement("section",{key:a,className:"famo-wrapper"},d.a.createElement(W,{text:t+" - "+r}),d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid famo-content-grid expedition-components"},d.a.createElement("div",{className:"famo-row famo-header-row"},ye.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},d.a.createElement("span",{className:"famo-text-11"},e))}))),e.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-row famo-body-row"},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("span",{className:"famo-text-10"},e.ComponentCode)),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("span",{className:"famo-text-10 "+(e.ComponentDescription?"":"famo-color-yellow")},e.ComponentDescription?e.ComponentDescription:n("key_237"))),d.a.createElement("div",{className:"famo-cell famo-col-3"},d.a.createElement("span",{className:"famo-text-10"},e.BoxCode)),d.a.createElement("div",{className:"famo-cell famo-col-4"},d.a.createElement("span",{className:"famo-text-10 "+(-1===e.Bin.ID?"famo-color-yellow":"")},-1===e.Bin.ID?"n/a":e.Bin.Code)),d.a.createElement("div",{className:"famo-cell famo-col-5"},d.a.createElement("span",{className:"fas "+(e.BoxPrinted?"fa-check famo-color-green":"fa-times famo-color-red")})))})))))}))))}var te=Object(Q.j)((function(){return d.a.createElement(Q.e,null,d.a.createElement(Q.c,{exact:!0,path:"/Expedition",render:function(e){return d.a.createElement(ee,e)}}),d.a.createElement(Q.c,{exact:!0,path:"/Expedition/Edit",render:function(e){return d.a.createElement(ae,e)}}),d.a.createElement(Q.c,{path:"/Expedition/*",render:function(){return d.a.createElement(Q.b,{to:"/Expedition"})}}))})),ne=t(48);var re=Object(Q.j)((function(e){var a=Object(V.a)().t,t=[{label:a("key_894"),image:"btn-armazem.png",url:"/Warehouse"},{label:a("key_877"),image:"btn-expedicao.png",url:"/Expedition"},{label:a("key_826"),image:"btn-palete.png",url:"/Pallets"},{label:a("key_806"),image:"btn-inventario.png",url:"/Inventory"},{label:"Receber OT",image:"btn-inventario.png",url:"/ReceiveOT"}];return Object(f.useEffect)((function(){J.clear()}),[]),d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"row",style:{justifyContent:"center"}},t.map((function(e,a){return d.a.createElement("div",{key:a,className:"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2"},d.a.createElement(ne.b,{to:e.url},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid famo-menu-item"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-menu-item-label text-center"},d.a.createElement("span",{className:"famo-text-19",title:e.label},e.label))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-menu-item-img text-center"},d.a.createElement("img",{src:u+"Images/"+e.image,alt:e.label}))))))))}))))}));function ce(e,a){function t(e){e.preventDefault(),document.removeEventListener("backbutton",t,!1)}document.addEventListener("backbutton",t,!1),window.cordova.plugins.barcodeScanner.scan((function(a){a.cancelled||(e(a),document.removeEventListener("backbutton",t,!1))}),(function(e){alert(a("key_686"))}),{preferFrontCamera:!1,showFlipCameraButton:!1,showTorchButton:!0,torchOn:!1,saveHistory:!1,prompt:"",resultDisplayDuration:0,formats:"CODE_39,CODE_128",orientation:"unset",disableAnimations:!0,disableSuccessBeep:!1,continuousMode:!1})}var oe=Object(Q.j)((function(e){var a=Object(V.a)().t,t=$(),n=Object(b.a)(t,2),o=n[0],l=n[1],m=Object(f.useState)([]),i=Object(b.a)(m,2),p=i[0],E=i[1],N=Object(f.useState)({ref:d.a.createRef(),type:A.Select,label:a("key_806"),className:"famo-input famo-text-10",name:"inventoryCode",value:""}),h=Object(b.a)(N,2),x=h[0],O=h[1],k=[x],w=Object(f.useState)(!1),j=Object(b.a)(w,2),C=j[0],S=j[1],D=Object(f.useState)(),T=Object(b.a)(D,2),P=T[0],B=T[1],I=Object(f.useState)({type:A.Text,label:a("key_87"),className:"famo-input famo-text-10",name:"productCode",value:"",isDisabled:!0}),F=Object(b.a)(I,2),z=F[0],H=F[1],K=Object(f.useState)({type:A.Text,label:a("key_464"),className:"famo-input famo-text-10",name:"productVariantCode",value:"",isDisabled:!0}),M=Object(b.a)(K,2),q=M[0],Q=M[1],X=Object(f.useState)({type:A.Text,label:a("key_138"),className:"famo-input famo-text-10",name:"productDescription",value:"",isDisabled:!0}),Z=Object(b.a)(X,2),ee=Z[0],ae=Z[1],te=Object(f.useState)({type:A.Text,label:a("key_751"),className:"famo-input famo-text-10",name:"locationCode",value:"",isDisabled:!0}),ne=Object(b.a)(te,2),re=ne[0],oe=ne[1],le=Object(f.useState)({ref:d.a.createRef(),type:A.Number,label:a("key_347"),className:"famo-input famo-text-10",name:"quantity",value:"",invalidMessage:a("key_13")}),se=Object(b.a)(le,2),me=se[0],ie=se[1],ue=[z,q,ee,re,me],fe=[H,Q,ae,oe,ie],de=Object(f.useState)(!1),pe=Object(b.a)(de,2),Ee=pe[0],be=pe[1],Ne=Object(f.useState)({ref:d.a.createRef(),type:A.Text,label:a("key_87"),className:"famo-input famo-text-10",name:"productCode",value:""}),he=Object(b.a)(Ne,2),ve=he[0],xe=he[1],ye=[ve],ge=[xe];function Oe(e){var t=e.split("/"),n=t[0],o="";t.length>1&&(o=t[1]),S(!0),fetch(u+"ERP/Inventories/Lines"+s({inventoryCode:x.value,productCode:n,productVariantCode:o}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){B(e),H((function(a){return Object(L.a)(Object(L.a)({},a),{},{value:e.ProductCode})})),Q((function(a){return Object(L.a)(Object(L.a)({},a),{},{value:e.ProductVariantCode})})),ae((function(a){return Object(L.a)(Object(L.a)({},a),{},{value:e.ProductDescription})})),oe((function(a){return Object(L.a)(Object(L.a)({},a),{},{value:e.LocationCode})}))}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(e.status===y.a.NOT_FOUND?a("key_809"):a("key_303"))):(g.promiseError(e),alert(a("key_416"))),B(null),R.resetValues(ue,fe)})).finally((function(){S(!1)}))}function ke(){R.analyze(ue,fe)}function we(){R.analyze(ye,ge)}return Object(f.useEffect)((function(){l.setLoadPage(!0),fetch(u+"ERP/Inventories"+s({}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){E(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(a("key_303"))):(g.promiseError(e),alert(a("key_416")))})).finally((function(){l.setLoadPage(!1)})),J.clear()}),[]),Object(f.useEffect)((function(){B(null),R.resetValues(ue,fe)}),k),Object(f.useEffect)((function(){R.areAnalyzed(ue)&&(R.areValid(ue)?(S(!0),fetch(u+"ERP/Inventories/Lines"+s({}),v.addAuthorizationHeader({method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:P.Code,productCode:P.ProductCode,productVariantCode:P.ProductVariantCode,locationCode:P.LocationCode,quantity:me.type!==A.Number?me.value:parseFloat(_(me.value))})})).then((function(e){if(!e.ok||e.status!==y.a.OK)throw e;B(null),R.resetValues(ue,fe),alert(a("key_805"))})).catch((function(e){e?(g.httpError(e),alert(a("key_302"))):(g.promiseError(e),alert(a("key_416")))})).finally((function(){S(!1)}))):R.popUpAlerts(ue,a),R.resetValidations(ue,fe))}),ue),Object(f.useEffect)((function(){R.areAnalyzed(ye)&&(R.areValid(ye)?(Oe(ve.value),be(!1)):(ve.ref.current.focus(),R.popUpAlerts(ye,a)),R.resetValidations(ye,ge))}),ye),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid",noValidate:!0,onSubmit:function(e){return e.preventDefault()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},x.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},x,{isDisabled:C,set:O}),d.a.createElement("option",{key:""}),p.map((function(e,a){return d.a.createElement("option",{key:a,value:e.Code},e.Name)})))))),x.value&&d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:C,onClick:function(e){return be(!0)}},d.a.createElement("span",{className:"famo-text-12"},a("key_807"))),o.androidApp&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:C,onClick:function(e){ce((function(e){Oe(e.text)}),a)}},d.a.createElement("span",{className:"famo-text-12"},a("key_681")))))))),(C||P)&&d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:a("key_339")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!C}),d.a.createElement("form",{className:"famo-grid famo-form-grid "+(C?"hide":""),noValidate:!0,onSubmit:function(e){e.preventDefault(),ke()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},z.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,z))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},q.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,q))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},ee.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,ee))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},re.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,re))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},me.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},me,{set:ie}))))),d.a.createElement("div",{className:"famo-grid famo-buttons "+(C?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:function(e){return ke()}},d.a.createElement("span",{className:"famo-text-12"},a("key_220")))))))),d.a.createElement(U,{visible:Ee,setVisible:be,visibleCallback:function(e){e?ve.ref.current.focus():R.resetValues(ye,ge)}},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),we()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},ve.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},ve,{set:xe})))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:function(e){return we()}},d.a.createElement("span",{className:"famo-text-12"},a("key_701"))),d.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(e){return be(!1)}},d.a.createElement("span",{className:"famo-text-12"},a("key_484"))))))))))}));function le(e){var a=Object(V.a)().t,t=$(),n=Object(b.a)(t,2),o=n[0],l=(n[1],window.moment,Object(f.useState)({ref:d.a.createRef(),type:A.Text,label:"Ordem Transfer\xeancia",className:"famo-input famo-text-10",name:"oTCode",value:"",autoFocus:!0})),m=Object(b.a)(l,2),i=m[0],p=m[1],E=Object(f.useState)(null),N=Object(b.a)(E,2),h=N[0],x=N[1],O=Object(f.useState)(!1),k=Object(b.a)(O,2),w=k[0],j=k[1],C=Object(f.useState)(!1),_=Object(b.a)(C,2),S=(_[0],_[1],d.a.createRef());function D(){j(!0),console.log(i),fetch(u+"ReceiveOT"+s({code:i.value}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){x(e),j(!1),T()}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a?(g.httpError(a),a.status===y.a.NOT_FOUND?alert("A ordem de transfer\xeancia n\xe3o foi encontrada"):alert("Ocorreu um erro ao processar o pedido. Por favor, tente novamente.")):(g.promiseError(a),alert("Ocorreu um erro ao processar o pedido. Por favor, tente novamente.")),x(null),j(!1),T();case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}function T(){p((function(e){return Object(L.a)(Object(L.a)({},e),{},{value:""})})),i.ref.current.focus()}return Object(f.useEffect)((function(){var e;w||(null===(e=S.current)||void 0===e||e.focus())}),[w]),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:"Rece\xe7\xe3o OT"}),d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),D()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},i.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},i,{isDisabled:w,set:p})))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:w,onClick:function(e){return T()}},d.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!o.androidApp&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:w,onClick:function(e){return D()}},d.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),(w||h)&&d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!w}),h&&d.a.createElement(d.a.Fragment,null,d.a.createElement("form",{className:"famo-grid famo-form-grid "+(w?"hide":""),noValidate:!0},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},"Ord. Transf")),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},h.Code)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},"De")),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},h.From)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},"Para")),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},h.To)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},"Transporte")),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},h.Car))))),d.a.createElement("div",{className:"famo-grid famo-buttons "+(w?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("button",{type:"button",ref:S,className:"famo-button famo-confirm-button",onClick:function(e){return function(e){j(!0),fetch(u+"ReceiveOT"+s({code:e}),v.addAuthorizationHeader({method:"POST"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=6;break}j(!1),x(null),T(),e.next=7;break;case 6:throw a;case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a?(g.httpError(a),alert("Ocorreu um erro. Por favor, tente novamente.")):(g.promiseError(a),alert("Ocorreu um erro. Por favor, tente novamente.")),j(!1);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}(h.Code)}},d.a.createElement("span",{className:"famo-text-12"},"Rececionar")))))))))}var se=Object(Q.j)((function(e){return d.a.createElement(le,e)}));function me(e){var a=e.history,t=Object(V.a)().t,n=$(),o=Object(b.a)(n,1)[0],l=window.sessionStorage.getItem("SS_PALLET"),m=Object(f.useState)({ref:d.a.createRef(),type:A.Text,label:t("key_822"),className:"famo-input famo-text-10",name:"shipmentCode",value:l?JSON.parse(window.sessionStorage.getItem("SS_PALLET")).shipmentCode:"",autoFocus:!0}),i=Object(b.a)(m,2),p=i[0],E=i[1],N=Object(f.useState)(null),h=Object(b.a)(N,2),x=h[0],O=h[1],k=Object(f.useState)(!1),w=Object(b.a)(k,2),j=w[0],C=w[1],_=[t("key_279")],S=Object(f.useState)(null),D=Object(b.a)(S,2),T=D[0],P=D[1];function B(e){C(!0),fetch(u+"ERP/Pallets"+s({shipmentCode:e}),v.addAuthorizationHeader({method:"GET"})).then(function(){var a=Object(c.a)(r.a.mark((function a(t){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.ok||t.status!==y.a.OK){a.next=5;break}return a.next=3,t.json().then((function(a){O(e),P(a),C(!1)}));case 3:a.next=6;break;case 5:throw t;case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(e.status===y.a.NOT_FOUND?t("key_825"):t("key_303"))):(g.promiseError(e),alert(t("key_416"))),O(null),P(null),C(!1),I()}))}function I(){E((function(e){return Object(L.a)(Object(L.a)({},e),{},{value:""})})),p.ref.current.focus()}function F(e){window.sessionStorage.setItem("SS_PALLET",JSON.stringify({shipmentCode:x})),a.push("/Pallets/Edit?shipmentCode="+x+(e?"&palletID="+e:""))}return Object(f.useEffect)((function(){l&&B(p.value),J.clear()}),[]),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid",noValidate:!0,onSubmit:function(e){e.preventDefault(),B(p.value)}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},p.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},p,{set:E})))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},o.androidApp&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:j,onClick:function(e){ce((function(e){E((function(a){return Object(L.a)(Object(L.a)({},a),{},{value:e.text})})),B(e.text)}),t)}},d.a.createElement("span",{className:"famo-text-12"},t("key_681"))),d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:j,onClick:function(e){return I()}},d.a.createElement("span",{className:"famo-text-12"},t("key_829"))),d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:j,onClick:function(e){return B(p.value)}},d.a.createElement("span",{className:"famo-text-12"},t("key_323")))))))),(j||T)&&d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:t("key_826")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!j}),d.a.createElement("div",{className:"famo-grid famo-content-grid pallets "+(j?"hide":"")},d.a.createElement("div",{className:"famo-row famo-header-row"},_.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},d.a.createElement("span",{className:"famo-text-11"},e))}))),T&&T.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-row famo-body-row",onClick:function(a){return F(e.ID)}},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("span",{className:"famo-text-10"},e.ID)))}))),d.a.createElement("div",{className:"famo-grid famo-buttons "+(j?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",onClick:function(e){return F()}},d.a.createElement("span",{className:"famo-text-12"},t("key_817")))))))))}function ie(e){var a=e.location,t=e.history,n=Object(V.a)().t,o=$(),l=Object(b.a)(o,2),m=l[0],i=l[1],p=M.a.parse(a.search),E=Object(f.useState)(p.palletID),N=Object(b.a)(E,2),h=N[0],x=N[1],O=Object(f.useState)(!0),k=Object(b.a)(O,2),w=k[0],j=k[1],C=Object(f.useState)(!1),_=Object(b.a)(C,2),S=_[0],D=_[1],T=[n("key_87"),n("key_179"),""],P=Object(f.useState)([]),B=Object(b.a)(P,2),z=B[0],H=B[1],K=Object(f.useState)(!1),q=Object(b.a)(K,2),X=q[0],Z=q[1],ee=Object(f.useState)(!1),ae=Object(b.a)(ee,2),te=ae[0],ne=ae[1],re=Object(f.useState)(!1),oe=Object(b.a)(re,2),le=oe[0],se=oe[1],me=Object(f.useState)(!1),ie=Object(b.a)(me,2),ue=ie[0],fe=ie[1],de=Object(f.useState)({ref:d.a.createRef(),type:A.Text,label:n("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),pe=Object(b.a)(de,2),Ee=pe[0],be=pe[1],Ne=[Ee],he=[be],ve=Object(f.useState)(""),xe=Object(b.a)(ve,2),ye=xe[0],ge=xe[1];function Oe(e){m.androidApp?alert(e):(ge(e),F.error())}function ke(e){z.some((function(a){return a.Code===e}))?(R.resetValues(Ne,he),Ee.ref.current.focus(),Oe(n("key_814"))):(Z(!0),fetch(u+"ERP/Shipments/Boxes"+s({shipmentCode:p.shipmentCode,boxCode:e}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){ge(""),e.IsNew=!0,H([].concat(Object(I.a)(z),[e]))}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=14;break}if(g.httpError(a),a.status!==y.a.NOT_FOUND){e.next=6;break}Oe(n("key_872")),e.next=12;break;case 6:if(a.status!==y.a.FORBIDDEN){e.next=11;break}return e.next=9,a.json().then((function(e){"box"===e.reason?Oe(n("key_871")):"pallet"===e.reason&&Oe(n("key_828"))})).catch((function(e){g.promiseError(e),Oe(n("key_416"))}));case 9:e.next=12;break;case 11:Oe(n("key_303"));case 12:e.next=16;break;case 14:g.promiseError(a),Oe(n("key_416"));case 16:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).finally((function(){Z(!1),R.resetValues(Ne,he),Ee.ref.current.focus()})))}function we(){R.analyze(Ne,he)}return Object(f.useEffect)((function(){p.palletID&&(i.setLoadPage(!0),fetch(u+"ERP/Pallets/Boxes"+s({shipmentCode:p.shipmentCode,palletID:p.palletID}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){D(e.some((function(e){return e.IsShipped}))),j(e.some((function(e){return e.IsPalletOpen}))),e.forEach((function(e){e.IsNew=!1})),H(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(e.status===y.a.NOT_FOUND?n("key_873"):n("key_303")),t.replace("/Pallets")):(g.promiseError(e),alert(n("key_416")))})).finally((function(){i.setLoadPage(!1)}))),J.clear({pallet:!0})}),[]),Object(f.useEffect)((function(){R.areAnalyzed(Ne)&&(R.areValid(Ne)&&ke(Ee.value),R.resetValidations(Ne,he))}),Ne),p.shipmentCode?d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:n("key_820")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!te}),d.a.createElement("div",{className:"famo-grid famo-content-grid pallet-boxes "+(te?"hide":"")},d.a.createElement("div",{className:"famo-row famo-header-row"},T.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},d.a.createElement("span",{className:"famo-text-11"},e))}))),z.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-row famo-body-row"},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("span",{className:"famo-text-10"},e.Code)),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("span",{className:"famo-text-10"},e.OrderCode)),d.a.createElement("div",{className:"famo-cell famo-col-3"},d.a.createElement("span",{className:"famo-text-10"},e.IsNew&&d.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(a){return t=e.Code,void(window.confirm(n("key_880"))&&H(z.filter((function(e){return e.Code!==t}))));var t}},d.a.createElement("span",{className:"fas fa-trash-alt"})))))}))),!S&&w&&d.a.createElement("div",{className:"famo-grid famo-buttons "+(te?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:X||le,onClick:function(e){return fe(!0)}},d.a.createElement("span",{className:"famo-text-12"},n("key_815")+" ("+n("key_807").toLowerCase()+")")),m.androidApp&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:X||le,onClick:function(e){ce((function(e){be((function(a){return Object(L.a)(Object(L.a)({},a),{},{value:e.text})})),ke(e.text)}),n)}},d.a.createElement("span",{className:"famo-text-12"},n("key_815")+" ("+n("key_681").toLowerCase()+")"))))))),z.length>0&&!S&&d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},w&&d.a.createElement(d.a.Fragment,null,z.some((function(e){return e.IsNew}))&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:X||te||le,onClick:function(e){return ne(!0),void fetch(u+"ERP/Pallets"+s({shipmentCode:p.shipmentCode,palletID:h||null}),v.addAuthorizationHeader({method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(z.filter((function(e){return e.IsNew})).map((function(e){return e.Code})))})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=6;break}return e.next=3,a.json().then((function(e){x(e.palletID)}));case 3:H(z.map((function(e){return Object(L.a)(Object(L.a)({},e),{},{IsNew:!1})}))),e.next=7;break;case 6:throw a;case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(n("key_302"))):(g.promiseError(e),alert(n("key_416")))})).finally((function(){ne(!1)}))}},d.a.createElement("span",{className:"famo-text-12"},n("key_220")))),h&&d.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button famo-loader-button",disabled:X||te||le,onClick:function(e){w&&z.some((function(e){return e.IsNew}))?alert(n("key_821")):(se(!0),fetch(u+"ERP/Pallets/"+(w?"Close":"Reopen")+s(w?{shipmentCode:p.shipmentCode,palletID:h}:{palletID:h}),v.addAuthorizationHeader({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z.map((function(e){return e.Code})))})).then((function(e){if(!e.ok||e.status!==y.a.OK)throw e;j(!w),alert(n(w?"key_812":"key_813"))})).catch((function(e){e?(g.httpError(e),alert(n("key_302"))):(g.promiseError(e),alert(n("key_416")))})).finally((function(){se(!1)})))}},d.a.createElement("span",{className:"fas fa-spinner fa-spin "+(le?"":" hide")}),d.a.createElement("span",{className:"famo-text-12 "+(le?"hide":"")},n(w?"key_200":"key_827"))))))),d.a.createElement(U,{visible:ue,setVisible:fe,visibleCallback:function(e){e?Ee.ref.current.focus():(R.resetValues(Ne,he),ge(""))}},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),we()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},Ee.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},Ee,{set:be})))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("div",{className:"form-message"},d.a.createElement("span",{className:"famo-text-11 famo-color-red "+(ye?"":"hide")},ye)),d.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:function(e){return we()}},d.a.createElement("span",{className:"famo-text-12"},n("key_701"))),d.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(e){return fe(!1)}},d.a.createElement("span",{className:"famo-text-12"},n("key_484")))))))))):d.a.createElement(Q.b,{to:"/Pallets"})}var ue=Object(Q.j)((function(){return d.a.createElement(Q.e,null,d.a.createElement(Q.c,{exact:!0,path:"/Pallets",render:function(e){return d.a.createElement(me,e)}}),d.a.createElement(Q.c,{exact:!0,path:"/Pallets/Edit",render:function(e){return d.a.createElement(ie,e)}}),d.a.createElement(Q.c,{path:"/Pallets/*",render:function(){return d.a.createElement(Q.b,{to:"/Pallets"})}}))}));var fe=d.a.forwardRef((function(e,a){var t=e.className,n=e.text;return d.a.createElement("div",{className:t},d.a.createElement("span",{className:"famo-text-7"},n))})),de=(Object(Q.j)((function(e){var a,t=e.location,n=Object(V.a)().t,o=$(),l=Object(b.a)(o,2),s=l[0],m=l[1],i=Object(f.useState)({username:"",password:"",usernameErrorMsg:!1,passwordErrorMsg:!1,authError:!1,authHttpCode:-1}),u=Object(b.a)(i,2),p=u[0],E=u[1],N=Object(f.useState)(!1),h=Object(b.a)(N,2),v=h[0],x=h[1],O=d.a.createRef();function k(e){p.username||(e.persist(),E((function(a){return Object(L.a)(Object(L.a)({},a),{},{usernameErrorMsg:"blur"===e.type})})))}function w(e){p.password||(e.persist(),E((function(a){return Object(L.a)(Object(L.a)({},a),{},{passwordErrorMsg:"blur"===e.type})})))}function j(){return(j=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),x(!0),p.username&&p.password){e.next=6;break}E((function(e){return Object(L.a)(Object(L.a)({},e),{},{usernameErrorMsg:!p.username,passwordErrorMsg:!p.password})})),e.next=9;break;case 6:return E((function(e){return Object(L.a)(Object(L.a)({},e),{},{authError:!1,authHttpCode:-1})})),e.next=9,B.signIn(p.username,p.password).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.localStorage.setItem("access_noken",a.Token),e.next=3,T(a.AuthUser,m,n);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),E((function(a){return Object(L.a)(Object(L.a)({},a),{},{password:"",passwordErrorMsg:!1,authError:!0,authHttpCode:e.status})})),e.status!==y.a.BAD_REQUEST&&e.status!==y.a.INTERNAL_SERVER_ERROR&&console.log(n("key_416")+" - "+e.status)):(g.promiseError(e),alert(n("key_416")))}));case 9:x(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.useEffect)((function(){p.authError&&O.current.focus()}),[p.authError]),!v&&s.authUser?d.a.createElement(Q.b,{to:(null===(a=t.state)||void 0===a?void 0:a.from)||{pathname:"/"}}):d.a.createElement("section",{className:"famo-grid signin"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"signin-body"},d.a.createElement("div",{className:"signin-famo-logo"},d.a.createElement("img",{src:"http://www.famo-code.com/Content/Images/logo-famo-black.png",alt:"FAMO"})),d.a.createElement("div",{className:"signin-container"},d.a.createElement("div",{className:"signin-app-name"},d.a.createElement("span",{className:"famo-text-2"},"PDA")),d.a.createElement("div",{className:"famo-loader-wrapper "+(v?"":"hide")},d.a.createElement("div",{className:"famo-loader"})),d.a.createElement("form",{className:v?"hide":"",onSubmit:function(e){return function(e){return j.apply(this,arguments)}(e)}},d.a.createElement("div",{className:"signin-input"},d.a.createElement("input",{type:"text",className:"famo-input famo-text-3 "+(p.usernameErrorMsg?"famo-input-error":""),placeholder:n("key_397"),ref:O,name:"username",value:p.username,autoComplete:"off",autoFocus:!0,onChange:function(e){return function(e){e.persist(),E((function(a){return Object(L.a)(Object(L.a)({},a),{},{username:e.target.value})}))}(e)},onFocus:function(e){return k(e)},onBlur:function(e){return k(e)}}),d.a.createElement(fe,{className:"signin-input-error "+(p.usernameErrorMsg?"":"hide"),text:n("key_196")})),d.a.createElement("div",{className:"signin-input"},d.a.createElement("input",{type:"password",className:"famo-input famo-text-3 "+(p.passwordErrorMsg?"famo-input-error":""),placeholder:n("key_314"),name:"password",value:p.password,onChange:function(e){return function(e){e.persist(),E((function(a){return Object(L.a)(Object(L.a)({},a),{},{password:e.target.value})}))}(e)},onFocus:function(e){return w(e)},onBlur:function(e){return w(e)}}),d.a.createElement(fe,{className:"signin-input-error "+(p.passwordErrorMsg?"":"hide"),text:n("key_195")})),d.a.createElement("div",{className:"signin-form-error "+(p.authError?"":"hide")},p.authError&&p.authHttpCode===y.a.BAD_REQUEST&&d.a.createElement("span",{className:"famo-text-7"},n("key_398")),p.authError&&p.authHttpCode===y.a.INTERNAL_SERVER_ERROR&&d.a.createElement("span",{className:"famo-text-7"},n("key_306"))),d.a.createElement("button",{className:"famo-button famo-confirm-button signin-button signin-button-submit",type:"submit"},d.a.createElement("span",{className:"famo-text-5"},n("key_238")))))))))})),t(842)),pe=t(33),Ee=t(836);var be=Object(Q.j)((function(e){var a=e.location,t=Object(V.a)().t,n=$(),o=Object(b.a)(n,2),l=o[0],m=o[1],i=window.moment,p=window.numeral,E=M.a.parse(a.search).binCode,N=Object(f.useState)(),h=Object(b.a)(N,2),x=h[0],O=h[1],k=Object(f.useState)(!0),w=Object(b.a)(k,2),j=w[0],C=w[1],_=Object(f.useState)(),S=Object(b.a)(_,2),D=S[0],T=S[1],P=Object(f.useState)(-1),A=Object(b.a)(P,2),B=A[0],L=A[1],F=["",t("key_85"),t("key_179"),t("key_907"),t("key_900"),t("key_896")],z=Object(f.useState)(null),R=Object(b.a)(z,2),H=R[0],G=R[1],U=Object(f.useState)(i()),K=Object(b.a)(U,2),W=K[0],q=K[1],Y=Object(f.useState)(null),Q=Object(b.a)(Y,2),J=Q[0],X=Q[1],Z=Object(f.useState)(0),ee=Object(b.a)(Z,2),ae=ee[0],te=ee[1];function ne(){return fetch(u+"Warehouse/Bins"+s({code:E,languageCode:l.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){T(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_303"))):(g.promiseError(e),alert(t("key_416")))}))}function re(e){return fetch(u+"Warehouse/Bins/Orders"+s({binCode:E,languageCode:l.authUser.Language.Code,page:e}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){G(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_303"))):(g.promiseError(e),alert(t("key_416")))}))}function ce(e){var a=i(),t="";return e.AllBinBoxesQuantity===e.BoxesQuantity?t="famo-color-green":e.ExpectedShipmentDate&&(i(e.ExpectedShipmentDate).subtract({days:2}).isSame(a.startOf("date"))?t="famo-color-yellow":i(e.ExpectedShipmentDate).subtract({days:2}).isBefore(a.startOf("date"))&&(t="famo-color-red")),t}function oe(){return fetch(u+"TV/Messages"+s({date:i().format("YYYY-MM-DDTHH:mm:ss"),languageCode:l.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){X(e),te(0)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_303"))):(g.promiseError(e),alert(t("key_416")))}))}return Object(pe.a)((function(){C(!j)}),36e5),Object(pe.a)((function(){q(i())}),1e3),Object(pe.a)((function(){Promise.all([ne(),re(H&&x===E?H.CurrentPage===H.PagesNumber?1:H.CurrentPage+1:1)]).finally((function(){O(E)}))}),1e4),Object(pe.a)((function(){oe()}),18e5),Object(pe.a)((function(){J&&J.length>0&&te(ae+1===J.length?0:ae+1)}),5e3),Object(f.useEffect)((function(){m.setLoadPage(!0),L(window.innerHeight-document.querySelector(".tv-footer").clientHeight-30-30-document.querySelector(".bin-orders .famo-header-row").clientHeight),Promise.all([ne(),re(1),oe()]).finally((function(){m.setLoadPage(!1)}))}),[]),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"container famo-wrapper"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 col-xl-2 "+(j?"order-first":"order-last")},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid tv-famo-logo"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("img",{src:"http://www.famo-code.com/Content/Images/logo-famo-black.png",alt:"FAMO"})))))),d.a.createElement("section",{className:"famo-wrapper tv-dark-wrapper"},d.a.createElement("div",{className:"famo-content"},D&&d.a.createElement("div",{className:"famo-grid rating-panel"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23"},D.Code)))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid rating-panel"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23"},W.format("L"))))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid rating-panel"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23"},W.format("LTS"))))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},D&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-11"},t("key_908")))),d.a.createElement("div",{className:"pda-victory-container"},d.a.createElement("svg",{width:400,height:400,viewBox:"0, 0, 400, 400"},d.a.createElement(Ee.a,Object.assign({},{standalone:!1,cornerRadius:10,innerRadius:120,padAngle:3,padding:{top:25,bottom:5}},{data:[{x:!0,y:D.TotalVolume},{x:!1,y:D.MaxVolume-D.TotalVolume}],colorScale:["#ff3333","#bfbfbf"],labels:function(){return null}})))),d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-10"},p(D.TotalVolume).format("0,0")," m3"))))))),d.a.createElement("div",{className:"col-12 col-xl-10 "+(j?"order-last":"order-first")},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid famo-content-grid bin-orders"},d.a.createElement("div",{className:"famo-row famo-header-row"},F.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},d.a.createElement("span",{className:"famo-text-11"},e))})))),d.a.createElement("div",{className:"bin-orders bin-orders-data",style:{maxHeight:-1===B?"auto":B+"px"}},d.a.createElement("div",{className:"famo-grid famo-content-grid"},d.a.createElement("div",{className:"famo-row famo-header-row hide"}),H&&H.Data.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-row famo-body-row "+(-1!==e.ShipmentGate.ID?"tv-blink-row":"")},d.a.createElement("div",{className:"famo-cell famo-col-1 text-center"},d.a.createElement("p",null,d.a.createElement("img",{src:"https://flagcdn.com/h40/"+e.Country.Code.toLowerCase()+".png",height:"42",alt:e.Country.Code,onError:function(e){e.target.src=u+"Images/no-flag.png"}})),d.a.createElement("p",null,d.a.createElement("span",{className:"tv-text-1"},e.Country.Label))),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("span",{className:"famo-text-10 "+ce(e)},e.CustomerName)),d.a.createElement("div",{className:"famo-cell famo-col-3"},d.a.createElement("span",{className:"famo-text-10 "+ce(e)},e.Code)),d.a.createElement("div",{className:"famo-cell famo-col-4"},d.a.createElement("span",{className:"famo-text-10 "+(e.ExpectedShipmentDate?ce(e):"famo-color-yellow")},e.ExpectedShipmentDate?i(e.ExpectedShipmentDate).format("L"):"n/a")),d.a.createElement("div",{className:"famo-cell famo-col-5 text-center"},d.a.createElement("span",{className:"famo-text-10 "+ce(e)},p(e.AllBinBoxesQuantity).format("0,0")+"/"+p(e.BoxesQuantity).format("0,0"))),d.a.createElement("div",{className:"famo-cell famo-col-6 text-center"},d.a.createElement("span",{className:"famo-text-10 "+(-1===e.ShipmentGate.ID?"famo-color-yellow":ce(e))},-1===e.ShipmentGate.ID?"n/a":e.ShipmentGate.Label)))}))),H&&d.a.createElement("div",{className:"famo-grid famo-pagination"},d.a.createElement("div",{className:"famo-cell text-center"},Object(I.a)(Array(H.PagesNumber)).map((function(e,a){return d.a.createElement("span",{key:a,className:(a+1>H.CurrentPage?"far":"fas")+" fa-circle"})})))))))))),d.a.createElement("section",{className:"tv-footer"},d.a.createElement("div",{className:"container tv-messages"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 col-xl-2"},d.a.createElement("div",{className:"famo-grid tv-message-type"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell"},J&&J.length>0&&d.a.createElement("span",{className:"tv-text-2"},J[ae].Type.Label))))),d.a.createElement("div",{className:"col-12 col-xl-10"},d.a.createElement("div",{className:"famo-grid tv-message-content"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell"},J&&J.map((function(e,a){return d.a.createElement(de.a,{key:a,in:a===ae,timeout:250,classNames:"transition"},d.a.createElement("span",{className:"tv-text-3 "+(a!==ae?"hide":"")},e.Text))}))))))))))}));var Ne=Object(Q.j)((function(e){var a=e.location,t=Object(V.a)().t,n=$(),o=Object(b.a)(n,2),l=o[0],m=o[1],i=window.moment,p=window.numeral,E=M.a.parse(a.search).binCode,N=Object(f.useState)(),h=Object(b.a)(N,2),x=h[0],O=h[1],k=Object(f.useState)(!0),w=Object(b.a)(k,2),j=w[0],C=w[1],_=Object(f.useState)(),S=Object(b.a)(_,2),D=S[0],T=S[1],P=Object(f.useState)(-1),A=Object(b.a)(P,2),B=A[0],L=A[1],F=["",t("key_85"),t("key_179"),t("key_907"),t("key_900"),t("key_896")],z=Object(f.useState)(null),R=Object(b.a)(z,2),H=R[0],G=R[1],U=Object(f.useState)(i()),K=Object(b.a)(U,2),W=K[0],q=K[1],Y=Object(f.useState)(null),Q=Object(b.a)(Y,2),J=Q[0],X=Q[1],Z=Object(f.useState)(0),ee=Object(b.a)(Z,2),ae=ee[0],te=ee[1];function ne(){return fetch(u+"Warehouse/Bins"+s({code:E,languageCode:l.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){T(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_303"))):(g.promiseError(e),alert(t("key_416")))}))}function re(e){return fetch(u+"Warehouse/Bins/Orders"+s({binCode:E,languageCode:l.authUser.Language.Code,page:e}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){G(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_303"))):(g.promiseError(e),alert(t("key_416")))}))}function ce(e){var a=i(),t="";return e.AllBinBoxesQuantity===e.BoxesQuantity?t="famo-color-green":e.ExpectedShipmentDate&&(i(e.ExpectedShipmentDate).subtract({days:2}).isSame(a.startOf("date"))?t="famo-color-yellow":i(e.ExpectedShipmentDate).subtract({days:2}).isBefore(a.startOf("date"))&&(t="famo-color-red")),t}function oe(){return fetch(u+"TV/Messages"+s({date:i().format("YYYY-MM-DDTHH:mm:ss"),languageCode:l.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){X(e),te(0)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_303"))):(g.promiseError(e),alert(t("key_416")))}))}return Object(pe.a)((function(){C(!j)}),36e5),Object(pe.a)((function(){q(i())}),1e3),Object(pe.a)((function(){Promise.all([ne(),re(H&&x===E?H.CurrentPage===H.PagesNumber?1:H.CurrentPage+1:1)]).finally((function(){O(E)}))}),1e4),Object(pe.a)((function(){oe()}),18e5),Object(pe.a)((function(){J&&J.length>0&&te(ae+1===J.length?0:ae+1)}),5e3),Object(f.useEffect)((function(){m.setLoadPage(!0),L(window.innerHeight-document.querySelector(".tv-footer").clientHeight-30-30-document.querySelector(".bin-orders .famo-header-row").clientHeight),Promise.all([ne(),re(1),oe()]).finally((function(){m.setLoadPage(!1)}))}),[]),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"container famo-wrapper"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 col-xl-2 "+(j?"order-first":"order-last")},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid tv-famo-logo"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("img",{src:"http://www.famo-code.com/Content/Images/logo-famo-black.png",alt:"FAMO"})))))),d.a.createElement("section",{className:"famo-wrapper tv-dark-wrapper"},d.a.createElement("div",{className:"famo-content"},D&&d.a.createElement("div",{className:"famo-grid rating-panel"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23"},D.Label?D.Label:D.Code)))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid rating-panel"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23"},W.format("L"))))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid rating-panel"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23"},W.format("LTS"))))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},D&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-11"},t("key_908")))),d.a.createElement("div",{className:"pda-victory-container"},d.a.createElement("svg",{width:400,height:400,viewBox:"0, 0, 400, 400"},d.a.createElement(Ee.a,Object.assign({},{standalone:!1,cornerRadius:10,innerRadius:120,padAngle:3,padding:{top:25,bottom:5}},{data:[{x:!0,y:D.TotalVolume},{x:!1,y:D.MaxVolume-D.TotalVolume}],colorScale:["#ff3333","#bfbfbf"],labels:function(){return null}})))),d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-10"},p(D.TotalVolume).format("0,0")," m3"))))))),d.a.createElement("div",{className:"col-12 col-xl-10 "+(j?"order-last":"order-first")},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid famo-content-grid bin-orders"},d.a.createElement("div",{className:"famo-row famo-header-row"},F.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},d.a.createElement("span",{className:"famo-text-11"},e))})))),d.a.createElement("div",{className:"bin-orders bin-orders-data",style:{maxHeight:-1===B?"auto":B+"px"}},d.a.createElement("div",{className:"famo-grid famo-content-grid"},d.a.createElement("div",{className:"famo-row famo-header-row hide"}),H&&H.Data.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-row famo-body-row "+(-1!==e.ShipmentGate.ID?"tv-blink-row":"")},d.a.createElement("div",{className:"famo-cell famo-col-1 text-center"},d.a.createElement("p",null,d.a.createElement("img",{src:"https://flagcdn.com/h40/"+e.Country.Code.toLowerCase()+".png",height:"42",alt:e.Country.Code,onError:function(e){e.target.src=u+"Images/no-flag.png"}})),d.a.createElement("p",null,d.a.createElement("span",{className:"tv-text-1"},e.Country.Label))),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("span",{className:"famo-text-10 "+ce(e)},e.CustomerName)),d.a.createElement("div",{className:"famo-cell famo-col-3"},d.a.createElement("span",{className:"famo-text-10 "+ce(e)},e.Code)),d.a.createElement("div",{className:"famo-cell famo-col-4"},d.a.createElement("span",{className:"famo-text-10 "+(e.ExpectedShipmentDate?ce(e):"famo-color-yellow")},e.ExpectedShipmentDate?i(e.ExpectedShipmentDate).format("L"):"n/a")),d.a.createElement("div",{className:"famo-cell famo-col-5 text-center"},d.a.createElement("span",{className:"famo-text-10 "+ce(e)},p(e.BinBoxesQuantity).format("0,0"))),d.a.createElement("div",{className:"famo-cell famo-col-6 text-center"},d.a.createElement("span",{className:"famo-text-10 "+(-1===e.ShipmentGate.ID?"famo-color-yellow":ce(e))},-1===e.ShipmentGate.ID?"n/a":e.ShipmentGate.Label)))}))),H&&d.a.createElement("div",{className:"famo-grid famo-pagination"},d.a.createElement("div",{className:"famo-cell text-center"},Object(I.a)(Array(H.PagesNumber)).map((function(e,a){return d.a.createElement("span",{key:a,className:(a+1>H.CurrentPage?"far":"fas")+" fa-circle"})})))))))))),d.a.createElement("section",{className:"tv-footer"},d.a.createElement("div",{className:"container tv-messages"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 col-xl-2"},d.a.createElement("div",{className:"famo-grid tv-message-type"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell"},J&&J.length>0&&d.a.createElement("span",{className:"tv-text-2"},J[ae].Type.Label))))),d.a.createElement("div",{className:"col-12 col-xl-10"},d.a.createElement("div",{className:"famo-grid tv-message-content"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell"},J&&J.map((function(e,a){return d.a.createElement(de.a,{key:a,in:a===ae,timeout:250,classNames:"transition"},d.a.createElement("span",{className:"tv-text-3 "+(a!==ae?"hide":"")},e.Text))}))))))))))}));var he,ve=Object(Q.j)((function(e){var a=e.location,t=Object(V.a)().t,n=$(),o=Object(b.a)(n,2),l=o[0],m=o[1],i=window.moment,p=window.numeral,E=M.a.parse(a.search).machineCenters,N=Object(f.useState)(null),h=Object(b.a)(N,2),x=h[0],O=h[1],k=Object(f.useState)(null),w=Object(b.a)(k,2),j=w[0],C=w[1],_=Object(f.useState)(!0),S=Object(b.a)(_,2),D=S[0],T=S[1],P=Object(f.useState)(!0),A=Object(b.a)(P,2),B=A[0],L=A[1],F=Object(f.useState)(!0),z=Object(b.a)(F,2),R=z[0],H=z[1],G=Object(f.useState)(-1),U=Object(b.a)(G,2),K=U[0],W=U[1],q=["",t("key_85"),t("key_179"),t("key_907"),"EMB.(S)","TOTAL"],Y=Object(f.useState)(i()),Q=Object(b.a)(Y,2),J=Q[0],X=Q[1],Z=Object(f.useState)(null),ee=Object(b.a)(Z,2),ae=ee[0],te=ee[1],ne=Object(f.useState)(0),re=Object(b.a)(ne,2),ce=re[0],oe=re[1];function le(e){return L(!0),fetch(u+"TV/TVToBoxOrders"+s({machineCenters:E,page:e}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){O(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_303"))):(g.promiseError(e),alert(t("key_416")))})).finally((function(){L(!1),T(!1)}))}function se(e){return L(!0),fetch(u+"TV/TVWeekOrders"+s({machineCenters:E,page:e}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){C(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_303"))):(g.promiseError(e),alert(t("key_416")))})).finally((function(){L(!1),T(!0)}))}function me(e){var a=i(),t="";return e.Order.ExpectedShipmentDate&&(i(e.Order.ExpectedShipmentDate).subtract({days:1}).isSame(a.startOf("date"))?t="famo-color-yellow":i(e.Order.ExpectedShipmentDate).subtract({days:1}).isBefore(a.startOf("date"))&&(t="famo-color-red")),t}function ie(){return fetch(u+"TV/Messages"+s({date:i().format("YYYY-MM-DDTHH:mm:ss"),languageCode:l.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){te(e),oe(0)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_303"))):(g.promiseError(e),alert(t("key_416")))}))}return Object(pe.a)((function(){H(!R)}),36e5),Object(pe.a)((function(){X(i())}),1e3),Object(pe.a)((function(){B||(D?null!=j&&(j.CurrentPage===j.PagesNumber||0===j.PagesNumber?le(1):se(j.CurrentPage+1)):null!=x&&(x.CurrentPage===x.PagesNumber||0===x.PagesNumber?(se(1),T(!0)):le(x.CurrentPage+1)))}),8e3),Object(pe.a)((function(){ie()}),18e5),Object(pe.a)((function(){ae&&ae.length>0&&oe(ce+1===ae.length?0:ce+1)}),5e3),Object(f.useEffect)((function(){m.setLoadPage(!0),W(window.innerHeight-document.querySelector(".tv-footer").clientHeight-30-30-document.querySelector(".to-box-orders .famo-header-row").clientHeight),T(!1),L(!1),Promise.all([le(1),ie()]).finally((function(){m.setLoadPage(!1)}))}),[]),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"container famo-wrapper"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 col-xl-2 "+(R?"order-first":"order-last")},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid tv-famo-logo"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("img",{src:"http://www.famo-code.com/Content/Images/logo-famo-black.png",alt:"FAMO"})))))),d.a.createElement("section",{className:"famo-wrapper tv-dark-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid rating-panel"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23"}," ",D?"ENCOMENDAS EM FALTA":"PRONTO A EMBALAR")))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid rating-panel"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23"},J.format("L"))))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid rating-panel"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23"},J.format("LTS")))))))),d.a.createElement("div",{className:"col-12 col-xl-10 "+(R?"order-last":"order-first")},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid famo-content-grid to-box-orders"},d.a.createElement("div",{className:"famo-row famo-header-row"},q.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)+(a>3?" text-center":"")},d.a.createElement("span",{className:"famo-text-11"},e))})))),d.a.createElement("div",{className:"to-box-orders to-box-orders-data",style:{maxHeight:-1===K?"auto":K+"px"}},d.a.createElement("div",{className:"famo-grid famo-content-grid"},d.a.createElement("div",{className:"famo-row famo-header-row hide"}),D?j&&j.Data.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-row famo-body-row"},d.a.createElement("div",{className:"famo-cell famo-col-1 text-center"},d.a.createElement("p",null,d.a.createElement("img",{src:"https://flagcdn.com/h40/"+e.Country.Code.toLowerCase()+".png",height:"42",alt:e.Country.Code,onError:function(e){e.target.src=u+"Images/no-flag.png"}})),d.a.createElement("p",null,d.a.createElement("span",{className:"tv-text-1"},e.Country.Label))),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("span",{className:"famo-text-10 "+me(e)},e.Order.CustomerName)),d.a.createElement("div",{className:"famo-cell famo-col-3"},d.a.createElement("span",{className:"famo-text-10 "+me(e)},e.Order.Code)),d.a.createElement("div",{className:"famo-cell famo-col-4"},d.a.createElement("span",{className:"famo-text-10 "+me(e)},e.Order.ExpectedShipmentDate?i(e.Order.ExpectedShipmentDate).format("L"):"n/a")),d.a.createElement("div",{className:"famo-cell famo-col-5 text-center"},d.a.createElement("span",{className:"famo-text-10 "+me(e)},p(e.AllBinBoxesQuantity).format("0,0"))),d.a.createElement("div",{className:"famo-cell famo-col-6 text-center"},d.a.createElement("span",{className:"famo-text-10 "+me(e)},p(e.BoxesQuantity).format("0,0"))))})):x&&x.Data.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-row famo-body-row"},d.a.createElement("div",{className:"famo-cell famo-col-1 text-center"},d.a.createElement("p",null,d.a.createElement("img",{src:"https://flagcdn.com/h40/"+e.Country.Code.toLowerCase()+".png",height:"42",alt:e.Country.Code,onError:function(e){e.target.src=u+"Images/no-flag.png"}})),d.a.createElement("p",null,d.a.createElement("span",{className:"tv-text-1"},e.Country.Label))),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("span",{className:"famo-text-10 "+me(e)},e.Order.CustomerName)),d.a.createElement("div",{className:"famo-cell famo-col-3"},d.a.createElement("span",{className:"famo-text-10 "+me(e)},e.Order.Code)),d.a.createElement("div",{className:"famo-cell famo-col-4"},d.a.createElement("span",{className:"famo-text-10 "+me(e)},e.Order.ExpectedShipmentDate?i(e.Order.ExpectedShipmentDate).format("L"):"n/a")),d.a.createElement("div",{className:"famo-cell famo-col-5 text-center"},d.a.createElement("span",{className:"famo-text-10 "+me(e)},p(e.AllBinBoxesQuantity).format("0,0"))),d.a.createElement("div",{className:"famo-cell famo-col-6 text-center"},d.a.createElement("span",{className:"famo-text-10 "+me(e)},p(e.BoxesQuantity).format("0,0"))))}))),D?j&&d.a.createElement("div",{className:"famo-grid famo-pagination"},d.a.createElement("div",{className:"famo-cell text-center"},Object(I.a)(Array(j.PagesNumber)).map((function(e,a){return d.a.createElement("span",{key:a,className:(a+1>j.CurrentPage?"far":"fas")+" fa-circle"})})))):x&&d.a.createElement("div",{className:"famo-grid famo-pagination"},d.a.createElement("div",{className:"famo-cell text-center"},Object(I.a)(Array(x.PagesNumber)).map((function(e,a){return d.a.createElement("span",{key:a,className:(a+1>x.CurrentPage?"far":"fas")+" fa-circle"})})))))))))),d.a.createElement("section",{className:"tv-footer"},d.a.createElement("div",{className:"container tv-messages"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 col-xl-2"},d.a.createElement("div",{className:"famo-grid tv-message-type"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell"},ae&&ae.length>0&&d.a.createElement("span",{className:"tv-text-2"},ae[ce].Type.Label))))),d.a.createElement("div",{className:"col-12 col-xl-10"},d.a.createElement("div",{className:"famo-grid tv-message-content"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell"},ae&&ae.map((function(e,a){return d.a.createElement(de.a,{key:a,in:a===ce,timeout:250,classNames:"transition"},d.a.createElement("span",{className:"tv-text-3 "+(a!==ce?"hide":"")},e.Text))}))))))))))})),xe=t(841);function ye(e){var a=Object(V.a)().t,t=[{label:a("key_895"),url:"/Warehouse/Boxes/Add"},{label:a("key_897"),url:"/Warehouse/Orders"},{label:a("key_905"),url:"/Warehouse/Boxes/Transfer"},{label:"Transferir v\xe1rias embalagens",url:"/Warehouse/Boxes/TransferMany"},{label:a("key_891"),url:"/Warehouse/Boxes/Delete"}];return Object(f.useEffect)((function(){J.clear()}),[]),d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"row",style:{justifyContent:"center"}},t.map((function(e,a){return d.a.createElement("div",{key:a,className:"col-12 col-sm-6 col-lg-3"},d.a.createElement(ne.b,{to:e.url},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid famo-menu-item"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-19"},e.label)))))))}))))}function ge(e){var a=Object(V.a)().t,t=$(),n=Object(b.a)(t,2),o=n[0],l=n[1],m=window.moment,i=Object(f.useState)({ref:d.a.createRef(),type:A.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),p=Object(b.a)(i,2),E=p[0],N=p[1],h=Object(f.useState)(!1),x=Object(b.a)(h,2),O=x[0],k=x[1],w=Object(f.useState)(null),j=Object(b.a)(w,2),C=j[0],_=j[1],S=Object(f.useState)([]),D=Object(b.a)(S,2),T=D[0],P=D[1],B=Object(f.useState)({ref:d.a.createRef(),type:A.Select,label:a("key_893"),className:"famo-input famo-text-10",name:"binID",value:""}),I=Object(b.a)(B,2),F=I[0],z=I[1],H=Object(f.useState)({type:A.Text,label:a("key_179"),className:"famo-input famo-text-10",name:"orderCode",value:"",isDisabled:!0}),U=Object(b.a)(H,2),K=U[0],M=U[1],q=Object(f.useState)({type:A.Text,label:a("key_85"),className:"famo-input famo-text-10",name:"customerName",value:"",isDisabled:!0}),Q=Object(b.a)(q,2),X=Q[0],Z=Q[1],ee=Object(f.useState)({type:A.Text,label:a("key_670"),className:"famo-input famo-text-10",name:"expectedShipmentDate",value:"",isDisabled:!0}),ae=Object(b.a)(ee,2),te=ae[0],ne=ae[1],re=Object(f.useState)(!1),ce=Object(b.a)(re,2),oe=ce[0],le=ce[1],se=Object(f.useState)(!1),me=Object(b.a)(se,2),ie=me[0],ue=me[1],fe=[F,K,X,te],de=[z,M,Z,ne],pe=d.a.createRef();function Ee(){k(!0),fetch(u+"Warehouse/Boxes"+s({code:E.value,languageCode:o.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){_(e),M((function(a){return Object(L.a)(Object(L.a)({},a),{},{value:e.OrderCode})})),Z((function(a){return Object(L.a)(Object(L.a)({},a),{},{value:e.CustomerName})})),ne((function(a){return Object(L.a)(Object(L.a)({},a),{},{value:m(e.ExpectedShipmentDate).format("L")})})),z((function(a){return Object(L.a)(Object(L.a)({},a),{},{value:e.Bin.ID.toString()})})),k(!1),Ne(e.OrderCode,e.Bin.ID.toString())}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}if(g.httpError(t),t.status!==y.a.NOT_FOUND){e.next=6;break}alert(a("key_883")),e.next=16;break;case 6:if(t.status!==y.a.FORBIDDEN){e.next=10;break}alert(a("key_871")),e.next=16;break;case 10:if(t.status!==y.a.CONFLICT){e.next=15;break}return e.next=13,t.json().then((function(e){alert(a("key_887")+" "+e.box)})).catch((function(e){g.promiseError(e),alert(a("key_416"))}));case 13:e.next=16;break;case 15:alert(a("key_303"));case 16:e.next=20;break;case 18:g.promiseError(t),alert(a("key_416"));case 20:_(null),le(!1),ue(!1),k(!1),R.resetValues(fe,de),be();case 26:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}function be(){N((function(e){return Object(L.a)(Object(L.a)({},e),{},{value:""})})),E.ref.current.focus()}function Ne(e,t){le(!0),fetch(u+"Warehouse/Bins/Orders"+s({code:e,binID:t}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){ue(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?(g.httpError(t),alert(a("key_303"))):(g.promiseError(t),alert(a("key_416")));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).finally((function(){le(!1)}))}return Object(f.useEffect)((function(){l.setLoadPage(!0),fetch(u+"Warehouse/Bins"+s({languageCode:o.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){P(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(a("key_303"))):(g.promiseError(e),alert(a("key_416")))})).finally((function(){l.setLoadPage(!1)})),J.clear()}),[]),Object(f.useEffect)((function(){var e;F.value&&Ne(K.value,F.value),null===(e=pe.current)||void 0===e||e.focus()}),[F.value]),Object(f.useEffect)((function(){var e;O||(null===(e=pe.current)||void 0===e||e.focus())}),[O]),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:a("key_895")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),Ee()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},E.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},E,{isDisabled:O,set:N})))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:O,onClick:function(e){return be()}},d.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!o.androidApp&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:O,onClick:function(e){return Ee()}},d.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),(O||C)&&d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:a("key_819")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!O}),C&&d.a.createElement(d.a.Fragment,null,d.a.createElement("form",{className:"famo-grid famo-form-grid "+(O?"hide":""),noValidate:!0},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("div",{className:"famo-input-loader "+(oe?"":"hide")},d.a.createElement("div",{className:"famo-loader"})),d.a.createElement("span",{className:"famo-text-11"},F.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},F,{set:z}),T.map((function(e,a){return d.a.createElement("option",{key:a,value:e.ID},e.Code)}))),d.a.createElement("div",{className:"famo-input-message "+(ie?"":"hide")},d.a.createElement("span",{className:"famo-text-15"},a("key_902"))))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},K.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,K))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},X.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,X))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},te.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,te)))),d.a.createElement("div",{className:"famo-grid famo-buttons "+(O?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",ref:pe,className:"famo-button famo-confirm-button",onClick:function(e){return k(!0),void fetch(u+"Warehouse/Bins/Boxes"+s({}),v.addAuthorizationHeader({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({binID:F.value,code:C.Code})})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=9;break}_(null),le(!1),ue(!1),k(!1),R.resetValues(fe,de),be(),e.next=10;break;case 9:throw a;case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}if(g.httpError(t),t.status!==y.a.CONFLICT){e.next=7;break}return e.next=5,t.json().then((function(e){alert(a("key_887")+" "+e.box)})).catch((function(e){g.promiseError(e),alert(a("key_416"))}));case 5:e.next=8;break;case 7:alert(a("key_302"));case 8:e.next=12;break;case 10:g.promiseError(t),alert(a("key_416"));case 12:k(!1);case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}},d.a.createElement("span",{className:"famo-text-12"},a("key_220"))))))))))}function Oe(e){var a=Object(V.a)().t,t=$(),n=Object(b.a)(t,2),o=n[0],l=n[1],m=window.moment,i=Object(f.useState)({ref:d.a.createRef(),type:A.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),p=Object(b.a)(i,2),E=p[0],N=p[1],h=Object(f.useState)(!1),x=Object(b.a)(h,2),O=x[0],k=x[1],w=Object(f.useState)(null),j=Object(b.a)(w,2),C=j[0],_=j[1],S=Object(f.useState)([]),D=Object(b.a)(S,2),T=D[0],P=D[1],B=Object(f.useState)({ref:d.a.createRef(),type:A.Select,label:a("key_893"),className:"famo-input famo-text-10",name:"binID",value:""}),I=Object(b.a)(B,2),F=I[0],z=I[1],H=[F],U=[z],K=Object(f.useState)(null),M=Object(b.a)(K,2),q=M[0],Q=M[1];function X(){k(!0);try{fetch(u+"Warehouse/Bins/Boxes"+s({code:E.value,languageCode:o.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){_(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(e.status===y.a.NOT_FOUND?a("key_883"):a("key_303"))):(g.promiseError(e),alert(a("key_416"))),_(null),Z()}))}catch(e){e instanceof Response?(g.httpError(e),alert(e.status===y.a.NOT_FOUND?a("key_883"):a("key_303"))):(g.promiseError(e),alert(a("key_416"))),_(null)}finally{k(!1)}}function Z(){N((function(e){return Object(L.a)(Object(L.a)({},e),{},{value:""})})),E.ref.current.focus()}return Object(f.useEffect)((function(){l.setLoadPage(!0),fetch(u+"Warehouse/Bins"+s({languageCode:o.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){P(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(a("key_303"))):(g.promiseError(e),alert(a("key_416")))})).finally((function(){l.setLoadPage(!1)})),J.clear()}),[]),Object(f.useEffect)((function(){R.areAnalyzed(H)&&(R.areValid(H)?(k(!0),fetch(u+"Warehouse/Bins/Boxes"+s(q===he.Box?{ID:C.ID}:{}),v.addAuthorizationHeader({method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({binID:F.value,orderCode:C.OrderCode})})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=7;break}_(null),k(!1),R.resetValues(H,U),Z(),e.next=8;break;case 7:throw a;case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(a("key_302"))):(g.promiseError(e),alert(a("key_416"))),k(!1)}))):R.popUpAlerts(H,a),R.resetValidations(H,U))}),H),Object(f.useEffect)((function(){var e;if(T.length>0&&(null===(e=T[0])||void 0===e?void 0:e.ID)&&null!==C){var a=T[0].ID==C.Bin.ID?T[1].ID:T[0].ID;z((function(e){return Object(L.a)(Object(L.a)({},e),{},{value:a.toString()})}))}}),[T]),Object(f.useEffect)((function(){null!==C&&fetch(u+"Warehouse/Bins"+s({order:C.OrderCode,languageCode:o.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){P(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(a("key_303"))):(g.promiseError(e),alert(a("key_416")))}))}),[C]),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:a("key_905")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),X()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},E.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},E,{isDisabled:O,set:N})))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:O,onClick:function(e){return Z()}},d.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!o.androidApp&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:O,onClick:function(e){return X()}},d.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),(O||C)&&d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:a("key_312")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!O}),C&&d.a.createElement("div",{className:"famo-grid famo-form-grid "+(O?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_87"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},C.Code)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_179"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},C.OrderCode)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_85"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},C.CustomerName)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_670"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},m(C.ExpectedShipmentDate).format("L"))))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_893"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},C.Bin.Code))))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:a("key_898")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!O}),C&&d.a.createElement("form",{className:"famo-grid famo-form-grid "+(O?"hide":""),noValidate:!0},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},F.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},F,{set:z}),d.a.createElement("option",{key:-1,value:""}),T.filter((function(e){return e.ID!==C.Bin.ID})).map((function(e,a){return d.a.createElement("option",{key:a,value:e.ID},e.Code)})))))))),C&&d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",disabled:O,onClick:function(e){return Q(he.Order),void R.analyze(H,U)}},d.a.createElement("span",{className:"famo-text-12"},a("key_903"))),d.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",disabled:O,onClick:function(e){return Q(he.Box),void R.analyze(H,U)}},d.a.createElement("span",{className:"famo-text-12"},a("key_904")))))))))}function ke(e){var a=Object(V.a)().t,t=$(),n=Object(b.a)(t,2),o=n[0],l=n[1],m=(window.numeral,window.moment),i=Object(f.useState)({ref:d.a.createRef(),type:A.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),p=Object(b.a)(i,2),E=p[0],N=p[1],h=Object(f.useState)(!1),x=Object(b.a)(h,2),O=x[0],k=x[1],w=Object(f.useState)(null),j=Object(b.a)(w,2),C=j[0],_=j[1],S=Object(f.useState)(null),D=Object(b.a)(S,2),T=D[0],P=D[1],B=Object(f.useState)([]),I=Object(b.a)(B,2),F=I[0],z=I[1],H=Object(f.useState)([]),U=Object(b.a)(H,2),K=U[0],M=U[1],q=Object(f.useState)({ref:d.a.createRef(),type:A.Select,label:a("key_893"),className:"famo-input famo-text-10",name:"binID",value:""}),Q=Object(b.a)(q,2),X=Q[0],Z=Q[1],ee=[X],ae=[Z],te=Object(f.useState)(null),ne=Object(b.a)(te,2),re=(ne[0],ne[1]);function ce(){k(!0),fetch(u+"Warehouse/Bins/Boxes"+s({code:E.value,languageCode:o.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=6;break}return e.next=3,a.json().then((function(e){_(e),k(!1)}));case 3:oe(),e.next=7;break;case 6:throw a;case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(e.status===y.a.NOT_FOUND?a("key_883"):a("key_303"))):(g.promiseError(e),alert(a("key_416"))),_(null),k(!1),R.resetValues(ee,ae),oe()}))}function oe(){N((function(e){return Object(L.a)(Object(L.a)({},e),{},{value:""})})),E.ref.current.focus()}function le(){C&&!F.some((function(e){return e.Code===C.Code}))?(F.push(C),_(null)):C&&alert("A embalagem "+C.Code+" j\xe1 foi introduzida!")}return Object(f.useEffect)((function(){l.setLoadPage(!0),fetch(u+"Warehouse/Bins"+s({languageCode:o.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){M(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(a("key_303"))):(g.promiseError(e),alert(a("key_416")))})).finally((function(){l.setLoadPage(!1)})),J.clear()}),[]),Object(f.useEffect)((function(){R.areAnalyzed(ee)&&(R.areValid(ee)?(F.forEach((function(e){return t=e,k(!0),void fetch(u+"Warehouse/Bins/Boxes"+s({ID:t.ID}),v.addAuthorizationHeader({method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({binID:X.value,orderCode:t.OrderCode})})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=7;break}_(null),k(!1),R.resetValues(ee,ae),oe(),e.next=8;break;case 7:throw a;case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(a("key_302"))):(g.promiseError(e),alert(a("key_416"))),k(!1)}));var t})),z([]),_(null),alert("As embalagens foram transferidas com sucesso!"),oe()):R.popUpAlerts(ee,a),R.resetValidations(ee,ae))}),ee),Object(f.useEffect)((function(){null!=C&&(F.length<1?(P(C.OrderCode),le()):C.OrderCode===T?le():alert("A embalagem "+C.Code+" n\xe3o pertence \xe0 encomenda "+T+"!"))}),[C]),Object(f.useEffect)((function(){null!==T&&fetch(u+"Warehouse/Bins"+s({order:T,languageCode:o.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){M(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(a("key_303"))):(g.promiseError(e),alert(a("key_416")))}))}),[T]),Object(f.useEffect)((function(){var e;K.length>0&&(null===(e=K[0])||void 0===e?void 0:e.ID)&&Z((function(e){return Object(L.a)(Object(L.a)({},e),{},{value:K[0].ID.toString()})}))}),[K]),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:"Transferir v\xe1rias embalagens"}),d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),ce()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},E.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},E,{isDisabled:O,set:N})))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:O,onClick:function(e){return oe()}},d.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!o.androidApp&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:O,onClick:function(e){return ce()}},d.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),!O&&F.length>0&&d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:"Detalhe da encomenda"}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!O}),d.a.createElement("div",{className:"famo-grid famo-form-grid "+(O?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_179"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},F[0].OrderCode)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_85"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},F[0].CustomerName)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_670"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},m(F[0].ExpectedShipmentDate).format("L")))))))),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!O}),d.a.createElement("div",{className:"famo-grid famo-content-grid "+(O?"hide":"")},d.a.createElement("div",{className:"famo-row famo-header-row"},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("span",{className:"famo-text-11"},"Embalagens ("+F.length+")")),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("span",{className:"famo-text-11"},"Bin"))),F.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-row famo-body-row"},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("span",{className:"famo-text-10 "},e.Code)),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("span",{className:"famo-text-10 "},e.Bin.Code)))})))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:a("key_898")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!O}),F.length>0&&K.length>0&&d.a.createElement("form",{className:"famo-grid famo-form-grid "+(O?"hide":""),noValidate:!0},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},X.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},X,{set:Z}),d.a.createElement("option",{key:-1,value:""}),K.map((function(e,a){return d.a.createElement("option",{key:a,value:e.ID},e.Code)})))))))),F.length>0&&K.length>0&&d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",disabled:O,onClick:function(e){return re(he.Box),void R.analyze(ee,ae)}},d.a.createElement("span",{className:"famo-text-12"},a("key_904")))))))))}function we(e){var a=Object(V.a)().t,t=$(),n=Object(b.a)(t,1)[0],o=window.moment,l=Object(f.useState)({ref:d.a.createRef(),type:A.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),m=Object(b.a)(l,2),i=m[0],p=m[1],E=Object(f.useState)(!1),N=Object(b.a)(E,2),h=N[0],x=N[1],O=Object(f.useState)(null),k=Object(b.a)(O,2),w=k[0],j=k[1];function C(){x(!0),fetch(u+"Warehouse/Bins/Boxes"+s({code:i.value,languageCode:n.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){j(e),x(!1)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(e.status===y.a.NOT_FOUND?a("key_883"):a("key_303"))):(g.promiseError(e),alert(a("key_416"))),j(null),x(!1),_()}))}function _(){p((function(e){return Object(L.a)(Object(L.a)({},e),{},{value:""})})),i.ref.current.focus()}return Object(f.useEffect)((function(){J.clear()}),[]),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:a("key_891")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:function(e){e.preventDefault(),C()}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},i.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},i,{isDisabled:h,set:p})))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),d.a.createElement("div",{className:"famo-grid famo-buttons"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:h,onClick:function(e){return _()}},d.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!n.androidApp&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:h,onClick:function(e){return C()}},d.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),(h||w)&&d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:a("key_819")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!h}),w&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"famo-grid famo-form-grid "+(h?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_87"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},w.Code)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_179"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},w.OrderCode)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_85"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},w.CustomerName)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_670"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},o(w.ExpectedShipmentDate).format("L"))))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_893"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},w.Bin.Code))))),d.a.createElement("div",{className:"famo-grid famo-buttons "+(h?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:function(e){window.confirm(a("key_880"))&&(x(!0),fetch(u+"Warehouse/Bins/Boxes"+s({ID:w.ID}),v.addAuthorizationHeader({method:"DELETE",headers:{"Content-Type":"application/json"}})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=6;break}j(null),x(!1),_(),e.next=7;break;case 6:throw a;case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(a("key_302"))):(g.promiseError(e),alert(a("key_416"))),x(!1)})))}},d.a.createElement("span",{className:"famo-text-12"},a("key_489"))))))))))}function je(e){var a=Object(V.a)().t,t=$(),n=Object(b.a)(t,2),o=n[0],l=n[1],m=window.moment,i=window.numeral,p=Object(f.useState)([]),E=Object(b.a)(p,2),N=E[0],h=E[1],x=Object(f.useState)({ref:d.a.createRef(),type:A.Select,label:a("key_179"),className:"famo-input famo-text-10",name:"orderCode",value:""}),O=Object(b.a)(x,2),k=O[0],w=O[1],j=[k],C=[w],_=Object(f.useState)(!1),S=Object(b.a)(_,2),D=S[0],T=S[1],P=Object(f.useState)(!0),B=Object(b.a)(P,2),I=B[0],F=B[1],z=Object(f.useState)(null),H=Object(b.a)(z,2),K=H[0],M=H[1],q=Object(f.useState)({ref:d.a.createRef(),type:A.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"searchBox",value:"",autoFocus:!0}),Q=Object(b.a)(q,2),X=Q[0],Z=Q[1],ee=Object(f.useState)(null),ae=Object(b.a)(ee,2),te=(ae[0],ae[1]),ne={standalone:!1,cornerRadius:10,innerRadius:120,padAngle:3,padding:{top:25,bottom:5}},re={lineHeight:3.5,x:200,y:210},ce=[a("key_339"),a("key_900"),a("key_892")],oe=Object(f.useState)([]),le=Object(b.a)(oe,2),se=le[0],me=le[1],ie=Object(f.useState)(!1),ue=Object(b.a)(ie,2),fe=ue[0],de=ue[1],pe=[a("key_87"),a("key_138"),a("key_899"),a("key_892"),""],be=Object(f.useState)([[]]),Ne=Object(b.a)(be,2),he=Ne[0],ve=Ne[1];function ye(){T(!0),fetch(u+"ERP/Orders"+s({code:k.value}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){M(e)})).catch((function(e){console.log(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),e.status===y.a.NOT_FOUND?alert(a("key_884")):alert(a("key_303"))):(g.promiseError(e),alert(a("key_416"))),M(null),me([]),T(!1),R.resetValues(j,C)}))}return Object(f.useEffect)((function(){l.setLoadPage(!0),fetch(u+"ERP/Warehouse/Pending/Orders"+s({}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){h(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(a("key_303"))):(g.promiseError(e),alert(a("key_416")))})).finally((function(){l.setLoadPage(!1)})),J.clear()}),[]),Object(f.useEffect)((function(){""!==k.value?ye():(M(null),me([]))}),j),Object(f.useEffect)((function(){K&&fetch(u+"Warehouse/Bins/Boxes"+s({orderCode:k.value,languageCode:o.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){me(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(e.status===y.a.NOT_FOUND?a("key_884"):a("key_303"))):(g.promiseError(e),alert(a("key_416")))})).finally((function(){T(!1)}))}),[K]),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:a("key_897")}),d.a.createElement("div",{className:"famo-content"},I&&d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",hidden:!I,noValidate:!0},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},k.label)),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},k,{isDisabled:D||!I,set:w}),d.a.createElement("option",{key:""}),N.map((function(e,a){return d.a.createElement("option",{key:a,value:e.Code},e.Code)}))))),d.a.createElement("input",{type:"submit",className:"hide",value:""})),!I&&d.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",hidden:I,noValidate:!0,onSubmit:function(e){e.preventDefault(),fetch(u+"Warehouse/Bins/Boxes"+s({code:X.value,languageCode:o.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){w((function(a){return Object(L.a)(Object(L.a)({},a),{},{value:e.OrderCode})})),Z((function(e){return Object(L.a)(Object(L.a)({},e),{},{value:""})})),T(!1)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}if(g.httpError(t),t.status!==y.a.NOT_FOUND){e.next=6;break}alert(a("key_883")),e.next=16;break;case 6:if(t.status!==y.a.FORBIDDEN){e.next=10;break}alert(a("key_871")),e.next=16;break;case 10:if(t.status!==y.a.CONFLICT){e.next=15;break}return e.next=13,t.json().then((function(e){alert(a("key_887")+" "+e.box)})).catch((function(e){g.promiseError(e),alert(a("key_416"))}));case 13:e.next=16;break;case 15:alert(a("key_303"));case 16:e.next=20;break;case 18:g.promiseError(t),alert(a("key_416"));case 20:Z((function(e){return Object(L.a)(Object(L.a)({},e),{},{value:""})})),te(null),T(!1);case 23:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},"Embalagem")),d.a.createElement("div",{className:"famo-cell"},d.a.createElement(G,Object.assign({},X,{isDisabled:D||I,set:Z}))))),d.a.createElement("div",{className:"famo-grid famo-buttons "+(D?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",onClick:function(){F(!I)}},d.a.createElement("span",{className:"famo-text-12"},I?"Embalagem":"Encomenda"))))))),(D||K)&&d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement(W,{text:a("key_179")}),d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!D}),K&&d.a.createElement("div",{className:"famo-grid famo-form-grid "+(D?"hide":"")},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_179"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},K.Code)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_85"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},K.CustomerName)))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell famo-input-label"},d.a.createElement("span",{className:"famo-text-11"},a("key_670"))),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("div",{className:"famo-input"},d.a.createElement("span",{className:"famo-text-10"},m(K.ExpectedShipmentDate).format("L")))))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!D}),K&&d.a.createElement("div",{className:"container "+(D?"hide":"")},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 col-lg-4"},d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-11"},a("key_889")))),d.a.createElement("div",{className:"pda-victory-container"},d.a.createElement("svg",{width:400,height:400,viewBox:"0, 0, 400, 400"},d.a.createElement(Ee.a,Object.assign({},ne,{data:[{x:!0,y:se.filter((function(e){return!e.IsPrinted})).length},{x:!1,y:se.filter((function(e){return e.IsPrinted})).length}],colorScale:["#ff3333","#bfbfbf"],labels:function(){return null}})),d.a.createElement(xe.a,Object.assign({},re,{textAnchor:"middle",verticalAnchor:"middle",text:[i(se.filter((function(e){return!e.IsPrinted})).length/se.length).format("0.00%"),i(se.filter((function(e){return!e.IsPrinted})).length).format("0,0")+"/"+i(se.length).format("0,0")],style:[{fill:"#ff3333"}]}))))),d.a.createElement("div",{className:"col-12 col-lg-4"},d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-11"},a("key_886")))),d.a.createElement("div",{className:"pda-victory-container"},d.a.createElement("svg",{width:400,height:400,viewBox:"0, 0, 400, 400"},d.a.createElement(Ee.a,Object.assign({},ne,{data:[{x:!0,y:se.filter((function(e){return e.IsPrinted&&-1===e.Bin.ID})).length},{x:!1,y:se.filter((function(e){return!(e.IsPrinted&&-1===e.Bin.ID)})).length}],colorScale:["#3333ff","#bfbfbf"],labels:function(){return null}})),d.a.createElement(xe.a,Object.assign({},re,{textAnchor:"middle",verticalAnchor:"middle",text:[i(se.filter((function(e){return e.IsPrinted&&-1===e.Bin.ID})).length/se.length).format("0.00%"),i(se.filter((function(e){return e.IsPrinted&&-1===e.Bin.ID})).length).format("0,0")+"/"+i(se.length).format("0,0")],style:[{fill:"#3333ff"}]}))))),d.a.createElement("div",{className:"col-12 col-lg-4"},d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-11"},a("key_888")))),d.a.createElement("div",{className:"pda-victory-container"},d.a.createElement("svg",{width:400,height:400,viewBox:"0, 0, 400, 400"},d.a.createElement(Ee.a,Object.assign({},ne,{data:[{x:!0,y:se.filter((function(e){return e.IsPrinted&&-1!==e.Bin.ID})).length},{x:!1,y:se.filter((function(e){return!(e.IsPrinted&&-1!==e.Bin.ID)})).length}],colorScale:["#33ff33","#bfbfbf"],labels:function(){return null}})),d.a.createElement(xe.a,Object.assign({},re,{textAnchor:"middle",verticalAnchor:"middle",text:[i(se.filter((function(e){return e.IsPrinted&&-1!==e.Bin.ID})).length/se.length).format("0.00%"),i(se.filter((function(e){return e.IsPrinted&&-1!==e.Bin.ID})).length).format("0,0")+"/"+i(se.length).format("0,0")],style:[{fill:"#33ff33"}]}))))))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement(Y,{hide:!D}),K&&d.a.createElement("div",{className:"famo-grid famo-content-grid warehouse-boxes "+(D?"hide":"")},d.a.createElement("div",{className:"famo-row famo-header-row"},ce.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},d.a.createElement("span",{className:"famo-text-11"},e))}))),Object.entries(se.sort((function(e,a){return e.ProductCode>a.ProductCode?1:-1})).reduce((function(e,a){return e[a.ProductCode]=e[a.ProductCode]||[],e[a.ProductCode].push(a),e}),{})).map((function(e){var t=Object(b.a)(e,2),n=t[0],l=t[1];return Object.entries(l.sort((function(e,a){return e.Bin.Code>a.Bin.Code?-1:1})).reduce((function(e,a){return e[a.Bin.Code]=e[a.Bin.Code]||[],e[a.Bin.Code].push(a),e}),{})).map((function(e,t){var m=Object(b.a)(e,2),f=m[0],p=m[1];return d.a.createElement("div",{key:t,className:"famo-row famo-body-row",style:{cursor:"pointer"},onClick:function(e){return function(e,t,n){fetch(u+"ERP/Shipments/Products/Components"+s({orderCode:n,orderLine:0,productCode:t,languageCode:o.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){de(!0),ve(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(a("key_303"))):(g.promiseError(e),alert(a("key_416")))})).finally((function(){}))}(e.currentTarget,n,K.Code)}},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("span",{className:"famo-text-10"},n)),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("span",{className:"famo-text-10"},i(p.length).format("0,0"),"/",i(l.length).format("0,0"))),d.a.createElement("div",{className:"famo-cell famo-col-3"},d.a.createElement("span",{className:"famo-text-10 "+("null"===f?"famo-color-yellow":"")},"null"===f?"n/a":f)))}))})))))),d.a.createElement(U,{visible:fe,setVisible:de},he.filter((function(e){return e.length>0})).map((function(e,t){var n=e[0].ProductCode,r=e[0].ProductDescription;return d.a.createElement("section",{key:t,className:"famo-wrapper"},d.a.createElement(W,{text:n+" - "+r}),d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid famo-content-grid expedition-components"},d.a.createElement("div",{className:"famo-row famo-header-row"},pe.map((function(e,a){return d.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},d.a.createElement("span",{className:"famo-text-11"},e))}))),e.map((function(e,t){return d.a.createElement("div",{key:t,className:"famo-row famo-body-row"},d.a.createElement("div",{className:"famo-cell famo-col-1"},d.a.createElement("span",{className:"famo-text-10"},e.ComponentCode)),d.a.createElement("div",{className:"famo-cell famo-col-2"},d.a.createElement("span",{className:"famo-text-10 "+(e.ComponentDescription?"":"famo-color-yellow")},e.ComponentDescription?e.ComponentDescription:a("key_237"))),d.a.createElement("div",{className:"famo-cell famo-col-3"},d.a.createElement("span",{className:"famo-text-10"},e.BoxCode)),d.a.createElement("div",{className:"famo-cell famo-col-4"},d.a.createElement("span",{className:"famo-text-10 "+(-1===e.Bin.ID?"famo-color-yellow":"")},-1===e.Bin.ID?"n/a":e.Bin.Code)),d.a.createElement("div",{className:"famo-cell famo-col-5"},d.a.createElement("span",{className:"fas "+(e.BoxPrinted?"fa-check famo-color-green":"fa-times famo-color-red")})))})))))}))))}!function(e){e[e.Box=1]="Box",e[e.Order=2]="Order"}(he||(he={}));var Ce=Object(Q.j)((function(e){return d.a.createElement(Q.e,null,d.a.createElement(Q.c,{exact:!0,path:"/Warehouse",render:function(e){return d.a.createElement(ye,e)}}),d.a.createElement(Q.c,{exact:!0,path:"/Warehouse/Boxes/Add",render:function(e){return d.a.createElement(ge,e)}}),d.a.createElement(Q.c,{exact:!0,path:"/Warehouse/Boxes/Transfer",render:function(e){return d.a.createElement(Oe,e)}}),d.a.createElement(Q.c,{exact:!0,path:"/Warehouse/Boxes/TransferMany",render:function(e){return d.a.createElement(ke,e)}}),d.a.createElement(Q.c,{exact:!0,path:"/Warehouse/Boxes/Delete",render:function(e){return d.a.createElement(we,e)}}),d.a.createElement(Q.c,{exact:!0,path:"/Warehouse/Orders",render:function(e){return d.a.createElement(je,e)}}),d.a.createElement(Q.c,{path:"/Warehouse/*",render:function(){return d.a.createElement(Q.b,{to:"/Warehouse"})}}))})),_e=t(839);var Se=Object(Q.j)((function(e){var a=e.location,t=Object(V.a)().t,n=$(),o=Object(b.a)(n,2),l=o[0],m=o[1],i=window.moment,p=window.numeral,E=M.a.parse(a.search),N=E.workCenterID?E.workCenterID:0,h=E.machineCenters?E.machineCenters:null,x=Object(f.useState)([]),O=Object(b.a)(x,2),k=O[0],w=O[1],j=Object(f.useState)([]),C=Object(b.a)(j,2),_=C[0],S=C[1],D=Object(f.useState)(),T=Object(b.a)(D,2),P=T[0],A=T[1],B=Object(f.useState)([]),I=Object(b.a)(B,2),L=I[0],F=I[1],z=Object(f.useState)([]),R=Object(b.a)(z,2),H=R[0],G=R[1],U=Object(f.useState)([]),K=Object(b.a)(U,2),W=K[0],q=K[1],Y=Object(f.useState)(!0),Q=Object(b.a)(Y,2),J=Q[0],X=Q[1],Z=Object(f.useState)(i()),ee=Object(b.a)(Z,2),ae=ee[0],te=ee[1],ne={standalone:!1,cornerRadius:0,innerRadius:0,padAngle:0,padding:{top:25,bottom:5}},re=Object(f.useState)(null),ce=Object(b.a)(re,2),oe=ce[0],le=ce[1],se=Object(f.useState)(0),me=Object(b.a)(se,2),ie=me[0],ue=me[1];function fe(){return fetch(u+"Productivity/TVChart"+s({machineCenters:h,workCenterID:N,weeks:0}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){w(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_303"))):(g.promiseError(e),alert(t("key_416")))}))}function be(){return fetch(u+"Productivity/TVChart"+s({machineCenters:h,workCenterID:N,weeks:2}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){S(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_303"))):(g.promiseError(e),alert(t("key_416")))}))}function Ne(){return fetch(u+"Productivity/Indicators"+s({machineCenters:h,workCenterID:N,weeks:0}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){F(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_303"))):(g.promiseError(e),alert(t("key_416")))}))}function he(){return fetch(u+"Productivity/Indicators"+s({machineCenters:h,workCenterID:N,weeks:2}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){G(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_303"))):(g.promiseError(e),alert(t("key_416")))}))}function ve(){return fetch(u+"Productivity/TVLabel"+s({machineCenters:h,workCenterID:N}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){A(e[0])}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_303"))):(g.promiseError(e),alert(t("key_416")))}))}function ye(){return fetch(u+"Productivity/TVProductionOrders"+s({machineCenters:h,workCenterID:N}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){q(e)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_303"))):(g.promiseError(e),alert(t("key_416")))}))}function ge(){return fetch(u+"TV/Messages"+s({date:i().format("YYYY-MM-DDTHH:mm:ss"),languageCode:l.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){le(e),ue(0)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(t("key_303"))):(g.promiseError(e),alert(t("key_416")))}))}return Object(pe.a)((function(){X(!J)}),15e3),Object(pe.a)((function(){te(i())}),1e3),Object(pe.a)((function(){Promise.all([fe(),be(),Ne(),he(),ve(),ye()])}),3e4),Object(pe.a)((function(){ge()}),18e5),Object(pe.a)((function(){oe&&oe.length>0&&ue(ie+1===oe.length?0:ie+1)}),5e3),Object(f.useEffect)((function(){m.setLoadPage(!0),Promise.all([fe(),be(),ge(),Ne(),he(),ve(),ye()]).finally((function(){m.setLoadPage(!1)}))}),[]),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"container famo-wrapper"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 col-xl-2 "},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid tv-famo-logo"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("img",{src:"http://www.famo-code.com/Content/Images/logo-famo-black.png",alt:"FAMO"})))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid rating-panel"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23"},ae.format("L"))))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid rating-panel"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23"},ae.format("LTS")))))))),d.a.createElement("div",{className:"col-12 col-xl-10"},d.a.createElement("section",{className:"famo-wrapper tv-dark-wrapper"},d.a.createElement("div",{className:"famo-content"},P&&d.a.createElement("div",{className:"famo-grid rating-panel"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23 famo-text-60"},P)))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"row indicators-row"},d.a.createElement("div",{className:"col-6 text-center "+(J?"":"indicators-right")},k&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-11"},"Ordens produ\xe7\xe3o - 2 Semanas"))),d.a.createElement("svg",{width:400,height:400},d.a.createElement(Ee.a,Object.assign({},ne,{data:[{x:!0,y:_[0]},{x:!1,y:_[1]}],colorScale:["#0aae00","#FF0000"],labels:function(){return null}}))))),d.a.createElement("div",{className:"col-6 "+(J?"":"indicators-right")},L&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-11"},"Indicadores - 2 semanas"))),d.a.createElement("div",{className:"famo-grid mt-20"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10"},"Ordens produ\xe7\xe3o")),d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("span",{className:"famo-text-10"},p(H[0]).format("0,0")))),d.a.createElement("div",{className:"famo-row mt-20"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10"},"Encomendas")),d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("span",{className:"famo-text-10"},p(H[1]).format("0,0")))),d.a.createElement("div",{className:"famo-row mt-20"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10"},"MRPs")),d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("span",{className:"famo-text-10"},p(H[2]).format("0,0")))),d.a.createElement("div",{className:"famo-row mt-20"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10"},"Pe\xe7as")),d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("span",{className:"famo-text-10"},p(H[3]).format("0,0")))),d.a.createElement("div",{className:"famo-row mt-20"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10 famo-color-green"},"No prazo")),d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("span",{className:"famo-text-10 famo-color-green"},p(_[0]).format("0,0")))),d.a.createElement("div",{className:"famo-row mt-20"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10 famo-color-red"},"Atraso")),d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("span",{className:"famo-text-10 famo-color-red"},p(_[1]).format("0,0"))))))),d.a.createElement("div",{className:"col-6 text-center "+(J?"":"indicators-right")},k&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-11"},"Ordens produ\xe7\xe3o - Total"))),d.a.createElement("svg",{width:400,height:400},d.a.createElement(Ee.a,Object.assign({},ne,{data:[{x:!0,y:k[0]},{x:!1,y:k[1]}],colorScale:["#0aae00","#FF0000"],labels:function(){return null}}))))),d.a.createElement("div",{className:"col-6 "+(J?"":"indicators-right")},L&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-11"},"Indicadores - Total"))),d.a.createElement("div",{className:"famo-grid mt-20"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10"},"Ordens produ\xe7\xe3o")),d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("span",{className:"famo-text-10"},p(L[0]).format("0,0")))),d.a.createElement("div",{className:"famo-row mt-20"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10"},"Encomendas")),d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("span",{className:"famo-text-10"},p(L[1]).format("0,0")))),d.a.createElement("div",{className:"famo-row mt-20"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10"},"MRPs")),d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("span",{className:"famo-text-10"},p(L[2]).format("0,0")))),d.a.createElement("div",{className:"famo-row mt-20"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10"},"Pe\xe7as")),d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("span",{className:"famo-text-10"},p(L[3]).format("0,0")))),d.a.createElement("div",{className:"famo-row mt-20"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10 famo-color-green"},"No prazo")),d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("span",{className:"famo-text-10 famo-color-green"},p(k[0]).format("0,0")))),d.a.createElement("div",{className:"famo-row mt-20"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10 famo-color-red"},"Atraso")),d.a.createElement("div",{className:"famo-cell text-right"},d.a.createElement("span",{className:"famo-text-10 famo-color-red"},p(k[1]).format("0,0")))))))))),(W[1]>0||W[3]>0)&&d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content mh-320"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-6"},W&&W[4]>=0&&W[1]>0&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-11"},"Produ\xe7\xe3o di\xe1ria"))),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-6"},d.a.createElement("svg",{viewBox:"0 0 550 550"},d.a.createElement(Ee.a,{standalone:!1,animate:{duration:1e3},data:[{x:1,y:W[4]},{x:2,y:100-W[4]}],innerRadius:120,cornerRadius:20,labels:function(){return null},style:{data:{fill:function(e){var a=e.datum,t=a.y>60?"green":"red";return 1===a.x?t:"transparent"}}}}),d.a.createElement(_e.a,{duration:1e3,data:[{x:1,y:W[4]},{x:2,y:100-W[4]}]},(function(e){return d.a.createElement(xe.a,{textAnchor:"middle",verticalAnchor:"middle",x:200,y:200,text:p(W[4]).format("0,0")+"%",style:{fontSize:45,fontFamily:"Noto Sans"}})})))),d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"famo-grid mt-20"},d.a.createElement("div",{className:"famo-row "},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10"},"Total")),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10"},p(W[0]+W[1]).format("0,0")))),d.a.createElement("div",{className:"famo-row mt-20"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10 famo-color-green"},"Terminadas")),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10 famo-color-green"},p(W[1]).format("0,0")))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10 famo-color-red"},"Em falta")),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10 famo-color-red"},p(W[0]).format("0,0"))))))))),d.a.createElement("div",{className:"col-6"},L&&W[5]&&W[3]>0&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"famo-grid"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-11"},"Produ\xe7\xe3o semanal"))),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-6"},d.a.createElement("svg",{viewBox:"0 0 550 550"},d.a.createElement(Ee.a,{standalone:!1,animate:{duration:1e3},data:[{x:1,y:W[5]},{x:2,y:100-W[5]}],innerRadius:120,cornerRadius:20,labels:function(){return null},style:{data:{fill:function(e){var a=e.datum,t=a.y>60?"green":"red";return 1===a.x?t:"transparent"}}}}),d.a.createElement(_e.a,{duration:1e3,data:[{x:1,y:W[5]},{x:2,y:100-W[5]}]},(function(e){return d.a.createElement(xe.a,{textAnchor:"middle",verticalAnchor:"middle",x:200,y:200,text:p(W[5]).format("0,0")+"%",style:{fontSize:45,fontFamily:"Noto Sans"}})})))),d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"famo-grid mt-20"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10"},"Total")),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10"},p(W[2]+W[3]).format("0,0")))),d.a.createElement("div",{className:"famo-row mt-20"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10 famo-color-green"},"Terminadas")),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10 famo-color-green"},p(W[3]).format("0,0")))),d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10 famo-color-red"},"Em falta")),d.a.createElement("div",{className:"famo-cell"},d.a.createElement("span",{className:"famo-text-10 famo-color-red"},p(W[2]).format("0,0"))))))))))))))),d.a.createElement("section",{className:"tv-footer"},d.a.createElement("div",{className:"container tv-messages"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 col-xl-2"},d.a.createElement("div",{className:"famo-grid tv-message-type"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell"},oe&&oe.length>0&&d.a.createElement("span",{className:"tv-text-2"},oe[ie].Type.Label))))),d.a.createElement("div",{className:"col-12 col-xl-10"},d.a.createElement("div",{className:"famo-grid tv-message-content"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell"},oe&&oe.map((function(e,a){return d.a.createElement(de.a,{key:a,in:a===ie,timeout:250,classNames:"transition"},d.a.createElement("span",{className:"tv-text-3 "+(a!==ie?"hide":"")},e.Text))}))))))))))})),De=t(835),Te=t(837),Pe=t(844),Ae=t(838);var Be=Object(Q.j)((function(e){e.location;var a=Object(V.a)().t,t=$(),n=Object(b.a)(t,2),o=n[0],l=n[1],m=window.moment,i=Object(f.useState)([]),p=Object(b.a)(i,2),E=p[0],N=p[1],h=Object(f.useState)(0),x=Object(b.a)(h,2),O=(x[0],x[1]),k=Object(f.useState)([]),w=Object(b.a)(k,2),j=w[0],C=w[1],_=Object(f.useState)(1),S=Object(b.a)(_,2),D=S[0],T=S[1],P=Object(f.useState)(m()),A=Object(b.a)(P,2),B=A[0],L=A[1],F=Object(f.useState)(),z=Object(b.a)(F,2),R=z[0],H=z[1],G=Object(f.useState)(0),U=Object(b.a)(G,2),K=U[0],M=U[1],W=Object(f.useState)(null),q=Object(b.a)(W,2),Y=q[0],Q=q[1],J=Object(f.useState)(0),X=Object(b.a)(J,2),Z=X[0],ee=X[1];function ae(){return fetch(u+"Painting/TVChainItemQuantities"+s({}),v.addAuthorizationHeader({method:"GET"})).then((function(e){return e.json()})).then((function(e){N(e)})).catch((function(e){e?(g.httpError(e),alert(a("key_303"))):(g.promiseError(e),alert(a("key_416")))}))}function te(){return fetch(u+"Painting/TVPaintingColor"+s({}),v.addAuthorizationHeader({method:"GET"})).then((function(e){return e.json()})).then((function(e){H(e)})).catch((function(e){e?(g.httpError(e),alert(a("key_303"))):(g.promiseError(e),alert(a("key_416")))}))}function ne(){return fetch(u+"TV/Messages"+s({date:m().format("YYYY-MM-DDTHH:mm:ss"),languageCode:o.authUser.Language.Code}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then((function(e){Q(e),ee(0)}));case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){e?(g.httpError(e),alert(a("key_303"))):(g.promiseError(e),alert(a("key_416")))}))}return Object(f.useEffect)((function(){O(Math.max.apply(Math,Object(I.a)(E.map((function(e){return e.Quantity}))))),E.length%10===0?T(Math.floor(E.length/10)):T(Math.floor(E.length/10)+1)}),[E]),Object(f.useEffect)((function(){var e=Array.from({length:D},(function(e,a){return a+1}));C(e)}),[D]),Object(pe.a)((function(){L(m())}),1e3),Object(pe.a)((function(){Promise.all([ae(),te()])}),15e3),Object(pe.a)((function(){ne()}),18e5),Object(pe.a)((function(){Y&&Y.length>0&&ee(Z+1===Y.length?0:Z+1)}),5e3),Object(f.useEffect)((function(){var e=setTimeout((function(){M((K+1)%j.length)}),1e4);return function(){clearTimeout(e)}}),[K,j.length]),Object(f.useEffect)((function(){l.setLoadPage(!0),Promise.all([ae(),te(),ne()]).finally((function(){l.setLoadPage(!1)}))}),[]),d.a.createElement(d.a.Fragment,null,d.a.createElement("section",{className:"container famo-wrapper"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 col-xl-2 "},d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid tv-famo-logo"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("img",{src:"http://www.famo-code.com/Content/Images/logo-famo-black.png",alt:"FAMO"})))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid rating-panel"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23"},B.format("L"))))))),d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid rating-panel"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23"},B.format("LTS")))))))),d.a.createElement("div",{className:"col-12 col-xl-10"},d.a.createElement("section",{className:"famo-wrapper tv-dark-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"famo-grid rating-panel"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell text-center"},d.a.createElement("span",{className:"famo-text-23 famo-text-60"},"Pintura - Pe\xe7as em carga")))))),j.length>0&&R&&d.a.createElement("section",{className:"famo-wrapper"},d.a.createElement("div",{className:"famo-content"},d.a.createElement("div",{className:"row painting-carousel-container"},j.map((function(e,a){return d.a.createElement("div",{key:e,className:"painting-carousel-item col-12 ".concat(K===a?"active":"")},d.a.createElement(De.a,{domainPadding:20,horizontal:!0,padding:{top:10,bottom:50,left:60,right:20},style:{parent:{width:"90%",height:"800px"}}},d.a.createElement(Te.a,{data:E.sort((function(e,a){return a.Quantity-e.Quantity})).slice(10*(e-1),10*e).sort((function(e,a){return e.Quantity-a.Quantity})),x:"Color.CrossReference",y:"Quantity",labelComponent:d.a.createElement(xe.a,{dx:20,textAnchor:"end",style:{fontFamily:"Noto Sans",fontSize:8,fill:"black"}}),barWidth:15,containerComponent:d.a.createElement(Pe.a,null),style:{data:{fill:function(e){var a=e.datum;return null!=a.Color.Hexadecimal?a.Color.Hexadecimal:"#FFFFFF"},width:15,stroke:function(e){return e.datum.Color.CrossReference==R?"red":"black"},strokeWidth:function(e){return e.datum.Color.CrossReference==R?1.5:.2}}}}),d.a.createElement(Ae.a,{dependentAxis:!0,label:"Quantidade",style:{tickLabels:{fontSize:10,fontFamily:"Noto Sans"},axisLabel:{fontFamily:"Noto Sans",fontSize:12}}}),d.a.createElement(Ae.a,{label:"Cor",axisLabelComponent:d.a.createElement(xe.a,{x:45,y:20,angle:0}),style:{tickLabels:{fontFamily:"Noto Sans",fontSize:10},axisLabel:{fontFamily:"Noto Sans",fontSize:14}}})))})))))))),d.a.createElement("section",{className:"tv-footer"},d.a.createElement("div",{className:"container tv-messages"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 col-xl-2"},d.a.createElement("div",{className:"famo-grid tv-message-type"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell"},Y&&Y.length>0&&d.a.createElement("span",{className:"tv-text-2"},Y[Z].Type.Label))))),d.a.createElement("div",{className:"col-12 col-xl-10"},d.a.createElement("div",{className:"famo-grid tv-message-content"},d.a.createElement("div",{className:"famo-row"},d.a.createElement("div",{className:"famo-cell"},Y&&Y.map((function(e,a){return d.a.createElement(de.a,{key:a,in:a===Z,timeout:250,classNames:"transition"},d.a.createElement("span",{className:"tv-text-3 "+(a!==Z?"hide":"")},e.Text))}))))))))))})),Ie=t(252);function Le(e){var a=Object(Q.h)(),t=Object(Q.i)(),n=Object(V.a)().t,o=$(),l=Object(b.a)(o,2),i=l[0],p=l[1],E=Object(f.useState)(!0),N=Object(b.a)(E,2),h=N[0],x=N[1],O=Object(f.useState)(!1),k=Object(b.a)(O,2),w=k[0],j=k[1],C=-1,_=null;return Object(f.useEffect)((function(){x(!0),fetch(u+"Authentication/Session/User"+s({}),v.addAuthorizationHeader({method:"GET"})).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ok||a.status!==y.a.OK){e.next=5;break}return e.next=3,a.json().then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(a,p,n);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 3:e.next=6;break;case 5:throw a;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.autoSignIn(p,n);case 2:a?g.httpError(a):g.promiseError(a);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).finally((function(){x(!1)}))}),[]),Object(f.useEffect)((function(){j("/"!==t.pathname&&"/TV"!==t.pathname&&"/TVChart"!==t.pathname&&"/TVPainting"!==t.pathname&&"/TVReception"!==t.pathname&&"/TVBoxing"!==t.pathname)}),[t.pathname]),d.a.createElement(d.a.Fragment,null,!h&&d.a.createElement(Ie.a,{trackMouse:!0,trackTouch:!1,onSwiping:function(e){return function(e){m()||"Up"!==e.dir&&"Down"!==e.dir||(-1===C&&(_=e.event.composedPath().some((function(e){var a=e.className;return!!a&&-1!==a.indexOf("famo-modal")}))?document.querySelector(".famo-modal"):document.querySelector("body"),C=_.scrollTop),_.scrollTop=C+e.deltaY)}(e)},onSwiped:function(e){return _=null,void(C=-1)}},d.a.createElement("section",{className:"famo-body "+("/TV"===t.pathname||"/TVReception"===t.pathname||"/TVBoxing"===t.pathname||"/TVChart"===t.pathname||"/TVPainting"===t.pathname?"tv-body":"")+("/TVChart"===t.pathname?" ov-y-hidden ":"")},d.a.createElement(Q.e,null,d.a.createElement(Q.c,{exact:!0,path:"/",render:function(){return d.a.createElement(re,null)}}),d.a.createElement(Q.c,{path:"/TV",render:function(){return d.a.createElement(be,null)}}),d.a.createElement(Q.c,{path:"/TVReception",render:function(){return d.a.createElement(Ne,null)}}),d.a.createElement(Q.c,{path:"/TVBoxing",render:function(){return d.a.createElement(ve,null)}}),d.a.createElement(Q.c,{path:"/Warehouse",render:function(){return d.a.createElement(Ce,null)}}),d.a.createElement(Q.c,{path:"/Expedition",render:function(){return d.a.createElement(te,null)}}),d.a.createElement(Q.c,{path:"/Pallets",render:function(){return d.a.createElement(ue,null)}}),d.a.createElement(Q.c,{path:"/Inventory",render:function(){return d.a.createElement(oe,null)}}),d.a.createElement(Q.c,{path:"/ReceiveOT",render:function(){return d.a.createElement(se,null)}}),d.a.createElement(Q.c,{path:"/TVChart",render:function(){return d.a.createElement(Se,null)}}),d.a.createElement(Q.c,{path:"/TVPainting",render:function(){return d.a.createElement(Be,null)}})),!i.androidApp&&w&&d.a.createElement("button",{type:"button",className:"famo-button famo-normal-button pda-back-button "+(i.loadPage?"hide":""),onClick:function(e){return a.goBack()}},d.a.createElement("span",{className:"fas fa-arrow-left"})))),d.a.createElement(q,{hide:!h&&!i.loadPage}))}var Fe=function(e){return d.a.createElement(ne.a,{basename:"/"},d.a.createElement(Le,e))};function Ve(){return ze.apply(this,arguments)}function ze(){return(ze=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{document.getElementById("pda-footer").innerText=(new Date).getFullYear()+" \xa9 FAMO - PDA",E.a.render(d.a.createElement(f.Suspense,{fallback:d.a.createElement(q,{hide:!1})},d.a.createElement(Fe,null)),document.getElementById("root"))}catch(a){alert("Ouch!! Restart app!")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.cordova?document.addEventListener("deviceready",Ve,!1):Ve()}},[[492,1,2]]]);