(this["webpackJsonppda-client"]=this["webpackJsonppda-client"]||[]).push([[0],{349:function(e,a,t){e.exports=t(582)},458:function(e,a,t){},582:function(e,a,t){"use strict";t.r(a);t(350),t(374);var l=t(220),m=t(321);function o(e){let a="?timestamp="+(new Date).getTime();for(const t in e){const l=e[t];if(Array.isArray(l))for(let e=0,m=l.length;e<m;e++)a+="&"+t+"="+(null===l[e]?"":encodeURIComponent(l[e]));else a+="&"+t+"="+(null===l?"":encodeURIComponent(l))}return a}function c(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))}var n=t(123);const r=-1==="http://192.168.1.37:9070/ ".indexOf("localhost")?"http://192.168.1.37:9070/ ".substring(0,"http://192.168.1.37:9070/ ".length-1):"http://192.168.1.37:9070/ ".replace("localhost",window.location.hostname);l.a.use(m.a).use(n.e).init({lng:"pt",fallbackLng:"pt",whitelist:["pt","de","en","es","fr"],debug:!1,react:{},backend:{loadPath:r+"JSON/i18n/{{lng}}.json"+o({}),crossDomain:!0}});l.a;var s=t(0),i=t.n(s),d=t(89),f=t.n(d);t(338),t(458);class E{static addAuthorizationHeader(e){const a=window.localStorage.getItem("access_noken");return a&&(e.headers||(e.headers={}),e.headers.Authorization="noken "+a),e}}var u=t(5),p=t.n(u);class N{static httpError(e){fetch(r+"Log/Http/Errors"+o({appName:"pda"}),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e.status,statusText:e.statusText,url:e.url})}).then(()=>{}).catch(()=>{})}static promiseError(e){fetch(r+"Log/Promise/Errors"+o({appName:"pda"}),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e.message,stack:e.stack,request:e.request?{method:e.request.method,path:e.request.path}:null,response:e.response?{status:e.response.status}:null})}).then(()=>{}).catch(()=>{})}}var h=t(51),v=t.n(h);t(459),t(460),t(461),t(462);window.moment=v.a;var b=t(40),g=t.n(b);t(463),t(464),t(465),t(466);function y(e){return e?e.toString().replace(new RegExp("\\"+g.a.localeData().delimiters.thousands,"g"),"").replace(new RegExp("\\"+g.a.localeData().delimiters.decimal,"g"),"."):e}async function x(e,a,t){await fetch(r+"Platform/Android"+o({}),E.addAuthorizationHeader({method:"GET"})).then(async t=>{if(!t.ok||t.status!==p.a.OK)throw t;await t.json().then(async t=>{e&&(function(e){switch(e){case"POR":v.a.locale("pt");break;case"DEU":v.a.locale("de");break;case"ENG":v.a.locale("en");break;case"ESP":v.a.locale("es");break;case"FRA":v.a.locale("fr")}}(e.Language.Code),function(e){switch(e){case"POR":g.a.locale("pt-pt");break;case"DEU":g.a.locale("de");break;case"ENG":g.a.locale("en");break;case"ESP":g.a.locale("es-es");break;case"FRA":g.a.locale("fr")}}(e.Language.Code)),a.setAndroidApp(t),a.setAuthUser(e)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}window.numeral=g.a;class w{static signIn(e,a){return fetch(r+"Authentication/SignIn"+o({}),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:a})})}static async autoSignIn(e,a){await fetch(r+"Authentication/AutoSignIn"+o({}),{method:"GET"}).then(async t=>{if(!t.ok||t.status!==p.a.OK)throw t;await t.json().then(async t=>{window.localStorage.setItem("access_noken",t.Token),await x(t.AuthUser,e,a)})}).catch(e=>{e?(N.httpError(e),alert(a("key_306"))):(N.promiseError(e),alert(a("key_416")))})}static signOut(){return fetch(r+"Authentication/SignOut"+o({}),E.addAuthorizationHeader({method:"GET"}))}}var O=t(4);class k{static error(){new Audio("http://www.famo-code.com/FAMO.Rep/PDA/Sound/error.mp3").play()}}var j=t(593);let C=function(e){return e[e.Text=1]="Text",e[e.Number=2]="Number",e[e.Checkbox=3]="Checkbox",e[e.Radio=4]="Radio",e[e.Select=100]="Select",e}({});const _=i.a.forwardRef((e,a)=>{const{t:t}=Object(j.a)(),{type:l,className:m,name:o,value:c,autoFocus:n,isDisabled:r,analyze:d,noData:f,wrongFormat:E,invalidValue:u,invalidMessage:p,set:N,children:h}=e,[v,b]=Object(s.useState)({noData:!1,wrongFormat:!1,invalidValue:!1});return Object(s.useEffect)(()=>{if(d){let e=c;N(e=>Object(O.a)(Object(O.a)({},e),{},{noData:!1,wrongFormat:!1,invalidValue:!1})),e?l===C.Number&&e&&(e=y(e),isNaN(e)?N(e=>Object(O.a)(Object(O.a)({},e),{},{noData:!1,wrongFormat:!0,invalidValue:!1})):parseFloat(e)<=0&&N(e=>Object(O.a)(Object(O.a)({},e),{},{noData:!1,wrongFormat:!1,invalidValue:!0}))):N(e=>Object(O.a)(Object(O.a)({},e),{},{noData:!0,wrongFormat:!1,invalidValue:!1})),N(e=>Object(O.a)(Object(O.a)({},e),{},{localAnalyze:!0}))}},[d]),Object(s.useEffect)(()=>{b({noData:f,wrongFormat:E,invalidValue:u})},[f,E,u]),i.a.createElement(i.a.Fragment,null,(l===C.Text||l===C.Number)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{ref:a,type:"text",className:m+(v.noData?" famo-input-error":v.wrongFormat||v.invalidValue?" famo-input-warning":""),name:o,value:c,autoFocus:n,disabled:r,onKeyDown:function(e){l===C.Number&&async function(e,a){const t=a.current.selectionStart,l=a.current.value;110===e.keyCode&&(e.preventDefault(),a.current.value=l.substr(0,t)+g.a.localeData().delimiters.decimal+l.substr(t,l.length-1))}(e,a)},onChange:e=>N(e=>Object(O.a)(Object(O.a)({},e),{},{value:a.current.value}))}),!r&&i.a.createElement("div",{className:"famo-input-message "+(v.wrongFormat?"":"hide")},i.a.createElement("span",{className:"famo-text-15"},t("key_808"))),p&&!r&&i.a.createElement("div",{className:"famo-input-message "+(v.invalidValue?"":"hide")},i.a.createElement("span",{className:"famo-text-15"},p))),l===C.Checkbox&&i.a.createElement("label",null,i.a.createElement("input",{ref:a,type:"checkbox",className:m,name:o,checked:c,disabled:r,onChange:e=>N(e=>Object(O.a)(Object(O.a)({},e),{},{value:a.current.checked}))}),i.a.createElement("span",{className:"famo-checkbox"})),l===C.Select&&i.a.createElement("select",{ref:a,className:m+(v.noData?" famo-input-error":""),name:o,value:c,disabled:r,onChange:e=>N(e=>Object(O.a)(Object(O.a)({},e),{},{value:a.current.value}))},h))});class S{static analyze(e,a){e.forEach((e,t)=>{e.type!==C.Text&&e.type!==C.Number&&e.type!==C.Select||e.isDisabled||a[t](e=>Object(O.a)(Object(O.a)({},e),{},{analyze:!0}))})}static areAnalyzed(e){return!e.filter(e=>!e.isDisabled).some(e=>!e.localAnalyze)}static areValid(e){return!e.filter(e=>!e.isDisabled).some(e=>e.noData||e.wrongFormat||e.invalidValue)}static popUpAlerts(e,a){e.some(e=>e.noData)&&D.noData(a),e.some(e=>e.wrongFormat)&&D.wrongFormat(e.filter(e=>e.wrongFormat).map(e=>e.label),a),e.some(e=>e.invalidValue)&&D.invalidValue(e.filter(e=>e.invalidValue).map(e=>e.label),a)}static resetValidations(e,a){e.forEach((e,t)=>{e.isDisabled||a[t](e=>Object(O.a)(Object(O.a)({},e),{},{analyze:!1,localAnalyze:!1}))})}static resetValues(e,a){e.forEach((e,t)=>{e.isDisabled||a[t](e=>Object(O.a)(Object(O.a)({},e),{},{value:"",noData:!1,wrongFormat:!1,invalidValue:!1,analyze:!1,localAnalyze:!1}))})}}class D{static invalidValue(e,a){let t=a("key_192")+" ";for(let l=0,m=e.length;l<m;l++)t+=e[l],l<m-2?t+=", ":l===m-2&&(t+=" "+a("key_573")+" ");alert(t)}static noData(e){alert(e("key_197"))}static wrongFormat(e,a){let t=a("key_191")+" ";for(let l=0,m=e.length;l<m;l++)t+=e[l],l<m-2?t+=", ":l===m-2&&(t+=" "+a("key_573")+" ");alert(t)}}var T=_;var P=i.a.forwardRef((e,a)=>{const{visible:t,setVisible:l,visibleCallback:m,children:o}=e,{t:c}=Object(j.a)(),[n,r]=Object(s.useState)(t);return Object(s.useEffect)(()=>{r(t)},[t]),Object(s.useEffect)(()=>{m&&m(n)},[n]),i.a.createElement("section",{className:"w3-modal famo-modal "+(n?"w3-show":""),onClick:e=>l(!1)},i.a.createElement("div",{className:"w3-modal-content famo-modal-content",onClick:e=>e.stopPropagation()},o),i.a.createElement("div",{className:"famo-buttons"},i.a.createElement("button",{type:"button",className:"famo-button famo-icon-button",title:c("key_200"),onClick:e=>function(e){e.stopPropagation(),l(!1)}(e)},i.a.createElement("span",{className:"fas fa-times"}))))}),A=t(48),B=t.n(A);var I=function(e){const{text:a}=e,[t,l]=Object(s.useState)(!1);return i.a.createElement("div",{className:"famo-title "+(t?"collapsed":"")},i.a.createElement("span",{className:"famo-text-13",onClick:function(e){l(!t)}},a))};function L(e){const{hide:a}=e;return i.a.createElement("div",{className:"pda-app-loader "+(a?"hide":"")},i.a.createElement("div",{className:"famo-loader"}))}function F(e){const{hide:a}=e;return i.a.createElement("div",{className:"famo-loader-wrapper "+(a?"hide":"")},i.a.createElement("div",{className:"famo-loader"}))}var V=t(21);class z{static clear(e){e?e.pallet||window.sessionStorage.removeItem("SS_PALLET"):window.sessionStorage.clear()}}var R=t(337);const H={setAndroidApp:(e,a)=>{e.setState(Object(O.a)(Object(O.a)({},e.state),{},{androidApp:a}))},setAuthUser:(e,a)=>{e.setState(Object(O.a)(Object(O.a)({},e.state),{},{authUser:a}))},setLoadPage:(e,a)=>{e.setState(Object(O.a)(Object(O.a)({},e.state),{},{loadPage:a}))}},G=Object(R.a)(i.a,{androidApp:!1,authUser:null,loadPage:!1},H);function U(e){const{history:a}=e,{t:t}=Object(j.a)(),[l,m]=G(),c=window.numeral,[n,d]=Object(s.useState)(!1),f=[t("key_87"),t("key_138"),t("key_900"),t("key_896"),""],[u,h]=Object(s.useState)([]),[v,b]=Object(s.useState)([]),[g,y]=Object(s.useState)(null),[x,w]=Object(s.useState)(!1),[k,_]=Object(s.useState)(!1),[D,A]=Object(s.useState)({ref:i.a.createRef(),type:C.Select,label:t("key_896"),className:"famo-input famo-text-10",name:"gateID",value:""}),B=[D],L=[A];function V(){return fetch(r+"ERP/Shipments"+o({languageCode:l.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{h(e)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}function R(){S.analyze(B,L)}return Object(s.useEffect)(()=>{m.setLoadPage(!0);const e=fetch(r+"Shipments/Gates"+o({languageCode:l.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{b(e)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))});Promise.all([V(),e]).finally(()=>{m.setLoadPage(!1)}),z.clear()},[]),Object(s.useEffect)(()=>{S.areAnalyzed(B)&&(S.areValid(B)?(d(!0),fetch(r+"Shipments"+o({}),E.addAuthorizationHeader({method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:g,gateID:D.value})})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await V(),w(!1),y(null),d(!1),x&&a.push("/Expedition/Edit?shipmentCode="+g)}).catch(e=>{e?(N.httpError(e),alert(t("key_302"))):(N.promiseError(e),alert(t("key_416"))),w(!1),y(null),d(!1)}),_(!1)):S.popUpAlerts(B,t),S.resetValidations(B,L))},B),Object(s.useEffect)(()=>{k||A(e=>Object(O.a)(Object(O.a)({},e),{},{value:""}))},[k]),i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:t("key_878")}),i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!n}),i.a.createElement("div",{className:"famo-grid famo-content-grid shipments "+(n?"hide":"")},i.a.createElement("div",{className:"famo-row famo-header-row"},f.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},i.a.createElement("span",{className:"famo-text-11"},e)))),u.map((e,l)=>i.a.createElement("div",{key:l,className:"famo-row famo-body-row",onClick:t=>{var l;-1===(l=e).Gate.ID?(w(!0),y(l.Code),_(!0)):a.push("/Expedition/Edit?shipmentCode="+l.Code)}},i.a.createElement("div",{className:"famo-cell famo-col-1"},i.a.createElement("span",{className:"famo-text-10"},e.Code)),i.a.createElement("div",{className:"famo-cell famo-col-2"},i.a.createElement("span",{className:"famo-text-10 "+(e.Description?"":"famo-color-yellow")},e.Description?e.Description:t("key_237"))),i.a.createElement("div",{className:"famo-cell famo-col-3"},i.a.createElement("span",{className:"famo-text-10"},c(e.PickedBoxes).format("0,0")+"/"+c(e.TotalBoxes).format("0,0"))),i.a.createElement("div",{className:"famo-cell famo-col-4"},i.a.createElement("span",{className:"famo-text-10 "+(-1===e.Gate.ID?"famo-color-yellow":"")},-1===e.Gate.ID?"n/a":e.Gate.Label)),i.a.createElement("div",{className:"famo-cell famo-col-5"},i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",onClick:a=>function(e,a){e.stopPropagation(),w(!1),y(a.Code),A(e=>Object(O.a)(Object(O.a)({},e),{},{value:a.Gate.ID})),_(!0)}(a,e)},i.a.createElement("span",{className:"fas fa-truck-loading"})))))))),i.a.createElement(P,{visible:k,setVisible:_,visibleCallback:function(e){e||S.resetValues(B,L)}},i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:e=>{e.preventDefault(),R()}},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},D.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},D,{set:A}),i.a.createElement("option",{key:-1,value:""}),v.map((e,a)=>i.a.createElement("option",{key:a,value:e.ID},e.Label))))),i.a.createElement("input",{type:"submit",className:"hide",value:""})),i.a.createElement("div",{className:"famo-grid famo-buttons"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:e=>R()},i.a.createElement("span",{className:"famo-text-12"},t("key_701"))),i.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:e=>_(!1)},i.a.createElement("span",{className:"famo-text-12"},t("key_484"))))))))))}function K(e){const{history:a,location:t}=e,{t:l}=Object(j.a)(),[m,c]=G(),n=window.numeral,d=B.a.parse(t.search).shipmentCode,[f,u]=Object(s.useState)({type:C.Text,label:l("key_822"),className:"famo-input famo-text-10",name:"shipmentCode",value:d.toString(),isDisabled:!0}),[h,v]=Object(s.useState)({type:C.Text,label:l("key_138"),className:"famo-input famo-text-10",name:"boxCode",value:"",isDisabled:!0}),[b,g]=Object(s.useState)({ref:i.a.createRef(),type:C.Text,label:l("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),[y,x]=Object(s.useState)({ref:i.a.createRef(),type:C.Checkbox,label:l("key_901"),className:"famo-input",name:"unload",value:!1}),[w,_]=Object(s.useState)(!1),[S,D]=Object(s.useState)(""),A=[l("key_179"),l("key_54"),l("key_900")],[L,R]=Object(s.useState)([]),H=[l("key_820"),""],[U,K]=Object(s.useState)([]),[M,W]=Object(s.useState)(!1),[q,Y]=Object(s.useState)(!1),Q=[l("key_87"),l("key_138"),l("key_899"),l("key_892"),""],[J,X]=Object(s.useState)([[]]);function Z(e){m.androidApp?alert(e):(k.error(),D(e))}function $(){if(D(""),b.value.startsWith("PL")){const e=b.value.match(/PL.*?(\/|\-)/g);_(!0),fetch(r+"ERP/Pallets/Boxes"+o({shipmentCode:d,palletID:e?parseInt(e[0].replace("PL","").replace("/","").replace("-","")):-1}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{D(""),K([...e.filter(e=>!U.some(a=>a.Code===e.Code)),...U])})}).catch(e=>{e?(N.httpError(e),Z(e.status===p.a.NOT_FOUND?l("key_873"):l("key_303"))):(N.promiseError(e),Z(l("key_416")))}).finally(()=>{_(!1),ee()})}else U&&U.some(e=>e.Code===b.value)?(ee(),Z(l("key_874"))):(_(!0),fetch(r+"ERP/Shipments/Boxes"+o({shipmentCode:d,boxCode:b.value,unload:y.value}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{D(""),L.filter((function(a){return a.OrderCode===e.OrderCode&&a.ProductCode.startsWith(e.ProductCode)}))[0].PendingBoxes>0&&Z("O produto inserido n\xe3o est\xe1 totalmente produzido!"),K([e,...U])})}).catch(async e=>{e?(N.httpError(e),e.status===p.a.NOT_FOUND?Z(l("key_872")):e.status===p.a.FORBIDDEN?await e.json().then(e=>{"box"===e.reason?Z(y.value?l("key_882"):l("key_871")):"pallet"===e.reason&&Z(l("key_828"))}).catch(e=>{N.promiseError(e),Z(l("key_416"))}):Z(l("key_303"))):(N.promiseError(e),Z(l("key_416")))}).finally(()=>{_(!1),ee()}))}function ee(){g(e=>Object(O.a)(Object(O.a)({},e),{},{value:""})),b.ref.current.focus()}function ae(){return fetch(r+"ERP/Shipments/Products"+o({shipmentCode:d}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{R(e)})}).catch(e=>{e?(N.httpError(e),alert(l("key_303"))):(N.promiseError(e),alert(l("key_416")))})}function te(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.querySelector(".fas").classList.remove("hide"),e.querySelector('span[class*="famo-text-"]').classList.add("hide"),fetch(r+"ERP/Shipments/Products/Components"+o({orderCode:a,orderLine:t,languageCode:m.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{Y(!0),X(e)})}).catch(e=>{e?(N.httpError(e),alert(l("key_303"))):(N.promiseError(e),alert(l("key_416")))}).finally(()=>{e.querySelector(".fas").classList.add("hide"),e.querySelector('span[class*="famo-text-"]').classList.remove("hide")})}return Object(s.useEffect)(()=>{c.setLoadPage(!0);const e=fetch(r+"ERP/Shipments"+o({code:d}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{v(a=>Object(O.a)(Object(O.a)({},a),{},{value:e.Description}))})}).catch(e=>{e?(N.httpError(e),alert(e.status===p.a.NOT_FOUND?l("key_825"):l("key_303")),a.replace("/Expedition")):(N.promiseError(e),alert(l("key_416")))});Promise.all([e,ae()]).finally(()=>{c.setLoadPage(!1)}),setInterval(()=>{ae()},1e4),z.clear()},[]),Object(s.useEffect)(()=>{K([])},[y]),i.a.createElement(i.a.Fragment,null,i.a.createElement(V.a,{when:U.length>0,message:l("key_881")}),i.a.createElement("section",{className:"container famo-wrapper"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12 col-xl-8"},i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:e=>{e.preventDefault(),$()}},!m.androidApp&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},f.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},f,{set:u})))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},h.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},h,{set:v}))))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},b.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},b,{isDisabled:w||M,set:g})))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},y.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},y,{isDisabled:w||M,set:x})))),i.a.createElement("input",{type:"submit",className:"hide",value:""})),i.a.createElement("div",{className:"famo-grid famo-buttons"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("div",{className:"form-message"},i.a.createElement("span",{className:"famo-text-11 famo-color-red "+(S?"":"hide")},S)),i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:w||M,onClick:e=>ee()},i.a.createElement("span",{className:"famo-text-12"},l("key_829"))),!m.androidApp&&i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:w||M,onClick:e=>$()},i.a.createElement("span",{className:"famo-text-12"},l("key_815"))))))))),!m.androidApp&&i.a.createElement("div",{className:"col-12 col-xl-4"},i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:l("key_820")}),i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!M}),i.a.createElement("div",{className:"famo-grid rating-panel "+(M?"hide":"")},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-23 famo-color-green"},n(L.reduce((e,a)=>1===a.ShipmentStatus?e+a.TotalBoxes:e,0)).format("0,0")),i.a.createElement("span",{className:"famo-text-23"},"/"+n(L.reduce((e,a)=>e+a.TotalBoxes,0)).format("0,0"))))))),i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!M}),i.a.createElement("div",{className:"famo-grid rating-panel "+(M?"hide":"")},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-23 famo-color-green"},n(L.reduce((e,a)=>1===a.ShipmentStatus?e+a.ProductVolume:e,0)).format("0,0.00")),i.a.createElement("span",{className:"famo-text-23"},"/"+n(L.reduce((e,a)=>e+a.ProductVolume,0)).format("0,0.00")+" m\xb3"))))))))),i.a.createElement("section",{className:"container famo-wrapper expedition-details"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12 col-xl-5"},i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:l("key_876")}),i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!M}),i.a.createElement("div",{className:"famo-grid famo-content-grid expedition-products "+(M?"hide":"")},i.a.createElement("div",{className:"famo-row famo-header-row"},A.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)+" "+(a===A.length-1?"text-center":"")},i.a.createElement("span",{className:"famo-text-11"},e)))),L.filter(e=>0===e.ShipmentStatus).map((e,a)=>i.a.createElement("div",{key:a,className:"famo-row famo-body-row"},i.a.createElement("div",{className:"famo-cell famo-col-1"},i.a.createElement("button",{type:"button",className:"famo-button famo-transparent-button famo-loader-button text-left",onClick:a=>te(a.currentTarget,e.OrderCode)},i.a.createElement("span",{className:"fas fa-spinner fa-spin "+(L.filter(a=>a.OrderCode===e.OrderCode).some(e=>e.PendingBoxes>0)?e.PendingBoxes>0?"famo-color-red":"famo-color-yellow-new ":"")+" hide"}),i.a.createElement("span",{className:"famo-text-10 "+(L.filter(a=>a.OrderCode===e.OrderCode).some(e=>e.PendingBoxes>0)?e.PendingBoxes>0?"famo-color-red":"famo-color-yellow-new ":"")},e.OrderCode))),i.a.createElement("div",{className:"famo-cell famo-col-2"},i.a.createElement("p",null,i.a.createElement("span",{className:"famo-text-10 "+(L.filter(a=>a.OrderCode===e.OrderCode).some(e=>e.PendingBoxes>0)?e.PendingBoxes>0?"famo-color-red":"famo-color-yellow-new ":"")},e.ProductCode)),i.a.createElement("p",null,i.a.createElement("span",{className:"famo-text-10 "+(L.filter(a=>a.OrderCode===e.OrderCode).some(e=>e.PendingBoxes>0)?e.PendingBoxes>0?"famo-color-red":"famo-color-yellow-new ":"")},e.ProductDescription))),i.a.createElement("div",{className:"famo-cell famo-col-3 text-center"},i.a.createElement("button",{type:"button",className:"famo-button famo-transparent-button famo-loader-button",onClick:a=>te(a.currentTarget,e.OrderCode,e.OrderLine)},i.a.createElement("span",{className:"fas fa-spinner fa-spin "+(L.filter(a=>a.OrderCode===e.OrderCode).some(e=>e.PendingBoxes>0)?e.PendingBoxes>0?"famo-color-red":"famo-color-yellow-new ":"")+" hide"}),i.a.createElement("span",{className:"famo-text-10 "+(L.filter(a=>a.OrderCode===e.OrderCode).some(e=>e.PendingBoxes>0)?e.PendingBoxes>0?"famo-color-red":"famo-color-yellow-new ":"")},n(e.PendingBoxes).format("0,0"),"/",n(e.TotalBoxes).format("0,0")))))))))),i.a.createElement("div",{className:"col-12 col-xl-2"},i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:l("key_879")}),i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!w&&!M}),i.a.createElement("div",{className:"famo-grid "+(w||M?"hide":"")},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button famo-confirm-button button-save-boxes",disabled:w||M||0===U.length,onClick:e=>(W(!0),void fetch(r+"ERP/Shipments/Boxes"+o({shipmentCode:d,unload:y.value}),E.addAuthorizationHeader({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U.map(e=>e.Code))})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{D(""),K([]),R(e)})}).catch(e=>{e?(N.httpError(e),alert(l("key_302"))):(N.promiseError(e),alert(l("key_416")))}).finally(()=>{W(!1),ee()}))},i.a.createElement("span",{className:"famo-text-12"},l("key_220")))))),i.a.createElement("div",{className:"famo-grid famo-content-grid expedition-boxes "+(w||M?"hide":"")},i.a.createElement("div",{className:"famo-row famo-header-row"},H.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},i.a.createElement("span",{className:"famo-text-11"},e+(0===a?" ("+n(U.length).format("0,0")+")":""))))),U.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-row famo-body-row"},i.a.createElement("div",{className:"famo-cell famo-col-1"},i.a.createElement("span",{className:"famo-text-10 "+(y.value?"famo-color-red":"")},e.Code)),i.a.createElement("div",{className:"famo-cell famo-col-2"},i.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:a=>{return t=e.Code,void(window.confirm(l("key_880"))&&K(U.filter(e=>e.Code!==t)));var t}},i.a.createElement("span",{className:"fas fa-trash-alt"}))))))))),i.a.createElement("div",{className:"col-12 col-xl-5"},i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:l("key_875")}),i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!M}),i.a.createElement("div",{className:"famo-grid famo-content-grid expedition-products "+(M?"hide":"")},i.a.createElement("div",{className:"famo-row famo-header-row"},A.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)+" "+(a===A.length-1?"text-center":"")},i.a.createElement("span",{className:"famo-text-11"},e)))),L.filter(e=>1===e.ShipmentStatus).map((e,a)=>i.a.createElement("div",{key:a,className:"famo-row famo-body-row"},i.a.createElement("div",{className:"famo-cell famo-col-1"},i.a.createElement("span",{className:"famo-text-10"},e.OrderCode)),i.a.createElement("div",{className:"famo-cell famo-col-2"},i.a.createElement("p",null,i.a.createElement("span",{className:"famo-text-10"},e.ProductCode)),i.a.createElement("p",null,i.a.createElement("span",{className:"famo-text-10"},e.ProductDescription))),i.a.createElement("div",{className:"famo-cell famo-col-3 text-center"},i.a.createElement("span",{className:"famo-text-10"},n(e.TotalBoxes).format("0,0"))))))))))),i.a.createElement(P,{visible:q,setVisible:Y},J.filter(e=>e.length>0).map((e,a)=>{const t=e[0].ProductCode,m=e[0].ProductDescription;return i.a.createElement("section",{key:a,className:"famo-wrapper"},i.a.createElement(I,{text:t+" - "+m}),i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid famo-content-grid expedition-components"},i.a.createElement("div",{className:"famo-row famo-header-row"},Q.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},i.a.createElement("span",{className:"famo-text-11"},e)))),e.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-row famo-body-row"},i.a.createElement("div",{className:"famo-cell famo-col-1"},i.a.createElement("span",{className:"famo-text-10"},e.ComponentCode)),i.a.createElement("div",{className:"famo-cell famo-col-2"},i.a.createElement("span",{className:"famo-text-10 "+(e.ComponentDescription?"":"famo-color-yellow")},e.ComponentDescription?e.ComponentDescription:l("key_237"))),i.a.createElement("div",{className:"famo-cell famo-col-3"},i.a.createElement("span",{className:"famo-text-10"},e.BoxCode)),i.a.createElement("div",{className:"famo-cell famo-col-4"},i.a.createElement("span",{className:"famo-text-10 "+(-1===e.Bin.ID?"famo-color-yellow":"")},-1===e.Bin.ID?"n/a":e.Bin.Code)),i.a.createElement("div",{className:"famo-cell famo-col-5"},i.a.createElement("span",{className:"fas "+(e.BoxPrinted?"fa-check famo-color-green":"fa-times famo-color-red")})))))))})))}var M=Object(V.j)((function(){return i.a.createElement(V.e,null,i.a.createElement(V.c,{exact:!0,path:"/Expedition",render:e=>i.a.createElement(U,e)}),i.a.createElement(V.c,{exact:!0,path:"/Expedition/Edit",render:e=>i.a.createElement(K,e)}),i.a.createElement(V.c,{path:"/Expedition/*",render:()=>i.a.createElement(V.b,{to:"/Expedition"})}))})),W=t(29);var q=Object(V.j)((function(e){const{t:a}=Object(j.a)(),t=[{label:a("key_894"),image:"btn-armazem.png",url:"/Warehouse"},{label:a("key_877"),image:"btn-expedicao.png",url:"/Expedition"},{label:a("key_826"),image:"btn-palete.png",url:"/Pallets"},{label:a("key_806"),image:"btn-inventario.png",url:"/Inventory"},{label:"Receber OT",image:"btn-inventario.png",url:"/ReceiveOT"}];return Object(s.useEffect)(()=>{z.clear()},[]),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row",style:{justifyContent:"center"}},t.map((e,a)=>i.a.createElement("div",{key:a,className:"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2"},i.a.createElement(W.b,{to:e.url},i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid famo-menu-item"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-menu-item-label text-center"},i.a.createElement("span",{className:"famo-text-19",title:e.label},e.label))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-menu-item-img text-center"},i.a.createElement("img",{src:r+"Images/"+e.image,alt:e.label})))))))))))}));function Y(e,a){function t(e){e.preventDefault(),document.removeEventListener("backbutton",t,!1)}document.addEventListener("backbutton",t,!1),window.cordova.plugins.barcodeScanner.scan(a=>{a.cancelled||(e(a),document.removeEventListener("backbutton",t,!1))},e=>{alert(a("key_686"))},{preferFrontCamera:!1,showFlipCameraButton:!1,showTorchButton:!0,torchOn:!1,saveHistory:!1,prompt:"",resultDisplayDuration:0,formats:"CODE_39,CODE_128",orientation:"unset",disableAnimations:!0,disableSuccessBeep:!1,continuousMode:!1})}var Q=Object(V.j)((function(e){const{t:a}=Object(j.a)(),[t,l]=G(),[m,c]=Object(s.useState)([]),[n,d]=Object(s.useState)({ref:i.a.createRef(),type:C.Select,label:a("key_806"),className:"famo-input famo-text-10",name:"inventoryCode",value:""}),f=[n],[u,h]=Object(s.useState)(!1),[v,b]=Object(s.useState)(),[g,x]=Object(s.useState)({type:C.Text,label:a("key_87"),className:"famo-input famo-text-10",name:"productCode",value:"",isDisabled:!0}),[w,k]=Object(s.useState)({type:C.Text,label:a("key_464"),className:"famo-input famo-text-10",name:"productVariantCode",value:"",isDisabled:!0}),[_,D]=Object(s.useState)({type:C.Text,label:a("key_138"),className:"famo-input famo-text-10",name:"productDescription",value:"",isDisabled:!0}),[A,B]=Object(s.useState)({type:C.Text,label:a("key_751"),className:"famo-input famo-text-10",name:"locationCode",value:"",isDisabled:!0}),[L,V]=Object(s.useState)({ref:i.a.createRef(),type:C.Number,label:a("key_347"),className:"famo-input famo-text-10",name:"quantity",value:"",invalidMessage:a("key_13")}),R=[g,w,_,A,L],H=[x,k,D,B,V],[U,K]=Object(s.useState)(!1),[M,W]=Object(s.useState)({ref:i.a.createRef(),type:C.Text,label:a("key_87"),className:"famo-input famo-text-10",name:"productCode",value:""}),q=[M],Q=[W];function J(e){const t=e.split("/"),l=t[0];let m="";t.length>1&&(m=t[1]),h(!0),fetch(r+"ERP/Inventories/Lines"+o({inventoryCode:n.value,productCode:l,productVariantCode:m}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{b(e),x(a=>Object(O.a)(Object(O.a)({},a),{},{value:e.ProductCode})),k(a=>Object(O.a)(Object(O.a)({},a),{},{value:e.ProductVariantCode})),D(a=>Object(O.a)(Object(O.a)({},a),{},{value:e.ProductDescription})),B(a=>Object(O.a)(Object(O.a)({},a),{},{value:e.LocationCode}))})}).catch(e=>{e?(N.httpError(e),alert(e.status===p.a.NOT_FOUND?a("key_809"):a("key_303"))):(N.promiseError(e),alert(a("key_416"))),b(null),S.resetValues(R,H)}).finally(()=>{h(!1)})}function X(){S.analyze(R,H)}function Z(){S.analyze(q,Q)}return Object(s.useEffect)(()=>{l.setLoadPage(!0),fetch(r+"ERP/Inventories"+o({}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{c(e)})}).catch(e=>{e?(N.httpError(e),alert(a("key_303"))):(N.promiseError(e),alert(a("key_416")))}).finally(()=>{l.setLoadPage(!1)}),z.clear()},[]),Object(s.useEffect)(()=>{b(null),S.resetValues(R,H)},f),Object(s.useEffect)(()=>{S.areAnalyzed(R)&&(S.areValid(R)?(h(!0),fetch(r+"ERP/Inventories/Lines"+o({}),E.addAuthorizationHeader({method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:v.Code,productCode:v.ProductCode,productVariantCode:v.ProductVariantCode,locationCode:v.LocationCode,quantity:L.type!==C.Number?L.value:parseFloat(y(L.value))})})).then(e=>{if(!e.ok||e.status!==p.a.OK)throw e;b(null),S.resetValues(R,H),alert(a("key_805"))}).catch(e=>{e?(N.httpError(e),alert(a("key_302"))):(N.promiseError(e),alert(a("key_416")))}).finally(()=>{h(!1)})):S.popUpAlerts(R,a),S.resetValidations(R,H))},R),Object(s.useEffect)(()=>{S.areAnalyzed(q)&&(S.areValid(q)?(J(M.value),K(!1)):(M.ref.current.focus(),S.popUpAlerts(q,a)),S.resetValidations(q,Q))},q),i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("form",{className:"famo-grid famo-form-grid",noValidate:!0,onSubmit:e=>e.preventDefault()},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},n.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},n,{isDisabled:u,set:d}),i.a.createElement("option",{key:""}),m.map((e,a)=>i.a.createElement("option",{key:a,value:e.Code},e.Name)))))),n.value&&i.a.createElement("div",{className:"famo-grid famo-buttons"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:u,onClick:e=>K(!0)},i.a.createElement("span",{className:"famo-text-12"},a("key_807"))),t.androidApp&&i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:u,onClick:e=>{Y(e=>{J(e.text)},a)}},i.a.createElement("span",{className:"famo-text-12"},a("key_681")))))))),(u||v)&&i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:a("key_339")}),i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!u}),i.a.createElement("form",{className:"famo-grid famo-form-grid "+(u?"hide":""),noValidate:!0,onSubmit:e=>{e.preventDefault(),X()}},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},g.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,g))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},w.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,w))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},_.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,_))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},A.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,A))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},L.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},L,{set:V}))))),i.a.createElement("div",{className:"famo-grid famo-buttons "+(u?"hide":"")},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:e=>X()},i.a.createElement("span",{className:"famo-text-12"},a("key_220")))))))),i.a.createElement(P,{visible:U,setVisible:K,visibleCallback:function(e){e?M.ref.current.focus():S.resetValues(q,Q)}},i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:e=>{e.preventDefault(),Z()}},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},M.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},M,{set:W})))),i.a.createElement("input",{type:"submit",className:"hide",value:""})),i.a.createElement("div",{className:"famo-grid famo-buttons"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:e=>Z()},i.a.createElement("span",{className:"famo-text-12"},a("key_701"))),i.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:e=>K(!1)},i.a.createElement("span",{className:"famo-text-12"},a("key_484"))))))))))}));function J(e){const{t:a}=Object(j.a)(),[t,l]=G(),[m,c]=(window.moment,Object(s.useState)({ref:i.a.createRef(),type:C.Text,label:"Ordem Transfer\xeancia",className:"famo-input famo-text-10",name:"oTCode",value:"",autoFocus:!0})),[n,d]=Object(s.useState)(null),[f,u]=Object(s.useState)(!1),[h,v]=Object(s.useState)(!1),b=i.a.createRef();function g(){u(!0),console.log(m),fetch(r+"ReceiveOT"+o({code:m.value}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{d(e),u(!1),y()})}).catch(async e=>{e?(N.httpError(e),e.status===p.a.NOT_FOUND?alert("A ordem de transfer\xeancia n\xe3o foi encontrada"):alert("Ocorreu um erro ao processar o pedido. Por favor, tente novamente.")):(N.promiseError(e),alert("Ocorreu um erro ao processar o pedido. Por favor, tente novamente.")),d(null),u(!1),y()})}function y(){c(e=>Object(O.a)(Object(O.a)({},e),{},{value:""})),m.ref.current.focus()}return Object(s.useEffect)(()=>{var e;f||(null===(e=b.current)||void 0===e||e.focus())},[f]),i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:"Rece\xe7\xe3o OT"}),i.a.createElement("div",{className:"famo-content"},i.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:e=>{e.preventDefault(),g()}},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},m.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},m,{isDisabled:f,set:c})))),i.a.createElement("input",{type:"submit",className:"hide",value:""})),i.a.createElement("div",{className:"famo-grid famo-buttons"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:f,onClick:e=>y()},i.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!t.androidApp&&i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:f,onClick:e=>g()},i.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),(f||n)&&i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!f}),n&&i.a.createElement(i.a.Fragment,null,i.a.createElement("form",{className:"famo-grid famo-form-grid "+(f?"hide":""),noValidate:!0},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},"Ord. Transf")),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},n.Code)))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},"De")),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},n.From)))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},"Para")),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},n.To)))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},"Transporte")),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},n.Car))))),i.a.createElement("div",{className:"famo-grid famo-buttons "+(f?"hide":"")},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("button",{type:"button",ref:b,className:"famo-button famo-confirm-button",onClick:e=>function(e){u(!0),fetch(r+"ReceiveOT"+o({code:e}),E.addAuthorizationHeader({method:"POST"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;u(!1),d(null),y()}).catch(async e=>{e?(N.httpError(e),alert("Ocorreu um erro. Por favor, tente novamente.")):(N.promiseError(e),alert("Ocorreu um erro. Por favor, tente novamente.")),u(!1)})}(n.Code)},i.a.createElement("span",{className:"famo-text-12"},"Rececionar")))))))))}var X=Object(V.j)((function(e){return i.a.createElement(J,e)}));function Z(e){const{history:a}=e,{t:t}=Object(j.a)(),[l]=G(),m=window.sessionStorage.getItem("SS_PALLET"),[c,n]=Object(s.useState)({ref:i.a.createRef(),type:C.Text,label:t("key_822"),className:"famo-input famo-text-10",name:"shipmentCode",value:m?JSON.parse(window.sessionStorage.getItem("SS_PALLET")).shipmentCode:"",autoFocus:!0}),[d,f]=Object(s.useState)(null),[u,h]=Object(s.useState)(!1),v=[t("key_279")],[b,g]=Object(s.useState)(null);function y(e){h(!0),fetch(r+"ERP/Pallets"+o({shipmentCode:e}),E.addAuthorizationHeader({method:"GET"})).then(async a=>{if(!a.ok||a.status!==p.a.OK)throw a;await a.json().then(a=>{f(e),g(a),h(!1)})}).catch(e=>{e?(N.httpError(e),alert(e.status===p.a.NOT_FOUND?t("key_825"):t("key_303"))):(N.promiseError(e),alert(t("key_416"))),f(null),g(null),h(!1),x()})}function x(){n(e=>Object(O.a)(Object(O.a)({},e),{},{value:""})),c.ref.current.focus()}function w(e){window.sessionStorage.setItem("SS_PALLET",JSON.stringify({shipmentCode:d})),a.push("/Pallets/Edit?shipmentCode="+d+(e?"&palletID="+e:""))}return Object(s.useEffect)(()=>{m&&y(c.value),z.clear()},[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("form",{className:"famo-grid famo-form-grid",noValidate:!0,onSubmit:e=>{e.preventDefault(),y(c.value)}},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},c.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},c,{set:n})))),i.a.createElement("input",{type:"submit",className:"hide",value:""})),i.a.createElement("div",{className:"famo-grid famo-buttons"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},l.androidApp&&i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:u,onClick:e=>{Y(e=>{n(a=>Object(O.a)(Object(O.a)({},a),{},{value:e.text})),y(e.text)},t)}},i.a.createElement("span",{className:"famo-text-12"},t("key_681"))),i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:u,onClick:e=>x()},i.a.createElement("span",{className:"famo-text-12"},t("key_829"))),i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:u,onClick:e=>y(c.value)},i.a.createElement("span",{className:"famo-text-12"},t("key_323")))))))),(u||b)&&i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:t("key_826")}),i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!u}),i.a.createElement("div",{className:"famo-grid famo-content-grid pallets "+(u?"hide":"")},i.a.createElement("div",{className:"famo-row famo-header-row"},v.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},i.a.createElement("span",{className:"famo-text-11"},e)))),b&&b.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-row famo-body-row",onClick:a=>w(e.ID)},i.a.createElement("div",{className:"famo-cell famo-col-1"},i.a.createElement("span",{className:"famo-text-10"},e.ID))))),i.a.createElement("div",{className:"famo-grid famo-buttons "+(u?"hide":"")},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",onClick:e=>w()},i.a.createElement("span",{className:"famo-text-12"},t("key_817")))))))))}function $(e){const{location:a,history:t}=e,{t:l}=Object(j.a)(),[m,c]=G(),n=B.a.parse(a.search),[d,f]=Object(s.useState)(n.palletID),[u,h]=Object(s.useState)(!0),[v,b]=Object(s.useState)(!1),g=[l("key_87"),l("key_179"),""],[y,x]=Object(s.useState)([]),[w,_]=Object(s.useState)(!1),[D,A]=Object(s.useState)(!1),[L,R]=Object(s.useState)(!1),[H,U]=Object(s.useState)(!1),[K,M]=Object(s.useState)({ref:i.a.createRef(),type:C.Text,label:l("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),W=[K],q=[M],[Q,J]=Object(s.useState)("");function X(e){m.androidApp?alert(e):(J(e),k.error())}function Z(e){y.some(a=>a.Code===e)?(S.resetValues(W,q),K.ref.current.focus(),X(l("key_814"))):(_(!0),fetch(r+"ERP/Shipments/Boxes"+o({shipmentCode:n.shipmentCode,boxCode:e}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{J(""),e.IsNew=!0,x([...y,e])})}).catch(async e=>{e?(N.httpError(e),e.status===p.a.NOT_FOUND?X(l("key_872")):e.status===p.a.FORBIDDEN?await e.json().then(e=>{"box"===e.reason?X(l("key_871")):"pallet"===e.reason&&X(l("key_828"))}).catch(e=>{N.promiseError(e),X(l("key_416"))}):X(l("key_303"))):(N.promiseError(e),X(l("key_416")))}).finally(()=>{_(!1),S.resetValues(W,q),K.ref.current.focus()}))}function $(){S.analyze(W,q)}return Object(s.useEffect)(()=>{n.palletID&&(c.setLoadPage(!0),fetch(r+"ERP/Pallets/Boxes"+o({shipmentCode:n.shipmentCode,palletID:n.palletID}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{b(e.some(e=>e.IsShipped)),h(e.some(e=>e.IsPalletOpen)),e.forEach(e=>{e.IsNew=!1}),x(e)})}).catch(e=>{e?(N.httpError(e),alert(e.status===p.a.NOT_FOUND?l("key_873"):l("key_303")),t.replace("/Pallets")):(N.promiseError(e),alert(l("key_416")))}).finally(()=>{c.setLoadPage(!1)})),z.clear({pallet:!0})},[]),Object(s.useEffect)(()=>{S.areAnalyzed(W)&&(S.areValid(W)&&Z(K.value),S.resetValidations(W,q))},W),n.shipmentCode?i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:l("key_820")}),i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!D}),i.a.createElement("div",{className:"famo-grid famo-content-grid pallet-boxes "+(D?"hide":"")},i.a.createElement("div",{className:"famo-row famo-header-row"},g.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},i.a.createElement("span",{className:"famo-text-11"},e)))),y.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-row famo-body-row"},i.a.createElement("div",{className:"famo-cell famo-col-1"},i.a.createElement("span",{className:"famo-text-10"},e.Code)),i.a.createElement("div",{className:"famo-cell famo-col-2"},i.a.createElement("span",{className:"famo-text-10"},e.OrderCode)),i.a.createElement("div",{className:"famo-cell famo-col-3"},i.a.createElement("span",{className:"famo-text-10"},e.IsNew&&i.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:a=>{return t=e.Code,void(window.confirm(l("key_880"))&&x(y.filter(e=>e.Code!==t)));var t}},i.a.createElement("span",{className:"fas fa-trash-alt"}))))))),!v&&u&&i.a.createElement("div",{className:"famo-grid famo-buttons "+(D?"hide":"")},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:w||L,onClick:e=>U(!0)},i.a.createElement("span",{className:"famo-text-12"},l("key_815")+" ("+l("key_807").toLowerCase()+")")),m.androidApp&&i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:w||L,onClick:e=>{Y(e=>{M(a=>Object(O.a)(Object(O.a)({},a),{},{value:e.text})),Z(e.text)},l)}},i.a.createElement("span",{className:"famo-text-12"},l("key_815")+" ("+l("key_681").toLowerCase()+")"))))))),y.length>0&&!v&&i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-grid"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},u&&i.a.createElement(i.a.Fragment,null,y.some(e=>e.IsNew)&&i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:w||D||L,onClick:e=>(A(!0),void fetch(r+"ERP/Pallets"+o({shipmentCode:n.shipmentCode,palletID:d||null}),E.addAuthorizationHeader({method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y.filter(e=>e.IsNew).map(e=>e.Code))})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{f(e.palletID)}),x(y.map(e=>Object(O.a)(Object(O.a)({},e),{},{IsNew:!1})))}).catch(e=>{e?(N.httpError(e),alert(l("key_302"))):(N.promiseError(e),alert(l("key_416")))}).finally(()=>{A(!1)}))},i.a.createElement("span",{className:"famo-text-12"},l("key_220")))),d&&i.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button famo-loader-button",disabled:w||D||L,onClick:e=>{u&&y.some(e=>e.IsNew)?alert(l("key_821")):(R(!0),fetch(r+"ERP/Pallets/"+(u?"Close":"Reopen")+o(u?{shipmentCode:n.shipmentCode,palletID:d}:{palletID:d}),E.addAuthorizationHeader({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y.map(e=>e.Code))})).then(e=>{if(!e.ok||e.status!==p.a.OK)throw e;h(!u),alert(l(u?"key_812":"key_813"))}).catch(e=>{e?(N.httpError(e),alert(l("key_302"))):(N.promiseError(e),alert(l("key_416")))}).finally(()=>{R(!1)}))}},i.a.createElement("span",{className:"fas fa-spinner fa-spin "+(L?"":" hide")}),i.a.createElement("span",{className:"famo-text-12 "+(L?"hide":"")},l(u?"key_200":"key_827"))))))),i.a.createElement(P,{visible:H,setVisible:U,visibleCallback:function(e){e?K.ref.current.focus():(S.resetValues(W,q),J(""))}},i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:e=>{e.preventDefault(),$()}},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},K.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},K,{set:M})))),i.a.createElement("input",{type:"submit",className:"hide",value:""})),i.a.createElement("div",{className:"famo-grid famo-buttons"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("div",{className:"form-message"},i.a.createElement("span",{className:"famo-text-11 famo-color-red "+(Q?"":"hide")},Q)),i.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",onClick:e=>$()},i.a.createElement("span",{className:"famo-text-12"},l("key_701"))),i.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:e=>U(!1)},i.a.createElement("span",{className:"famo-text-12"},l("key_484")))))))))):i.a.createElement(V.b,{to:"/Pallets"})}var ee=Object(V.j)((function(){return i.a.createElement(V.e,null,i.a.createElement(V.c,{exact:!0,path:"/Pallets",render:e=>i.a.createElement(Z,e)}),i.a.createElement(V.c,{exact:!0,path:"/Pallets/Edit",render:e=>i.a.createElement($,e)}),i.a.createElement(V.c,{path:"/Pallets/*",render:()=>i.a.createElement(V.b,{to:"/Pallets"})}))}));const ae=i.a.forwardRef((e,a)=>{const{className:t,text:l}=e;return i.a.createElement("div",{className:t},i.a.createElement("span",{className:"famo-text-7"},l))});Object(V.j)((function(e){const{location:a}=e,{t:t}=Object(j.a)(),[l,m]=G(),[o,c]=Object(s.useState)({username:"",password:"",usernameErrorMsg:!1,passwordErrorMsg:!1,authError:!1,authHttpCode:-1}),[n,r]=Object(s.useState)(!1),d=i.a.createRef();function f(e){o.username||(e.persist(),c(a=>Object(O.a)(Object(O.a)({},a),{},{usernameErrorMsg:"blur"===e.type})))}function E(e){o.password||(e.persist(),c(a=>Object(O.a)(Object(O.a)({},a),{},{passwordErrorMsg:"blur"===e.type})))}var u;return Object(s.useEffect)(()=>{o.authError&&d.current.focus()},[o.authError]),!n&&l.authUser?i.a.createElement(V.b,{to:(null===(u=a.state)||void 0===u?void 0:u.from)||{pathname:"/"}}):i.a.createElement("section",{className:"famo-grid signin"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"signin-body"},i.a.createElement("div",{className:"signin-famo-logo"},i.a.createElement("img",{src:"http://www.famo-code.com/Content/Images/logo-famo-black.png",alt:"FAMO"})),i.a.createElement("div",{className:"signin-container"},i.a.createElement("div",{className:"signin-app-name"},i.a.createElement("span",{className:"famo-text-2"},"PDA")),i.a.createElement("div",{className:"famo-loader-wrapper "+(n?"":"hide")},i.a.createElement("div",{className:"famo-loader"})),i.a.createElement("form",{className:n?"hide":"",onSubmit:e=>async function(e){e.preventDefault(),r(!0),o.username&&o.password?(c(e=>Object(O.a)(Object(O.a)({},e),{},{authError:!1,authHttpCode:-1})),await w.signIn(o.username,o.password).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(async e=>{window.localStorage.setItem("access_noken",e.Token),await x(e.AuthUser,m,t)})}).catch(e=>{e?(N.httpError(e),c(a=>Object(O.a)(Object(O.a)({},a),{},{password:"",passwordErrorMsg:!1,authError:!0,authHttpCode:e.status})),e.status!==p.a.BAD_REQUEST&&e.status!==p.a.INTERNAL_SERVER_ERROR&&console.log(t("key_416")+" - "+e.status)):(N.promiseError(e),alert(t("key_416")))})):c(e=>Object(O.a)(Object(O.a)({},e),{},{usernameErrorMsg:!o.username,passwordErrorMsg:!o.password})),r(!1)}(e)},i.a.createElement("div",{className:"signin-input"},i.a.createElement("input",{type:"text",className:"famo-input famo-text-3 "+(o.usernameErrorMsg?"famo-input-error":""),placeholder:t("key_397"),ref:d,name:"username",value:o.username,autoComplete:"off",autoFocus:!0,onChange:e=>function(e){e.persist(),c(a=>Object(O.a)(Object(O.a)({},a),{},{username:e.target.value}))}(e),onFocus:e=>f(e),onBlur:e=>f(e)}),i.a.createElement(ae,{className:"signin-input-error "+(o.usernameErrorMsg?"":"hide"),text:t("key_196")})),i.a.createElement("div",{className:"signin-input"},i.a.createElement("input",{type:"password",className:"famo-input famo-text-3 "+(o.passwordErrorMsg?"famo-input-error":""),placeholder:t("key_314"),name:"password",value:o.password,onChange:e=>function(e){e.persist(),c(a=>Object(O.a)(Object(O.a)({},a),{},{password:e.target.value}))}(e),onFocus:e=>E(e),onBlur:e=>E(e)}),i.a.createElement(ae,{className:"signin-input-error "+(o.passwordErrorMsg?"":"hide"),text:t("key_195")})),i.a.createElement("div",{className:"signin-form-error "+(o.authError?"":"hide")},o.authError&&o.authHttpCode===p.a.BAD_REQUEST&&i.a.createElement("span",{className:"famo-text-7"},t("key_398")),o.authError&&o.authHttpCode===p.a.INTERNAL_SERVER_ERROR&&i.a.createElement("span",{className:"famo-text-7"},t("key_306"))),i.a.createElement("button",{className:"famo-button famo-confirm-button signin-button signin-button-submit",type:"submit"},i.a.createElement("span",{className:"famo-text-5"},t("key_238")))))))))}));var te=t(589),le=t(17),me=t(590);var oe=Object(V.j)((function(e){const{location:a}=e,{t:t}=Object(j.a)(),[l,m]=G(),c=window.moment,n=window.numeral,d=B.a.parse(a.search).binCode,[f,u]=Object(s.useState)(),[h,v]=Object(s.useState)(!0),[b,g]=Object(s.useState)(),[y,x]=Object(s.useState)(-1),w=["",t("key_85"),t("key_179"),t("key_907"),t("key_900"),t("key_896")],[O,k]=Object(s.useState)(null),[C,_]=Object(s.useState)(c()),[S,D]=Object(s.useState)(null),[T,P]=Object(s.useState)(0);function A(){return fetch(r+"Warehouse/Bins"+o({code:d,languageCode:l.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{g(e)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}function I(e){return fetch(r+"Warehouse/Bins/Orders"+o({binCode:d,languageCode:l.authUser.Language.Code,page:e}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{k(e)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}function L(e){const a=c();let t="";return e.AllBinBoxesQuantity===e.BoxesQuantity?t="famo-color-green":e.ExpectedShipmentDate&&(c(e.ExpectedShipmentDate).subtract({days:2}).isSame(a.startOf("date"))?t="famo-color-yellow":c(e.ExpectedShipmentDate).subtract({days:2}).isBefore(a.startOf("date"))&&(t="famo-color-red")),t}function F(){return fetch(r+"TV/Messages"+o({date:c().format("YYYY-MM-DDTHH:mm:ss"),languageCode:l.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{D(e),P(0)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}return Object(le.a)(()=>{v(!h)},36e5),Object(le.a)(()=>{_(c())},1e3),Object(le.a)(()=>{Promise.all([A(),I(O&&f===d?O.CurrentPage===O.PagesNumber?1:O.CurrentPage+1:1)]).finally(()=>{u(d)})},1e4),Object(le.a)(()=>{F()},18e5),Object(le.a)(()=>{S&&S.length>0&&P(T+1===S.length?0:T+1)},5e3),Object(s.useEffect)(()=>{m.setLoadPage(!0),x(window.innerHeight-document.querySelector(".tv-footer").clientHeight-30-30-document.querySelector(".bin-orders .famo-header-row").clientHeight),Promise.all([A(),I(1),F()]).finally(()=>{m.setLoadPage(!1)})},[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"container famo-wrapper"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12 col-xl-2 "+(h?"order-first":"order-last")},i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid tv-famo-logo"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("img",{src:"http://www.famo-code.com/Content/Images/logo-famo-black.png",alt:"FAMO"})))))),i.a.createElement("section",{className:"famo-wrapper tv-dark-wrapper"},i.a.createElement("div",{className:"famo-content"},b&&i.a.createElement("div",{className:"famo-grid rating-panel"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-23"},b.Code)))))),i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid rating-panel"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-23"},C.format("L"))))))),i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid rating-panel"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-23"},C.format("LTS"))))))),i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},b&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"famo-grid"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-11"},t("key_908")))),i.a.createElement("div",{className:"pda-victory-container"},i.a.createElement("svg",{width:400,height:400,viewBox:"0, 0, 400, 400"},i.a.createElement(me.a,Object.assign({},{standalone:!1,cornerRadius:10,innerRadius:120,padAngle:3,padding:{top:25,bottom:5}},{data:[{x:!0,y:b.TotalVolume},{x:!1,y:b.MaxVolume-b.TotalVolume}],colorScale:["#ff3333","#bfbfbf"],labels:()=>null})))),i.a.createElement("div",{className:"famo-grid"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-10"},n(b.TotalVolume).format("0,0")," m3"))))))),i.a.createElement("div",{className:"col-12 col-xl-10 "+(h?"order-last":"order-first")},i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid famo-content-grid bin-orders"},i.a.createElement("div",{className:"famo-row famo-header-row"},w.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},i.a.createElement("span",{className:"famo-text-11"},e))))),i.a.createElement("div",{className:"bin-orders bin-orders-data",style:{maxHeight:-1===y?"auto":y+"px"}},i.a.createElement("div",{className:"famo-grid famo-content-grid"},i.a.createElement("div",{className:"famo-row famo-header-row hide"}),O&&O.Data.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-row famo-body-row "+(-1!==e.ShipmentGate.ID?"tv-blink-row":"")},i.a.createElement("div",{className:"famo-cell famo-col-1 text-center"},i.a.createElement("p",null,i.a.createElement("img",{src:"https://flagcdn.com/h40/"+e.Country.Code.toLowerCase()+".png",height:"42",alt:e.Country.Code,onError:e=>{e.target.src=r+"Images/no-flag.png"}})),i.a.createElement("p",null,i.a.createElement("span",{className:"tv-text-1"},e.Country.Label))),i.a.createElement("div",{className:"famo-cell famo-col-2"},i.a.createElement("span",{className:"famo-text-10 "+L(e)},e.CustomerName)),i.a.createElement("div",{className:"famo-cell famo-col-3"},i.a.createElement("span",{className:"famo-text-10 "+L(e)},e.Code)),i.a.createElement("div",{className:"famo-cell famo-col-4"},i.a.createElement("span",{className:"famo-text-10 "+(e.ExpectedShipmentDate?L(e):"famo-color-yellow")},e.ExpectedShipmentDate?c(e.ExpectedShipmentDate).format("L"):"n/a")),i.a.createElement("div",{className:"famo-cell famo-col-5 text-center"},i.a.createElement("span",{className:"famo-text-10 "+L(e)},n(e.AllBinBoxesQuantity).format("0,0")+"/"+n(e.BoxesQuantity).format("0,0"))),i.a.createElement("div",{className:"famo-cell famo-col-6 text-center"},i.a.createElement("span",{className:"famo-text-10 "+(-1===e.ShipmentGate.ID?"famo-color-yellow":L(e))},-1===e.ShipmentGate.ID?"n/a":e.ShipmentGate.Label))))),O&&i.a.createElement("div",{className:"famo-grid famo-pagination"},i.a.createElement("div",{className:"famo-cell text-center"},[...Array(O.PagesNumber)].map((e,a)=>i.a.createElement("span",{key:a,className:(a+1>O.CurrentPage?"far":"fas")+" fa-circle"})))))))))),i.a.createElement("section",{className:"tv-footer"},i.a.createElement("div",{className:"container tv-messages"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12 col-xl-2"},i.a.createElement("div",{className:"famo-grid tv-message-type"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell"},S&&S.length>0&&i.a.createElement("span",{className:"tv-text-2"},S[T].Type.Label))))),i.a.createElement("div",{className:"col-12 col-xl-10"},i.a.createElement("div",{className:"famo-grid tv-message-content"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell"},S&&S.map((e,a)=>i.a.createElement(te.a,{key:a,in:a===T,timeout:250,classNames:"transition"},i.a.createElement("span",{className:"tv-text-3 "+(a!==T?"hide":"")},e.Text)))))))))))}));var ce=Object(V.j)((function(e){const{location:a}=e,{t:t}=Object(j.a)(),[l,m]=G(),c=window.moment,n=window.numeral,d=B.a.parse(a.search).binCode,[f,u]=Object(s.useState)(),[h,v]=Object(s.useState)(!0),[b,g]=Object(s.useState)(),[y,x]=Object(s.useState)(-1),w=["",t("key_85"),t("key_179"),t("key_907"),t("key_900"),t("key_896")],[O,k]=Object(s.useState)(null),[C,_]=Object(s.useState)(c()),[S,D]=Object(s.useState)(null),[T,P]=Object(s.useState)(0);function A(){return fetch(r+"Warehouse/Bins"+o({code:d,languageCode:l.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{g(e)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}function I(e){return fetch(r+"Warehouse/Bins/Orders"+o({binCode:d,languageCode:l.authUser.Language.Code,page:e}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{k(e)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}function L(e){const a=c();let t="";return e.AllBinBoxesQuantity===e.BoxesQuantity?t="famo-color-green":e.ExpectedShipmentDate&&(c(e.ExpectedShipmentDate).subtract({days:2}).isSame(a.startOf("date"))?t="famo-color-yellow":c(e.ExpectedShipmentDate).subtract({days:2}).isBefore(a.startOf("date"))&&(t="famo-color-red")),t}function F(){return fetch(r+"TV/Messages"+o({date:c().format("YYYY-MM-DDTHH:mm:ss"),languageCode:l.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{D(e),P(0)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}return Object(le.a)(()=>{v(!h)},36e5),Object(le.a)(()=>{_(c())},1e3),Object(le.a)(()=>{Promise.all([A(),I(O&&f===d?O.CurrentPage===O.PagesNumber?1:O.CurrentPage+1:1)]).finally(()=>{u(d)})},1e4),Object(le.a)(()=>{F()},18e5),Object(le.a)(()=>{S&&S.length>0&&P(T+1===S.length?0:T+1)},5e3),Object(s.useEffect)(()=>{m.setLoadPage(!0),x(window.innerHeight-document.querySelector(".tv-footer").clientHeight-30-30-document.querySelector(".bin-orders .famo-header-row").clientHeight),Promise.all([A(),I(1),F()]).finally(()=>{m.setLoadPage(!1)})},[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"container famo-wrapper"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12 col-xl-2 "+(h?"order-first":"order-last")},i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid tv-famo-logo"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("img",{src:"http://www.famo-code.com/Content/Images/logo-famo-black.png",alt:"FAMO"})))))),i.a.createElement("section",{className:"famo-wrapper tv-dark-wrapper"},i.a.createElement("div",{className:"famo-content"},b&&i.a.createElement("div",{className:"famo-grid rating-panel"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-23"},b.Label?b.Label:b.Code)))))),i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid rating-panel"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-23"},C.format("L"))))))),i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid rating-panel"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-23"},C.format("LTS"))))))),i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},b&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"famo-grid"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-11"},t("key_908")))),i.a.createElement("div",{className:"pda-victory-container"},i.a.createElement("svg",{width:400,height:400,viewBox:"0, 0, 400, 400"},i.a.createElement(me.a,Object.assign({},{standalone:!1,cornerRadius:10,innerRadius:120,padAngle:3,padding:{top:25,bottom:5}},{data:[{x:!0,y:b.TotalVolume},{x:!1,y:b.MaxVolume-b.TotalVolume}],colorScale:["#ff3333","#bfbfbf"],labels:()=>null})))),i.a.createElement("div",{className:"famo-grid"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-10"},n(b.TotalVolume).format("0,0")," m3"))))))),i.a.createElement("div",{className:"col-12 col-xl-10 "+(h?"order-last":"order-first")},i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid famo-content-grid bin-orders"},i.a.createElement("div",{className:"famo-row famo-header-row"},w.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},i.a.createElement("span",{className:"famo-text-11"},e))))),i.a.createElement("div",{className:"bin-orders bin-orders-data",style:{maxHeight:-1===y?"auto":y+"px"}},i.a.createElement("div",{className:"famo-grid famo-content-grid"},i.a.createElement("div",{className:"famo-row famo-header-row hide"}),O&&O.Data.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-row famo-body-row "+(-1!==e.ShipmentGate.ID?"tv-blink-row":"")},i.a.createElement("div",{className:"famo-cell famo-col-1 text-center"},i.a.createElement("p",null,i.a.createElement("img",{src:"https://flagcdn.com/h40/"+e.Country.Code.toLowerCase()+".png",height:"42",alt:e.Country.Code,onError:e=>{e.target.src=r+"Images/no-flag.png"}})),i.a.createElement("p",null,i.a.createElement("span",{className:"tv-text-1"},e.Country.Label))),i.a.createElement("div",{className:"famo-cell famo-col-2"},i.a.createElement("span",{className:"famo-text-10 "+L(e)},e.CustomerName)),i.a.createElement("div",{className:"famo-cell famo-col-3"},i.a.createElement("span",{className:"famo-text-10 "+L(e)},e.Code)),i.a.createElement("div",{className:"famo-cell famo-col-4"},i.a.createElement("span",{className:"famo-text-10 "+(e.ExpectedShipmentDate?L(e):"famo-color-yellow")},e.ExpectedShipmentDate?c(e.ExpectedShipmentDate).format("L"):"n/a")),i.a.createElement("div",{className:"famo-cell famo-col-5 text-center"},i.a.createElement("span",{className:"famo-text-10 "+L(e)},n(e.BinBoxesQuantity).format("0,0"))),i.a.createElement("div",{className:"famo-cell famo-col-6 text-center"},i.a.createElement("span",{className:"famo-text-10 "+(-1===e.ShipmentGate.ID?"famo-color-yellow":L(e))},-1===e.ShipmentGate.ID?"n/a":e.ShipmentGate.Label))))),O&&i.a.createElement("div",{className:"famo-grid famo-pagination"},i.a.createElement("div",{className:"famo-cell text-center"},[...Array(O.PagesNumber)].map((e,a)=>i.a.createElement("span",{key:a,className:(a+1>O.CurrentPage?"far":"fas")+" fa-circle"})))))))))),i.a.createElement("section",{className:"tv-footer"},i.a.createElement("div",{className:"container tv-messages"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12 col-xl-2"},i.a.createElement("div",{className:"famo-grid tv-message-type"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell"},S&&S.length>0&&i.a.createElement("span",{className:"tv-text-2"},S[T].Type.Label))))),i.a.createElement("div",{className:"col-12 col-xl-10"},i.a.createElement("div",{className:"famo-grid tv-message-content"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell"},S&&S.map((e,a)=>i.a.createElement(te.a,{key:a,in:a===T,timeout:250,classNames:"transition"},i.a.createElement("span",{className:"tv-text-3 "+(a!==T?"hide":"")},e.Text)))))))))))}));var ne=Object(V.j)((function(e){const{location:a}=e,{t:t}=Object(j.a)(),[l,m]=G(),c=window.moment,n=window.numeral,d=B.a.parse(a.search).machineCenters,[f,u]=Object(s.useState)(null),[h,v]=Object(s.useState)(null),[b,g]=Object(s.useState)(!0),[y,x]=Object(s.useState)(!0),[w,O]=Object(s.useState)(!0),[k,C]=Object(s.useState)(-1),_=["",t("key_85"),t("key_179"),t("key_907"),"EMB.(S)","TOTAL"],[S,D]=Object(s.useState)(c()),[T,P]=Object(s.useState)(null),[A,I]=Object(s.useState)(0);function L(e){return x(!0),fetch(r+"TV/TVToBoxOrders"+o({machineCenters:d,page:e}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{u(e)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))}).finally(()=>{x(!1),g(!1)})}function F(e){return x(!0),fetch(r+"TV/TVWeekOrders"+o({machineCenters:d,page:e}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{v(e)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))}).finally(()=>{x(!1),g(!0)})}function V(e){const a=c();let t="";return e.Order.ExpectedShipmentDate&&(c(e.Order.ExpectedShipmentDate).subtract({days:1}).isSame(a.startOf("date"))?t="famo-color-yellow":c(e.Order.ExpectedShipmentDate).subtract({days:1}).isBefore(a.startOf("date"))&&(t="famo-color-red")),t}function z(){return fetch(r+"TV/Messages"+o({date:c().format("YYYY-MM-DDTHH:mm:ss"),languageCode:l.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{P(e),I(0)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}return Object(le.a)(()=>{O(!w)},36e5),Object(le.a)(()=>{D(c())},1e3),Object(le.a)(()=>{y||(b?null!=h&&(h.CurrentPage===h.PagesNumber||0===h.PagesNumber?L(1):F(h.CurrentPage+1)):null!=f&&(f.CurrentPage===f.PagesNumber||0===f.PagesNumber?(F(1),g(!0)):L(f.CurrentPage+1)))},8e3),Object(le.a)(()=>{z()},18e5),Object(le.a)(()=>{T&&T.length>0&&I(A+1===T.length?0:A+1)},5e3),Object(s.useEffect)(()=>{m.setLoadPage(!0),C(window.innerHeight-document.querySelector(".tv-footer").clientHeight-30-30-document.querySelector(".to-box-orders .famo-header-row").clientHeight),g(!1),x(!1),Promise.all([L(1),z()]).finally(()=>{m.setLoadPage(!1)})},[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"container famo-wrapper"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12 col-xl-2 "+(w?"order-first":"order-last")},i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid tv-famo-logo"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("img",{src:"http://www.famo-code.com/Content/Images/logo-famo-black.png",alt:"FAMO"})))))),i.a.createElement("section",{className:"famo-wrapper tv-dark-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid rating-panel"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-23"}," ",b?"ENCOMENDAS EM FALTA":"PRONTO A EMBALAR")))))),i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid rating-panel"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-23"},S.format("L"))))))),i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid rating-panel"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-23"},S.format("LTS")))))))),i.a.createElement("div",{className:"col-12 col-xl-10 "+(w?"order-last":"order-first")},i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid famo-content-grid to-box-orders"},i.a.createElement("div",{className:"famo-row famo-header-row"},_.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)+(a>3?" text-center":"")},i.a.createElement("span",{className:"famo-text-11"},e))))),i.a.createElement("div",{className:"to-box-orders to-box-orders-data",style:{maxHeight:-1===k?"auto":k+"px"}},i.a.createElement("div",{className:"famo-grid famo-content-grid"},i.a.createElement("div",{className:"famo-row famo-header-row hide"}),b?h&&h.Data.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-row famo-body-row"},i.a.createElement("div",{className:"famo-cell famo-col-1 text-center"},i.a.createElement("p",null,i.a.createElement("img",{src:"https://flagcdn.com/h40/"+e.Country.Code.toLowerCase()+".png",height:"42",alt:e.Country.Code,onError:e=>{e.target.src=r+"Images/no-flag.png"}})),i.a.createElement("p",null,i.a.createElement("span",{className:"tv-text-1"},e.Country.Label))),i.a.createElement("div",{className:"famo-cell famo-col-2"},i.a.createElement("span",{className:"famo-text-10 "+V(e)},e.Order.CustomerName)),i.a.createElement("div",{className:"famo-cell famo-col-3"},i.a.createElement("span",{className:"famo-text-10 "+V(e)},e.Order.Code)),i.a.createElement("div",{className:"famo-cell famo-col-4"},i.a.createElement("span",{className:"famo-text-10 "+V(e)},e.Order.ExpectedShipmentDate?c(e.Order.ExpectedShipmentDate).format("L"):"n/a")),i.a.createElement("div",{className:"famo-cell famo-col-5 text-center"},i.a.createElement("span",{className:"famo-text-10 "+V(e)},n(e.AllBinBoxesQuantity).format("0,0"))),i.a.createElement("div",{className:"famo-cell famo-col-6 text-center"},i.a.createElement("span",{className:"famo-text-10 "+V(e)},n(e.BoxesQuantity).format("0,0"))))):f&&f.Data.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-row famo-body-row"},i.a.createElement("div",{className:"famo-cell famo-col-1 text-center"},i.a.createElement("p",null,i.a.createElement("img",{src:"https://flagcdn.com/h40/"+e.Country.Code.toLowerCase()+".png",height:"42",alt:e.Country.Code,onError:e=>{e.target.src=r+"Images/no-flag.png"}})),i.a.createElement("p",null,i.a.createElement("span",{className:"tv-text-1"},e.Country.Label))),i.a.createElement("div",{className:"famo-cell famo-col-2"},i.a.createElement("span",{className:"famo-text-10 "+V(e)},e.Order.CustomerName)),i.a.createElement("div",{className:"famo-cell famo-col-3"},i.a.createElement("span",{className:"famo-text-10 "+V(e)},e.Order.Code)),i.a.createElement("div",{className:"famo-cell famo-col-4"},i.a.createElement("span",{className:"famo-text-10 "+V(e)},e.Order.ExpectedShipmentDate?c(e.Order.ExpectedShipmentDate).format("L"):"n/a")),i.a.createElement("div",{className:"famo-cell famo-col-5 text-center"},i.a.createElement("span",{className:"famo-text-10 "+V(e)},n(e.AllBinBoxesQuantity).format("0,0"))),i.a.createElement("div",{className:"famo-cell famo-col-6 text-center"},i.a.createElement("span",{className:"famo-text-10 "+V(e)},n(e.BoxesQuantity).format("0,0")))))),b?h&&i.a.createElement("div",{className:"famo-grid famo-pagination"},i.a.createElement("div",{className:"famo-cell text-center"},[...Array(h.PagesNumber)].map((e,a)=>i.a.createElement("span",{key:a,className:(a+1>h.CurrentPage?"far":"fas")+" fa-circle"})))):f&&i.a.createElement("div",{className:"famo-grid famo-pagination"},i.a.createElement("div",{className:"famo-cell text-center"},[...Array(f.PagesNumber)].map((e,a)=>i.a.createElement("span",{key:a,className:(a+1>f.CurrentPage?"far":"fas")+" fa-circle"})))))))))),i.a.createElement("section",{className:"tv-footer"},i.a.createElement("div",{className:"container tv-messages"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12 col-xl-2"},i.a.createElement("div",{className:"famo-grid tv-message-type"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell"},T&&T.length>0&&i.a.createElement("span",{className:"tv-text-2"},T[A].Type.Label))))),i.a.createElement("div",{className:"col-12 col-xl-10"},i.a.createElement("div",{className:"famo-grid tv-message-content"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell"},T&&T.map((e,a)=>i.a.createElement(te.a,{key:a,in:a===A,timeout:250,classNames:"transition"},i.a.createElement("span",{className:"tv-text-3 "+(a!==A?"hide":"")},e.Text)))))))))))})),re=t(313),se=function(e){return e[e.Box=1]="Box",e[e.Order=2]="Order",e}(se||{});function ie(e){const{t:a}=Object(j.a)(),t=[{label:a("key_895"),url:"/Warehouse/Boxes/Add"},{label:a("key_897"),url:"/Warehouse/Orders"},{label:a("key_905"),url:"/Warehouse/Boxes/Transfer"},{label:"Transferir v\xe1rias embalagens",url:"/Warehouse/Boxes/TransferMany"},{label:a("key_891"),url:"/Warehouse/Boxes/Delete"}];return Object(s.useEffect)(()=>{z.clear()},[]),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row",style:{justifyContent:"center"}},t.map((e,a)=>i.a.createElement("div",{key:a,className:"col-12 col-sm-6 col-lg-3"},i.a.createElement(W.b,{to:e.url},i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid famo-menu-item"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-19"},e.label))))))))))}function de(e){const{t:a}=Object(j.a)(),[t,l]=G(),m=window.moment,[c,n]=Object(s.useState)({ref:i.a.createRef(),type:C.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),[d,f]=Object(s.useState)(!1),[u,h]=Object(s.useState)(null),[v,b]=Object(s.useState)([]),[g,y]=Object(s.useState)({ref:i.a.createRef(),type:C.Select,label:a("key_893"),className:"famo-input famo-text-10",name:"binID",value:""}),[x,w]=Object(s.useState)({type:C.Text,label:a("key_179"),className:"famo-input famo-text-10",name:"orderCode",value:"",isDisabled:!0}),[k,_]=Object(s.useState)({type:C.Text,label:a("key_85"),className:"famo-input famo-text-10",name:"customerName",value:"",isDisabled:!0}),[D,P]=Object(s.useState)({type:C.Text,label:a("key_670"),className:"famo-input famo-text-10",name:"expectedShipmentDate",value:"",isDisabled:!0}),[A,B]=Object(s.useState)(!1),[L,V]=Object(s.useState)(!1),R=[g,x,k,D],H=[y,w,_,P],U=i.a.createRef();function K(){f(!0),fetch(r+"Warehouse/Boxes"+o({code:c.value,languageCode:t.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{h(e),w(a=>Object(O.a)(Object(O.a)({},a),{},{value:e.OrderCode})),_(a=>Object(O.a)(Object(O.a)({},a),{},{value:e.CustomerName})),P(a=>Object(O.a)(Object(O.a)({},a),{},{value:m(e.ExpectedShipmentDate).format("L")})),y(a=>Object(O.a)(Object(O.a)({},a),{},{value:e.Bin.ID.toString()})),f(!1),W(e.OrderCode,e.Bin.ID.toString())})}).catch(async e=>{e?(N.httpError(e),e.status===p.a.NOT_FOUND?alert(a("key_883")):e.status===p.a.FORBIDDEN?alert(a("key_871")):e.status===p.a.CONFLICT?await e.json().then(e=>{alert(a("key_887")+" "+e.box)}).catch(e=>{N.promiseError(e),alert(a("key_416"))}):alert(a("key_303"))):(N.promiseError(e),alert(a("key_416"))),h(null),B(!1),V(!1),f(!1),S.resetValues(R,H),M()})}function M(){n(e=>Object(O.a)(Object(O.a)({},e),{},{value:""})),c.ref.current.focus()}function W(e,t){B(!0),fetch(r+"Warehouse/Bins/Orders"+o({code:e,binID:t}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{V(e)})}).catch(async e=>{e?(N.httpError(e),alert(a("key_303"))):(N.promiseError(e),alert(a("key_416")))}).finally(()=>{B(!1)})}return Object(s.useEffect)(()=>{l.setLoadPage(!0),fetch(r+"Warehouse/Bins"+o({languageCode:t.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{b(e)})}).catch(e=>{e?(N.httpError(e),alert(a("key_303"))):(N.promiseError(e),alert(a("key_416")))}).finally(()=>{l.setLoadPage(!1)}),z.clear()},[]),Object(s.useEffect)(()=>{var e;g.value&&W(x.value,g.value),null===(e=U.current)||void 0===e||e.focus()},[g.value]),Object(s.useEffect)(()=>{var e;d||(null===(e=U.current)||void 0===e||e.focus())},[d]),i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:a("key_895")}),i.a.createElement("div",{className:"famo-content"},i.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:e=>{e.preventDefault(),K()}},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},c.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},c,{isDisabled:d,set:n})))),i.a.createElement("input",{type:"submit",className:"hide",value:""})),i.a.createElement("div",{className:"famo-grid famo-buttons"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:d,onClick:e=>M()},i.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!t.androidApp&&i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:d,onClick:e=>K()},i.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),(d||u)&&i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:a("key_819")}),i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!d}),u&&i.a.createElement(i.a.Fragment,null,i.a.createElement("form",{className:"famo-grid famo-form-grid "+(d?"hide":""),noValidate:!0},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("div",{className:"famo-input-loader "+(A?"":"hide")},i.a.createElement("div",{className:"famo-loader"})),i.a.createElement("span",{className:"famo-text-11"},g.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},g,{set:y}),v.map((e,a)=>i.a.createElement("option",{key:a,value:e.ID},e.Code))),i.a.createElement("div",{className:"famo-input-message "+(L?"":"hide")},i.a.createElement("span",{className:"famo-text-15"},a("key_902"))))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},x.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,x))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},k.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,k))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},D.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,D)))),i.a.createElement("div",{className:"famo-grid famo-buttons "+(d?"hide":"")},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("button",{type:"button",ref:U,className:"famo-button famo-confirm-button",onClick:e=>(f(!0),void fetch(r+"Warehouse/Bins/Boxes"+o({}),E.addAuthorizationHeader({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({binID:g.value,code:u.Code})})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;h(null),B(!1),V(!1),f(!1),S.resetValues(R,H),M()}).catch(async e=>{e?(N.httpError(e),e.status===p.a.CONFLICT?await e.json().then(e=>{alert(a("key_887")+" "+e.box)}).catch(e=>{N.promiseError(e),alert(a("key_416"))}):alert(a("key_302"))):(N.promiseError(e),alert(a("key_416"))),f(!1)}))},i.a.createElement("span",{className:"famo-text-12"},a("key_220"))))))))))}function fe(e){const{t:a}=Object(j.a)(),[t,l]=G(),m=window.moment,[c,n]=Object(s.useState)({ref:i.a.createRef(),type:C.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),[d,f]=Object(s.useState)(!1),[u,h]=Object(s.useState)(null),[v,b]=Object(s.useState)([]),[g,y]=Object(s.useState)({ref:i.a.createRef(),type:C.Select,label:a("key_893"),className:"famo-input famo-text-10",name:"binID",value:""}),x=[g],w=[y],[k,_]=Object(s.useState)(null);function D(){f(!0);try{fetch(r+"Warehouse/Bins/Boxes"+o({code:c.value,languageCode:t.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{h(e)})}).catch(e=>{e?(N.httpError(e),alert(e.status===p.a.NOT_FOUND?a("key_883"):a("key_303"))):(N.promiseError(e),alert(a("key_416"))),h(null),P()})}catch(e){e instanceof Response?(N.httpError(e),alert(e.status===p.a.NOT_FOUND?a("key_883"):a("key_303"))):(N.promiseError(e),alert(a("key_416"))),h(null)}finally{f(!1)}}function P(){n(e=>Object(O.a)(Object(O.a)({},e),{},{value:""})),c.ref.current.focus()}return Object(s.useEffect)(()=>{l.setLoadPage(!0),fetch(r+"Warehouse/Bins"+o({languageCode:t.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{b(e)})}).catch(e=>{e?(N.httpError(e),alert(a("key_303"))):(N.promiseError(e),alert(a("key_416")))}).finally(()=>{l.setLoadPage(!1)}),z.clear()},[]),Object(s.useEffect)(()=>{S.areAnalyzed(x)&&(S.areValid(x)?(f(!0),fetch(r+"Warehouse/Bins/Boxes"+o(k===se.Box?{ID:u.ID}:{}),E.addAuthorizationHeader({method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({binID:g.value,orderCode:u.OrderCode})})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;h(null),f(!1),S.resetValues(x,w),P()}).catch(e=>{e?(N.httpError(e),alert(a("key_302"))):(N.promiseError(e),alert(a("key_416"))),f(!1)})):S.popUpAlerts(x,a),S.resetValidations(x,w))},x),Object(s.useEffect)(()=>{var e;if(v.length>0&&(null===(e=v[0])||void 0===e?void 0:e.ID)&&null!==u){const e=v[0].ID==u.Bin.ID?v[1].ID:v[0].ID;y(a=>Object(O.a)(Object(O.a)({},a),{},{value:e.toString()}))}},[v]),Object(s.useEffect)(()=>{null!==u&&fetch(r+"Warehouse/Bins"+o({order:u.OrderCode,languageCode:t.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{b(e)})}).catch(e=>{e?(N.httpError(e),alert(a("key_303"))):(N.promiseError(e),alert(a("key_416")))})},[u]),i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:a("key_905")}),i.a.createElement("div",{className:"famo-content"},i.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:e=>{e.preventDefault(),D()}},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},c.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},c,{isDisabled:d,set:n})))),i.a.createElement("input",{type:"submit",className:"hide",value:""})),i.a.createElement("div",{className:"famo-grid famo-buttons"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:d,onClick:e=>P()},i.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!t.androidApp&&i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:d,onClick:e=>D()},i.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),(d||u)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:a("key_312")}),i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!d}),u&&i.a.createElement("div",{className:"famo-grid famo-form-grid "+(d?"hide":"")},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},a("key_87"))),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},u.Code)))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},a("key_179"))),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},u.OrderCode)))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},a("key_85"))),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},u.CustomerName)))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},a("key_670"))),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},m(u.ExpectedShipmentDate).format("L"))))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},a("key_893"))),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},u.Bin.Code))))))),i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:a("key_898")}),i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!d}),u&&i.a.createElement("form",{className:"famo-grid famo-form-grid "+(d?"hide":""),noValidate:!0},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},g.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},g,{set:y}),i.a.createElement("option",{key:-1,value:""}),v.filter(e=>e.ID!==u.Bin.ID).map((e,a)=>i.a.createElement("option",{key:a,value:e.ID},e.Code)))))))),u&&i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-grid"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",disabled:d,onClick:e=>(_(se.Order),void S.analyze(x,w))},i.a.createElement("span",{className:"famo-text-12"},a("key_903"))),i.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",disabled:d,onClick:e=>(_(se.Box),void S.analyze(x,w))},i.a.createElement("span",{className:"famo-text-12"},a("key_904")))))))))}function Ee(e){const{t:a}=Object(j.a)(),[t,l]=G(),m=(window.numeral,window.moment),[c,n]=Object(s.useState)({ref:i.a.createRef(),type:C.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),[d,f]=Object(s.useState)(!1),[u,h]=Object(s.useState)(null),[v,b]=Object(s.useState)(null),[g,y]=Object(s.useState)([]),[x,w]=Object(s.useState)([]),[k,_]=Object(s.useState)({ref:i.a.createRef(),type:C.Select,label:a("key_893"),className:"famo-input famo-text-10",name:"binID",value:""}),D=[k],P=[_],[A,B]=Object(s.useState)(null);function L(){f(!0),fetch(r+"Warehouse/Bins/Boxes"+o({code:c.value,languageCode:t.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{h(e),f(!1)}),V()}).catch(e=>{e?(N.httpError(e),alert(e.status===p.a.NOT_FOUND?a("key_883"):a("key_303"))):(N.promiseError(e),alert(a("key_416"))),h(null),f(!1),S.resetValues(D,P),V()})}function V(){n(e=>Object(O.a)(Object(O.a)({},e),{},{value:""})),c.ref.current.focus()}function R(){u&&!g.some(e=>e.Code===u.Code)?(g.push(u),h(null)):u&&alert("A embalagem "+u.Code+" j\xe1 foi introduzida!")}return Object(s.useEffect)(()=>{l.setLoadPage(!0),fetch(r+"Warehouse/Bins"+o({languageCode:t.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{w(e)})}).catch(e=>{e?(N.httpError(e),alert(a("key_303"))):(N.promiseError(e),alert(a("key_416")))}).finally(()=>{l.setLoadPage(!1)}),z.clear()},[]),Object(s.useEffect)(()=>{S.areAnalyzed(D)&&(S.areValid(D)?(g.forEach(e=>{return t=e,f(!0),void fetch(r+"Warehouse/Bins/Boxes"+o({ID:t.ID}),E.addAuthorizationHeader({method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({binID:k.value,orderCode:t.OrderCode})})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;h(null),f(!1),S.resetValues(D,P),V()}).catch(e=>{e?(N.httpError(e),alert(a("key_302"))):(N.promiseError(e),alert(a("key_416"))),f(!1)});var t}),y([]),h(null),alert("As embalagens foram transferidas com sucesso!"),V()):S.popUpAlerts(D,a),S.resetValidations(D,P))},D),Object(s.useEffect)(()=>{null!=u&&(g.length<1?(b(u.OrderCode),R()):u.OrderCode===v?R():alert("A embalagem "+u.Code+" n\xe3o pertence \xe0 encomenda "+v+"!"))},[u]),Object(s.useEffect)(()=>{null!==v&&fetch(r+"Warehouse/Bins"+o({order:v,languageCode:t.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{w(e)})}).catch(e=>{e?(N.httpError(e),alert(a("key_303"))):(N.promiseError(e),alert(a("key_416")))})},[v]),Object(s.useEffect)(()=>{var e;x.length>0&&(null===(e=x[0])||void 0===e?void 0:e.ID)&&_(e=>Object(O.a)(Object(O.a)({},e),{},{value:x[0].ID.toString()}))},[x]),i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:"Transferir v\xe1rias embalagens"}),i.a.createElement("div",{className:"famo-content"},i.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:e=>{e.preventDefault(),L()}},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},c.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},c,{isDisabled:d,set:n})))),i.a.createElement("input",{type:"submit",className:"hide",value:""})),i.a.createElement("div",{className:"famo-grid famo-buttons"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:d,onClick:e=>V()},i.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!t.androidApp&&i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:d,onClick:e=>L()},i.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),!d&&g.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:"Detalhe da encomenda"}),i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!d}),i.a.createElement("div",{className:"famo-grid famo-form-grid "+(d?"hide":"")},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},a("key_179"))),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},g[0].OrderCode)))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},a("key_85"))),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},g[0].CustomerName)))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},a("key_670"))),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},m(g[0].ExpectedShipmentDate).format("L")))))))),i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!d}),i.a.createElement("div",{className:"famo-grid famo-content-grid "+(d?"hide":"")},i.a.createElement("div",{className:"famo-row famo-header-row"},i.a.createElement("div",{className:"famo-cell famo-col-1"},i.a.createElement("span",{className:"famo-text-11"},"Embalagens ("+g.length+")")),i.a.createElement("div",{className:"famo-cell famo-col-2"},i.a.createElement("span",{className:"famo-text-11"},"Bin"))),g.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-row famo-body-row"},i.a.createElement("div",{className:"famo-cell famo-col-1"},i.a.createElement("span",{className:"famo-text-10 "},e.Code)),i.a.createElement("div",{className:"famo-cell famo-col-2"},i.a.createElement("span",{className:"famo-text-10 "},e.Bin.Code)))))))),i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:a("key_898")}),i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!d}),g.length>0&&x.length>0&&i.a.createElement("form",{className:"famo-grid famo-form-grid "+(d?"hide":""),noValidate:!0},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},k.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},k,{set:_}),i.a.createElement("option",{key:-1,value:""}),x.map((e,a)=>i.a.createElement("option",{key:a,value:e.ID},e.Code)))))))),g.length>0&&x.length>0&&i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-grid"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("button",{type:"button",className:"famo-button famo-confirm-button",disabled:d,onClick:e=>(B(se.Box),void S.analyze(D,P))},i.a.createElement("span",{className:"famo-text-12"},a("key_904")))))))))}function ue(e){const{t:a}=Object(j.a)(),[t]=G(),l=window.moment,[m,c]=Object(s.useState)({ref:i.a.createRef(),type:C.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"boxCode",value:"",autoFocus:!0}),[n,d]=Object(s.useState)(!1),[f,u]=Object(s.useState)(null);function h(){d(!0),fetch(r+"Warehouse/Bins/Boxes"+o({code:m.value,languageCode:t.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{u(e),d(!1)})}).catch(e=>{e?(N.httpError(e),alert(e.status===p.a.NOT_FOUND?a("key_883"):a("key_303"))):(N.promiseError(e),alert(a("key_416"))),u(null),d(!1),v()})}function v(){c(e=>Object(O.a)(Object(O.a)({},e),{},{value:""})),m.ref.current.focus()}return Object(s.useEffect)(()=>{z.clear()},[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:a("key_891")}),i.a.createElement("div",{className:"famo-content"},i.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",noValidate:!0,onSubmit:e=>{e.preventDefault(),h()}},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},m.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},m,{isDisabled:n,set:c})))),i.a.createElement("input",{type:"submit",className:"hide",value:""})),i.a.createElement("div",{className:"famo-grid famo-buttons"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:n,onClick:e=>v()},i.a.createElement("span",{className:"famo-text-12"},a("key_829"))),!t.androidApp&&i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",disabled:n,onClick:e=>h()},i.a.createElement("span",{className:"famo-text-12"},a("key_323")))))))),(n||f)&&i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:a("key_819")}),i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!n}),f&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"famo-grid famo-form-grid "+(n?"hide":"")},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},a("key_87"))),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},f.Code)))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},a("key_179"))),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},f.OrderCode)))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},a("key_85"))),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},f.CustomerName)))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},a("key_670"))),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},l(f.ExpectedShipmentDate).format("L"))))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},a("key_893"))),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},f.Bin.Code))))),i.a.createElement("div",{className:"famo-grid famo-buttons "+(n?"hide":"")},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("button",{type:"button",className:"famo-button famo-cancel-button",onClick:e=>{window.confirm(a("key_880"))&&(d(!0),fetch(r+"Warehouse/Bins/Boxes"+o({ID:f.ID}),E.addAuthorizationHeader({method:"DELETE",headers:{"Content-Type":"application/json"}})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;u(null),d(!1),v()}).catch(e=>{e?(N.httpError(e),alert(a("key_302"))):(N.promiseError(e),alert(a("key_416"))),d(!1)}))}},i.a.createElement("span",{className:"famo-text-12"},a("key_489"))))))))))}function pe(e){const{t:a}=Object(j.a)(),[t,l]=G(),m=window.moment,c=window.numeral,[n,d]=Object(s.useState)([]),[f,u]=Object(s.useState)({ref:i.a.createRef(),type:C.Select,label:a("key_179"),className:"famo-input famo-text-10",name:"orderCode",value:""}),h=[f],v=[u],[b,g]=Object(s.useState)(!1),[y,x]=Object(s.useState)(!0),[w,k]=Object(s.useState)(null),[_,D]=Object(s.useState)({ref:i.a.createRef(),type:C.Text,label:a("key_819"),className:"famo-input famo-text-10",name:"searchBox",value:"",autoFocus:!0}),[A,B]=Object(s.useState)(null),L={standalone:!1,cornerRadius:10,innerRadius:120,padAngle:3,padding:{top:25,bottom:5}},V={lineHeight:3.5,x:200,y:210},R=[a("key_339"),a("key_900"),a("key_892")],[H,U]=Object(s.useState)([]),[K,M]=Object(s.useState)(!1),W=[a("key_87"),a("key_138"),a("key_899"),a("key_892"),""],[q,Y]=Object(s.useState)([[]]);function Q(){g(!0),fetch(r+"ERP/Orders"+o({code:f.value}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{k(e)}).catch(e=>{console.log(e)})}).catch(e=>{e?(N.httpError(e),e.status===p.a.NOT_FOUND?alert(a("key_884")):alert(a("key_303"))):(N.promiseError(e),alert(a("key_416"))),k(null),U([]),g(!1),S.resetValues(h,v)})}return Object(s.useEffect)(()=>{l.setLoadPage(!0),fetch(r+"ERP/Warehouse/Pending/Orders"+o({}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{d(e)})}).catch(e=>{e?(N.httpError(e),alert(a("key_303"))):(N.promiseError(e),alert(a("key_416")))}).finally(()=>{l.setLoadPage(!1)}),z.clear()},[]),Object(s.useEffect)(()=>{""!==f.value?Q():(k(null),U([]))},h),Object(s.useEffect)(()=>{w&&fetch(r+"Warehouse/Bins/Boxes"+o({orderCode:f.value,languageCode:t.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{U(e)})}).catch(e=>{e?(N.httpError(e),alert(e.status===p.a.NOT_FOUND?a("key_884"):a("key_303"))):(N.promiseError(e),alert(a("key_416")))}).finally(()=>{g(!1)})},[w]),i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:a("key_897")}),i.a.createElement("div",{className:"famo-content"},y&&i.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",hidden:!y,noValidate:!0},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},f.label)),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},f,{isDisabled:b||!y,set:u}),i.a.createElement("option",{key:""}),n.map((e,a)=>i.a.createElement("option",{key:a,value:e.Code},e.Code))))),i.a.createElement("input",{type:"submit",className:"hide",value:""})),!y&&i.a.createElement("form",{className:"famo-grid famo-form-grid famo-submit-form",hidden:y,noValidate:!0,onSubmit:e=>{e.preventDefault(),fetch(r+"Warehouse/Bins/Boxes"+o({code:_.value,languageCode:t.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{u(a=>Object(O.a)(Object(O.a)({},a),{},{value:e.OrderCode})),D(e=>Object(O.a)(Object(O.a)({},e),{},{value:""})),g(!1)})}).catch(async e=>{e?(N.httpError(e),e.status===p.a.NOT_FOUND?alert(a("key_883")):e.status===p.a.FORBIDDEN?alert(a("key_871")):e.status===p.a.CONFLICT?await e.json().then(e=>{alert(a("key_887")+" "+e.box)}).catch(e=>{N.promiseError(e),alert(a("key_416"))}):alert(a("key_303"))):(N.promiseError(e),alert(a("key_416"))),D(e=>Object(O.a)(Object(O.a)({},e),{},{value:""})),B(null),g(!1)})}},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},"Embalagem")),i.a.createElement("div",{className:"famo-cell"},i.a.createElement(T,Object.assign({},_,{isDisabled:b||y,set:D}))))),i.a.createElement("div",{className:"famo-grid famo-buttons "+(b?"hide":"")},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button",onClick:()=>{x(!y)}},i.a.createElement("span",{className:"famo-text-12"},y?"Embalagem":"Encomenda"))))))),(b||w)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement(I,{text:a("key_179")}),i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!b}),w&&i.a.createElement("div",{className:"famo-grid famo-form-grid "+(b?"hide":"")},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},a("key_179"))),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},w.Code)))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},a("key_85"))),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},w.CustomerName)))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell famo-input-label"},i.a.createElement("span",{className:"famo-text-11"},a("key_670"))),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("div",{className:"famo-input"},i.a.createElement("span",{className:"famo-text-10"},m(w.ExpectedShipmentDate).format("L")))))))),i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!b}),w&&i.a.createElement("div",{className:"container "+(b?"hide":"")},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12 col-lg-4"},i.a.createElement("div",{className:"famo-grid"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-11"},a("key_889")))),i.a.createElement("div",{className:"pda-victory-container"},i.a.createElement("svg",{width:400,height:400,viewBox:"0, 0, 400, 400"},i.a.createElement(me.a,Object.assign({},L,{data:[{x:!0,y:H.filter(e=>!e.IsPrinted).length},{x:!1,y:H.filter(e=>e.IsPrinted).length}],colorScale:["#ff3333","#bfbfbf"],labels:()=>null})),i.a.createElement(re.a,Object.assign({},V,{textAnchor:"middle",verticalAnchor:"middle",text:[c(H.filter(e=>!e.IsPrinted).length/H.length).format("0.00%"),c(H.filter(e=>!e.IsPrinted).length).format("0,0")+"/"+c(H.length).format("0,0")],style:[{fill:"#ff3333"}]}))))),i.a.createElement("div",{className:"col-12 col-lg-4"},i.a.createElement("div",{className:"famo-grid"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-11"},a("key_886")))),i.a.createElement("div",{className:"pda-victory-container"},i.a.createElement("svg",{width:400,height:400,viewBox:"0, 0, 400, 400"},i.a.createElement(me.a,Object.assign({},L,{data:[{x:!0,y:H.filter(e=>e.IsPrinted&&-1===e.Bin.ID).length},{x:!1,y:H.filter(e=>!(e.IsPrinted&&-1===e.Bin.ID)).length}],colorScale:["#3333ff","#bfbfbf"],labels:()=>null})),i.a.createElement(re.a,Object.assign({},V,{textAnchor:"middle",verticalAnchor:"middle",text:[c(H.filter(e=>e.IsPrinted&&-1===e.Bin.ID).length/H.length).format("0.00%"),c(H.filter(e=>e.IsPrinted&&-1===e.Bin.ID).length).format("0,0")+"/"+c(H.length).format("0,0")],style:[{fill:"#3333ff"}]}))))),i.a.createElement("div",{className:"col-12 col-lg-4"},i.a.createElement("div",{className:"famo-grid"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-11"},a("key_888")))),i.a.createElement("div",{className:"pda-victory-container"},i.a.createElement("svg",{width:400,height:400,viewBox:"0, 0, 400, 400"},i.a.createElement(me.a,Object.assign({},L,{data:[{x:!0,y:H.filter(e=>e.IsPrinted&&-1!==e.Bin.ID).length},{x:!1,y:H.filter(e=>!(e.IsPrinted&&-1!==e.Bin.ID)).length}],colorScale:["#33ff33","#bfbfbf"],labels:()=>null})),i.a.createElement(re.a,Object.assign({},V,{textAnchor:"middle",verticalAnchor:"middle",text:[c(H.filter(e=>e.IsPrinted&&-1!==e.Bin.ID).length/H.length).format("0.00%"),c(H.filter(e=>e.IsPrinted&&-1!==e.Bin.ID).length).format("0,0")+"/"+c(H.length).format("0,0")],style:[{fill:"#33ff33"}]}))))))))),i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement(F,{hide:!b}),w&&i.a.createElement("div",{className:"famo-grid famo-content-grid warehouse-boxes "+(b?"hide":"")},i.a.createElement("div",{className:"famo-row famo-header-row"},R.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},i.a.createElement("span",{className:"famo-text-11"},e)))),Object.entries(H.sort((e,a)=>e.ProductCode>a.ProductCode?1:-1).reduce((e,a)=>(e[a.ProductCode]=e[a.ProductCode]||[],e[a.ProductCode].push(a),e),{})).map(e=>{let[l,m]=e;const n=m;return Object.entries(n.sort((e,a)=>e.Bin.Code>a.Bin.Code?-1:1).reduce((e,a)=>(e[a.Bin.Code]=e[a.Bin.Code]||[],e[a.Bin.Code].push(a),e),{})).map((e,m)=>{let[s,d]=e;const f=d;return i.a.createElement("div",{key:m,className:"famo-row famo-body-row",style:{cursor:"pointer"},onClick:e=>function(e,l,m){fetch(r+"ERP/Shipments/Products/Components"+o({orderCode:m,orderLine:0,productCode:l,languageCode:t.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{M(!0),Y(e)})}).catch(e=>{e?(N.httpError(e),alert(a("key_303"))):(N.promiseError(e),alert(a("key_416")))}).finally(()=>{})}(e.currentTarget,l,w.Code)},i.a.createElement("div",{className:"famo-cell famo-col-1"},i.a.createElement("span",{className:"famo-text-10"},l)),i.a.createElement("div",{className:"famo-cell famo-col-2"},i.a.createElement("span",{className:"famo-text-10"},c(f.length).format("0,0"),"/",c(n.length).format("0,0"))),i.a.createElement("div",{className:"famo-cell famo-col-3"},i.a.createElement("span",{className:"famo-text-10 "+("null"===s?"famo-color-yellow":"")},"null"===s?"n/a":s)))})}))))),i.a.createElement(P,{visible:K,setVisible:M},q.filter(e=>e.length>0).map((e,t)=>{const l=e[0].ProductCode,m=e[0].ProductDescription,o=[...e].sort((e,a)=>{var t,l;const m=(null===(t=e.Bin)||void 0===t?void 0:t.Code)||"",o=(null===(l=a.Bin)||void 0===l?void 0:l.Code)||"";return m.localeCompare(o)});return i.a.createElement("section",{key:t,className:"famo-wrapper"},i.a.createElement(I,{text:l+" - "+m}),i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid famo-content-grid expedition-components"},i.a.createElement("div",{className:"famo-row famo-header-row"},W.map((e,a)=>i.a.createElement("div",{key:a,className:"famo-cell famo-col-"+(a+1)},i.a.createElement("span",{className:"famo-text-11"},e)))),o.map((e,t)=>i.a.createElement("div",{key:t,className:"famo-row famo-body-row"},i.a.createElement("div",{className:"famo-cell famo-col-1"},i.a.createElement("span",{className:"famo-text-10"},e.ComponentCode)),i.a.createElement("div",{className:"famo-cell famo-col-2"},i.a.createElement("span",{className:"famo-text-10 "+(e.ComponentDescription?"":"famo-color-yellow")},e.ComponentDescription?e.ComponentDescription:a("key_237"))),i.a.createElement("div",{className:"famo-cell famo-col-3"},i.a.createElement("span",{className:"famo-text-10"},e.BoxCode)),i.a.createElement("div",{className:"famo-cell famo-col-4"},i.a.createElement("span",{className:"famo-text-10 "+(-1===e.Bin.ID?"famo-color-yellow":"")},-1===e.Bin.ID?"n/a":e.Bin.Code)),i.a.createElement("div",{className:"famo-cell famo-col-5"},i.a.createElement("span",{className:"fas "+(e.BoxPrinted?"fa-check famo-color-green":"fa-times famo-color-red")})))))))})))}var Ne=Object(V.j)((function(e){return i.a.createElement(V.e,null,i.a.createElement(V.c,{exact:!0,path:"/Warehouse",render:e=>i.a.createElement(ie,e)}),i.a.createElement(V.c,{exact:!0,path:"/Warehouse/Boxes/Add",render:e=>i.a.createElement(de,e)}),i.a.createElement(V.c,{exact:!0,path:"/Warehouse/Boxes/Transfer",render:e=>i.a.createElement(fe,e)}),i.a.createElement(V.c,{exact:!0,path:"/Warehouse/Boxes/TransferMany",render:e=>i.a.createElement(Ee,e)}),i.a.createElement(V.c,{exact:!0,path:"/Warehouse/Boxes/Delete",render:e=>i.a.createElement(ue,e)}),i.a.createElement(V.c,{exact:!0,path:"/Warehouse/Orders",render:e=>i.a.createElement(pe,e)}),i.a.createElement(V.c,{path:"/Warehouse/*",render:()=>i.a.createElement(V.b,{to:"/Warehouse"})}))})),he=t(158);var ve=Object(V.j)((function(e){const{location:a}=e,{t:t}=Object(j.a)(),[l,m]=G(),c=window.moment,n=window.numeral,d=B.a.parse(a.search),f=d.workCenterID?d.workCenterID:0,u=d.machineCenters?d.machineCenters:null,[h,v]=Object(s.useState)([]),[b,g]=Object(s.useState)([]),[y,x]=Object(s.useState)(),[w,O]=Object(s.useState)([]),[k,C]=Object(s.useState)([]),[_,S]=Object(s.useState)([]),[D,T]=Object(s.useState)(!0),[P,A]=Object(s.useState)(c()),I={standalone:!1,cornerRadius:0,innerRadius:0,padAngle:0,padding:{top:25,bottom:5}},[L,F]=Object(s.useState)(null),[V,z]=Object(s.useState)(0);function R(){return fetch(r+"Productivity/TVChart"+o({machineCenters:u,workCenterID:f,weeks:0}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{v(e)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}function H(){return fetch(r+"Productivity/TVChart"+o({machineCenters:u,workCenterID:f,weeks:2}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{g(e)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}function U(){return fetch(r+"Productivity/Indicators"+o({machineCenters:u,workCenterID:f,weeks:0}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{O(e)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}function K(){return fetch(r+"Productivity/Indicators"+o({machineCenters:u,workCenterID:f,weeks:2}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{C(e)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}function M(){return fetch(r+"Productivity/TVLabel"+o({machineCenters:u,workCenterID:f}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{x(e[0])})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}function W(){return fetch(r+"Productivity/TVProductionOrders"+o({machineCenters:u,workCenterID:f}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{S(e)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}function q(){return fetch(r+"TV/Messages"+o({date:c().format("YYYY-MM-DDTHH:mm:ss"),languageCode:l.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{F(e),z(0)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}return Object(le.a)(()=>{T(!D)},15e3),Object(le.a)(()=>{A(c())},1e3),Object(le.a)(()=>{Promise.all([R(),H(),U(),K(),M(),W()])},3e4),Object(le.a)(()=>{q()},18e5),Object(le.a)(()=>{L&&L.length>0&&z(V+1===L.length?0:V+1)},5e3),Object(s.useEffect)(()=>{m.setLoadPage(!0),Promise.all([R(),H(),q(),U(),K(),M(),W()]).finally(()=>{m.setLoadPage(!1)})},[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"container famo-wrapper"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12 col-xl-2 "},i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid tv-famo-logo"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("img",{src:"http://www.famo-code.com/Content/Images/logo-famo-black.png",alt:"FAMO"})))))),i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid rating-panel"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-23"},P.format("L"))))))),i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid rating-panel"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-23"},P.format("LTS")))))))),i.a.createElement("div",{className:"col-12 col-xl-10"},i.a.createElement("section",{className:"famo-wrapper tv-dark-wrapper"},i.a.createElement("div",{className:"famo-content"},y&&i.a.createElement("div",{className:"famo-grid rating-panel"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-23 famo-text-60"},y)))))),i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"row indicators-row"},i.a.createElement("div",{className:"col-6 text-center "+(D?"":"indicators-right")},h&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"famo-grid"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-11"},"Ordens produ\xe7\xe3o - 2 Semanas"))),i.a.createElement("svg",{width:400,height:400},i.a.createElement(me.a,Object.assign({},I,{data:[{x:!0,y:b[0]},{x:!1,y:b[1]}],colorScale:["#0aae00","#FF0000"],labels:()=>null}))))),i.a.createElement("div",{className:"col-6 "+(D?"":"indicators-right")},w&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"famo-grid"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-11"},"Indicadores - 2 semanas"))),i.a.createElement("div",{className:"famo-grid mt-20"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10"},"Ordens produ\xe7\xe3o")),i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("span",{className:"famo-text-10"},n(k[0]).format("0,0")))),i.a.createElement("div",{className:"famo-row mt-20"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10"},"Encomendas")),i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("span",{className:"famo-text-10"},n(k[1]).format("0,0")))),i.a.createElement("div",{className:"famo-row mt-20"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10"},"MRPs")),i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("span",{className:"famo-text-10"},n(k[2]).format("0,0")))),i.a.createElement("div",{className:"famo-row mt-20"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10"},"Pe\xe7as")),i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("span",{className:"famo-text-10"},n(k[3]).format("0,0")))),i.a.createElement("div",{className:"famo-row mt-20"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10 famo-color-green"},"No prazo")),i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("span",{className:"famo-text-10 famo-color-green"},n(b[0]).format("0,0")))),i.a.createElement("div",{className:"famo-row mt-20"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10 famo-color-red"},"Atraso")),i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("span",{className:"famo-text-10 famo-color-red"},n(b[1]).format("0,0"))))))),i.a.createElement("div",{className:"col-6 text-center "+(D?"":"indicators-right")},h&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"famo-grid"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-11"},"Ordens produ\xe7\xe3o - Total"))),i.a.createElement("svg",{width:400,height:400},i.a.createElement(me.a,Object.assign({},I,{data:[{x:!0,y:h[0]},{x:!1,y:h[1]}],colorScale:["#0aae00","#FF0000"],labels:()=>null}))))),i.a.createElement("div",{className:"col-6 "+(D?"":"indicators-right")},w&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"famo-grid"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-11"},"Indicadores - Total"))),i.a.createElement("div",{className:"famo-grid mt-20"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10"},"Ordens produ\xe7\xe3o")),i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("span",{className:"famo-text-10"},n(w[0]).format("0,0")))),i.a.createElement("div",{className:"famo-row mt-20"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10"},"Encomendas")),i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("span",{className:"famo-text-10"},n(w[1]).format("0,0")))),i.a.createElement("div",{className:"famo-row mt-20"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10"},"MRPs")),i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("span",{className:"famo-text-10"},n(w[2]).format("0,0")))),i.a.createElement("div",{className:"famo-row mt-20"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10"},"Pe\xe7as")),i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("span",{className:"famo-text-10"},n(w[3]).format("0,0")))),i.a.createElement("div",{className:"famo-row mt-20"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10 famo-color-green"},"No prazo")),i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("span",{className:"famo-text-10 famo-color-green"},n(h[0]).format("0,0")))),i.a.createElement("div",{className:"famo-row mt-20"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10 famo-color-red"},"Atraso")),i.a.createElement("div",{className:"famo-cell text-right"},i.a.createElement("span",{className:"famo-text-10 famo-color-red"},n(h[1]).format("0,0")))))))))),(_[1]>0||_[3]>0)&&i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content mh-320"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-6"},_&&_[4]>=0&&_[1]>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"famo-grid"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-11"},"Produ\xe7\xe3o di\xe1ria"))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-6"},i.a.createElement("svg",{viewBox:"0 0 550 550"},i.a.createElement(me.a,{standalone:!1,animate:{duration:1e3},data:[{x:1,y:_[4]},{x:2,y:100-_[4]}],innerRadius:120,cornerRadius:20,labels:()=>null,style:{data:{fill:e=>{let{datum:a}=e;const t=a.y>60?"green":"red";return 1===a.x?t:"transparent"}}}}),i.a.createElement(he.a,{duration:1e3,data:[{x:1,y:_[4]},{x:2,y:100-_[4]}]},e=>i.a.createElement(re.a,{textAnchor:"middle",verticalAnchor:"middle",x:200,y:200,text:n(_[4]).format("0,0")+"%",style:{fontSize:45,fontFamily:"Noto Sans"}})))),i.a.createElement("div",{className:"col-6"},i.a.createElement("div",{className:"famo-grid mt-20"},i.a.createElement("div",{className:"famo-row "},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10"},"Total")),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10"},n(_[0]+_[1]).format("0,0")))),i.a.createElement("div",{className:"famo-row mt-20"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10 famo-color-green"},"Terminadas")),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10 famo-color-green"},n(_[1]).format("0,0")))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10 famo-color-red"},"Em falta")),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10 famo-color-red"},n(_[0]).format("0,0"))))))))),i.a.createElement("div",{className:"col-6"},w&&_[5]&&_[3]>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"famo-grid"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-11"},"Produ\xe7\xe3o semanal"))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-6"},i.a.createElement("svg",{viewBox:"0 0 550 550"},i.a.createElement(me.a,{standalone:!1,animate:{duration:1e3},data:[{x:1,y:_[5]},{x:2,y:100-_[5]}],innerRadius:120,cornerRadius:20,labels:()=>null,style:{data:{fill:e=>{let{datum:a}=e;const t=a.y>60?"green":"red";return 1===a.x?t:"transparent"}}}}),i.a.createElement(he.a,{duration:1e3,data:[{x:1,y:_[5]},{x:2,y:100-_[5]}]},e=>i.a.createElement(re.a,{textAnchor:"middle",verticalAnchor:"middle",x:200,y:200,text:n(_[5]).format("0,0")+"%",style:{fontSize:45,fontFamily:"Noto Sans"}})))),i.a.createElement("div",{className:"col-6"},i.a.createElement("div",{className:"famo-grid mt-20"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10"},"Total")),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10"},n(_[2]+_[3]).format("0,0")))),i.a.createElement("div",{className:"famo-row mt-20"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10 famo-color-green"},"Terminadas")),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10 famo-color-green"},n(_[3]).format("0,0")))),i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10 famo-color-red"},"Em falta")),i.a.createElement("div",{className:"famo-cell"},i.a.createElement("span",{className:"famo-text-10 famo-color-red"},n(_[2]).format("0,0"))))))))))))))),i.a.createElement("section",{className:"tv-footer"},i.a.createElement("div",{className:"container tv-messages"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12 col-xl-2"},i.a.createElement("div",{className:"famo-grid tv-message-type"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell"},L&&L.length>0&&i.a.createElement("span",{className:"tv-text-2"},L[V].Type.Label))))),i.a.createElement("div",{className:"col-12 col-xl-10"},i.a.createElement("div",{className:"famo-grid tv-message-content"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell"},L&&L.map((e,a)=>i.a.createElement(te.a,{key:a,in:a===V,timeout:250,classNames:"transition"},i.a.createElement("span",{className:"tv-text-3 "+(a!==V?"hide":"")},e.Text)))))))))))})),be=t(591),ge=t(592),ye=t(314),xe=t(594);var we=Object(V.j)((function(e){const{location:a}=e,{t:t}=Object(j.a)(),[l,m]=G(),c=window.moment,[n,d]=Object(s.useState)([]),[f,u]=Object(s.useState)(0),[h,v]=Object(s.useState)([]),[b,g]=Object(s.useState)(1),[y,x]=Object(s.useState)(c()),[w,O]=Object(s.useState)(),[k,C]=Object(s.useState)(0),[_,S]=Object(s.useState)(null),[D,T]=Object(s.useState)(0);function P(){return fetch(r+"Painting/TVChainItemQuantities"+o({}),E.addAuthorizationHeader({method:"GET"})).then(e=>e.json()).then(e=>{d(e)}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}function A(){return fetch(r+"Painting/TVPaintingColor"+o({}),E.addAuthorizationHeader({method:"GET"})).then(e=>e.json()).then(e=>{O(e)}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}function B(){return fetch(r+"TV/Messages"+o({date:c().format("YYYY-MM-DDTHH:mm:ss"),languageCode:l.authUser.Language.Code}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(e=>{S(e),T(0)})}).catch(e=>{e?(N.httpError(e),alert(t("key_303"))):(N.promiseError(e),alert(t("key_416")))})}return Object(s.useEffect)(()=>{u(Math.max(...n.map(e=>e.Quantity))),n.length%10===0?g(Math.floor(n.length/10)):g(Math.floor(n.length/10)+1)},[n]),Object(s.useEffect)(()=>{const e=Array.from({length:b},(e,a)=>a+1);v(e)},[b]),Object(le.a)(()=>{x(c())},1e3),Object(le.a)(()=>{Promise.all([P(),A()])},15e3),Object(le.a)(()=>{B()},18e5),Object(le.a)(()=>{_&&_.length>0&&T(D+1===_.length?0:D+1)},5e3),Object(s.useEffect)(()=>{const e=setTimeout(()=>{C((k+1)%h.length)},1e4);return()=>{clearTimeout(e)}},[k,h.length]),Object(s.useEffect)(()=>{m.setLoadPage(!0),Promise.all([P(),A(),B()]).finally(()=>{m.setLoadPage(!1)})},[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"container famo-wrapper"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12 col-xl-2 "},i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid tv-famo-logo"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("img",{src:"http://www.famo-code.com/Content/Images/logo-famo-black.png",alt:"FAMO"})))))),i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid rating-panel"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-23"},y.format("L"))))))),i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid rating-panel"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-23"},y.format("LTS")))))))),i.a.createElement("div",{className:"col-12 col-xl-10"},i.a.createElement("section",{className:"famo-wrapper tv-dark-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"famo-grid rating-panel"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell text-center"},i.a.createElement("span",{className:"famo-text-23 famo-text-60"},"Pintura - Pe\xe7as em carga")))))),h.length>0&&w&&i.a.createElement("section",{className:"famo-wrapper"},i.a.createElement("div",{className:"famo-content"},i.a.createElement("div",{className:"row painting-carousel-container"},h.map((e,a)=>i.a.createElement("div",{key:e,className:"painting-carousel-item col-12 ".concat(k===a?"active":"")},i.a.createElement(be.a,{domainPadding:20,horizontal:!0,padding:{top:10,bottom:50,left:60,right:20},style:{parent:{width:"90%",height:"800px"}}},i.a.createElement(ge.a,{data:n.sort((e,a)=>a.Quantity-e.Quantity).slice(10*(e-1),10*e).sort((e,a)=>e.Quantity-a.Quantity),x:"Color.CrossReference",y:"Quantity",labelComponent:i.a.createElement(re.a,{dx:20,textAnchor:"end",style:{fontFamily:"Noto Sans",fontSize:8,fill:"black"}}),barWidth:15,containerComponent:i.a.createElement(ye.a,null),style:{data:{fill:e=>{let{datum:a}=e;return null!=a.Color.Hexadecimal?a.Color.Hexadecimal:"#FFFFFF"},width:15,stroke:e=>{let{datum:a}=e;return a.Color.CrossReference==w?"red":"black"},strokeWidth:e=>{let{datum:a}=e;return a.Color.CrossReference==w?1.5:.2}}}}),i.a.createElement(xe.a,{dependentAxis:!0,label:"Quantidade",style:{tickLabels:{fontSize:10,fontFamily:"Noto Sans"},axisLabel:{fontFamily:"Noto Sans",fontSize:12}}}),i.a.createElement(xe.a,{label:"Cor",axisLabelComponent:i.a.createElement(re.a,{x:45,y:20,angle:0}),style:{tickLabels:{fontFamily:"Noto Sans",fontSize:10},axisLabel:{fontFamily:"Noto Sans",fontSize:14}}})))))))))),i.a.createElement("section",{className:"tv-footer"},i.a.createElement("div",{className:"container tv-messages"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12 col-xl-2"},i.a.createElement("div",{className:"famo-grid tv-message-type"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell"},_&&_.length>0&&i.a.createElement("span",{className:"tv-text-2"},_[D].Type.Label))))),i.a.createElement("div",{className:"col-12 col-xl-10"},i.a.createElement("div",{className:"famo-grid tv-message-content"},i.a.createElement("div",{className:"famo-row"},i.a.createElement("div",{className:"famo-cell"},_&&_.map((e,a)=>i.a.createElement(te.a,{key:a,in:a===D,timeout:250,classNames:"transition"},i.a.createElement("span",{className:"tv-text-3 "+(a!==D?"hide":"")},e.Text)))))))))))})),Oe=t(219);function ke(e){const a=Object(V.h)(),t=Object(V.i)(),{t:l}=Object(j.a)(),[m,n]=G(),[d,f]=Object(s.useState)(!0),[u,h]=Object(s.useState)(!1);let v=-1,b=null;return Object(s.useEffect)(()=>{f(!0),fetch(r+"Authentication/Session/User"+o({}),E.addAuthorizationHeader({method:"GET"})).then(async e=>{if(!e.ok||e.status!==p.a.OK)throw e;await e.json().then(async e=>{await x(e,n,l)})}).catch(async e=>{await w.autoSignIn(n,l),e?N.httpError(e):N.promiseError(e)}).finally(()=>{f(!1)})},[]),Object(s.useEffect)(()=>{h("/"!==t.pathname&&"/TV"!==t.pathname&&"/TVChart"!==t.pathname&&"/TVPainting"!==t.pathname&&"/TVReception"!==t.pathname&&"/TVBoxing"!==t.pathname)},[t.pathname]),i.a.createElement(i.a.Fragment,null,!d&&i.a.createElement(Oe.a,{trackMouse:!0,trackTouch:!1,onSwiping:e=>function(e){c()||"Up"!==e.dir&&"Down"!==e.dir||(-1===v&&(b=e.event.composedPath().some(e=>{const a=e.className;return!!a&&-1!==a.indexOf("famo-modal")})?document.querySelector(".famo-modal"):document.querySelector("body"),v=b.scrollTop),b.scrollTop=v+e.deltaY)}(e),onSwiped:e=>(b=null,void(v=-1))},i.a.createElement("section",{className:"famo-body "+("/TV"===t.pathname||"/TVReception"===t.pathname||"/TVBoxing"===t.pathname||"/TVChart"===t.pathname||"/TVPainting"===t.pathname?"tv-body":"")+("/TVChart"===t.pathname?" ov-y-hidden ":"")},i.a.createElement(V.e,null,i.a.createElement(V.c,{exact:!0,path:"/",render:()=>i.a.createElement(q,null)}),i.a.createElement(V.c,{path:"/TV",render:()=>i.a.createElement(oe,null)}),i.a.createElement(V.c,{path:"/TVReception",render:()=>i.a.createElement(ce,null)}),i.a.createElement(V.c,{path:"/TVBoxing",render:()=>i.a.createElement(ne,null)}),i.a.createElement(V.c,{path:"/Warehouse",render:()=>i.a.createElement(Ne,null)}),i.a.createElement(V.c,{path:"/Expedition",render:()=>i.a.createElement(M,null)}),i.a.createElement(V.c,{path:"/Pallets",render:()=>i.a.createElement(ee,null)}),i.a.createElement(V.c,{path:"/Inventory",render:()=>i.a.createElement(Q,null)}),i.a.createElement(V.c,{path:"/ReceiveOT",render:()=>i.a.createElement(X,null)}),i.a.createElement(V.c,{path:"/TVChart",render:()=>i.a.createElement(ve,null)}),i.a.createElement(V.c,{path:"/TVPainting",render:()=>i.a.createElement(we,null)})),!m.androidApp&&u&&i.a.createElement("button",{type:"button",className:"famo-button famo-normal-button pda-back-button "+(m.loadPage?"hide":""),onClick:e=>a.goBack()},i.a.createElement("span",{className:"fas fa-arrow-left"})))),i.a.createElement(L,{hide:!d&&!m.loadPage}))}var je=function(e){return i.a.createElement(W.a,{basename:"/"},i.a.createElement(ke,e))};async function Ce(){try{document.getElementById("pda-footer").innerText=(new Date).getFullYear()+" \xa9 FAMO - PDA",f.a.render(i.a.createElement(s.Suspense,{fallback:i.a.createElement(L,{hide:!1})},i.a.createElement(je,null)),document.getElementById("root"))}catch(e){alert("Ouch!! Restart app!")}}window.cordova?document.addEventListener("deviceready",Ce,!1):Ce()}},[[349,1,2]]]);